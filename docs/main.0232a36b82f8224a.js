"use strict";(self.webpackChunksimple_crm=self.webpackChunksimple_crm||[]).push([[179],{2011:(_t,Re,F)=>{F.d(Re,{Dh:()=>ge,GT:()=>we,cc:()=>Ve,hO:()=>Ge,on:()=>W,pX:()=>fe,xv:()=>Ee});var u=F(4650),H=F(127),P=F(5813);_t=F.hmd(_t);const ue=["ngOnDestroy"],fe=(be,nt,rt,Le={})=>new Proxy(be,{get:(Fe,Ae)=>rt.runOutsideAngular(()=>{var Ke;if(be[Ae])return!(null===(Ke=Le?.spy)||void 0===Ke)&&Ke.get&&Le.spy.get(Ae,be[Ae]),be[Ae];if(ue.indexOf(Ae)>-1)return()=>{};const ce=nt.toPromise().then(pe=>{const Ce=pe&&pe[Ae];return"function"==typeof Ce?Ce.bind(pe):Ce&&Ce.then?Ce.then(te=>rt.run(()=>te)):rt.run(()=>Ce)});return new Proxy(()=>{},{get:(pe,Ce)=>ce[Ce],apply:(pe,Ce,te)=>ce.then(ie=>{var _e;const de=ie&&ie(...te);return!(null===(_e=Le?.spy)||void 0===_e)&&_e.apply&&Le.spy.apply(Ae,te,de),de})})})}),we=(be,nt)=>{nt.forEach(rt=>{Object.getOwnPropertyNames(rt.prototype||rt).forEach(Le=>{Object.defineProperty(be.prototype,Le,Object.getOwnPropertyDescriptor(rt.prototype||rt,Le))})})};class oe{constructor(nt){return nt}}const ge=new u.OlP("angularfire2.app.options"),Ee=new u.OlP("angularfire2.app.name");function W(be,nt,rt){const Fe="object"==typeof rt&&rt||{};Fe.name=Fe.name||"string"==typeof rt&&rt||"[DEFAULT]";const Ke=H.Z.apps.filter(ce=>ce&&ce.name===Fe.name)[0]||nt.runOutsideAngular(()=>H.Z.initializeApp(be,Fe));try{JSON.stringify(be)!==JSON.stringify(Ke.options)&&q("error",`${Ke.name} Firebase App already initialized with different options${_t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new oe(Ke)}const q=(be,...nt)=>{(0,u.X6Q)()&&typeof console<"u"&&console[be](...nt)},ne={provide:oe,useFactory:W,deps:[ge,u.R0b,[new u.FiY,Ee]]};let Ge=(()=>{class be{constructor(rt){H.Z.registerVersion("angularfire",P.q4.full,"core"),H.Z.registerVersion("angularfire",P.q4.full,"app-compat"),H.Z.registerVersion("angular",u.q4F.full,rt.toString())}static initializeApp(rt,Le){return{ngModule:be,providers:[{provide:ge,useValue:rt},{provide:Ee,useValue:Le}]}}}return be.\u0275fac=function(rt){return new(rt||be)(u.LFG(u.Lbi))},be.\u0275mod=u.oAB({type:be}),be.\u0275inj=u.cJS({providers:[ne]}),be})();function Ve(be,nt,rt,Le,Fe){const[,Ae,Ke]=globalThis.\u0275AngularfireInstanceCache.find(ce=>ce[0]===be)||[];if(Ae)return function Se(be,nt){try{return be.toString()===nt.toString()}catch{return be===nt}}(Fe,Ke)||(Ie("error",`${nt} was already initialized on the ${rt} Firebase App with different settings.${at?" You may need to reload as Firebase is not HMR aware.":""}`),Ie("warn",{is:Fe,was:Ke})),Ae;{const ce=Le();return globalThis.\u0275AngularfireInstanceCache.push([be,ce,Fe]),ce}}const at=!!_t.hot,Ie=(be,...nt)=>{(0,u.X6Q)()&&typeof console<"u"&&console[be](...nt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(_t,Re,F)=>{F.d(Re,{q4:()=>ta,iC:()=>Wn,HU:()=>Kt,vb:()=>ys,JM:()=>pm,u3:()=>ra});var u=F(4650),H=F(5867),P=F(5861),ue=F(9681),fe=F(2090),we=F(4859),oe=F(1877),ge=F(8766);const Ee="@firebase/installations",W="0.5.12",ne=`w:${W}`,Ge="FIS_v2",nt=new fe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function rt(S){return S instanceof fe.ZR&&S.code.includes("request-failed")}function Le({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function Fe(S){return{token:S.token,requestStatus:2,expiresIn:ie(S.expiresIn),creationTime:Date.now()}}function Ae(S,T){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,P.Z)(function*(S,T){const U=(yield T.json()).error;return nt.create("request-failed",{requestName:S,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function ce({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function pe(S,{refreshToken:T}){const R=ce(S);return R.append("Authorization",function _e(S){return`${Ge} ${S}`}(T)),R}function Ce(S){return te.apply(this,arguments)}function te(){return(te=(0,P.Z)(function*(S){const T=yield S();return T.status>=500&&T.status<600?S():T})).apply(this,arguments)}function ie(S){return Number(S.replace("s","000"))}function de(S,T){return He.apply(this,arguments)}function He(){return(He=(0,P.Z)(function*({appConfig:S,heartbeatServiceProvider:T},{fid:R}){const U=Le(S),ee=ce(S),he=T.getImmediate({optional:!0});if(he){const Vt=yield he.getHeartbeatsHeader();Vt&&ee.append("x-firebase-client",Vt)}const Ze={method:"POST",headers:ee,body:JSON.stringify({fid:R,authVersion:Ge,appId:S.appId,sdkVersion:ne})},Tt=yield Ce(()=>fetch(U,Ze));if(Tt.ok){const Vt=yield Tt.json();return{fid:Vt.fid||R,registrationStatus:2,refreshToken:Vt.refreshToken,authToken:Fe(Vt.authToken)}}throw yield Ae("Create Installation",Tt)})).apply(this,arguments)}function $e(S){return new Promise(T=>{setTimeout(T,S)})}const rn=/^[cdef][\w-]{21}$/;function Qe(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const R=function En(S){return function wt(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return rn.test(R)?R:""}catch{return""}}function Kn(S){return`${S.appName}!${S.appId}`}const cn=new Map;function sn(S,T){const R=Kn(S);Kr(R,T),function Js(S,T){const R=function Vn(){return!Zr&&"BroadcastChannel"in self&&(Zr=new BroadcastChannel("[Firebase] FID Change"),Zr.onmessage=S=>{Kr(S.data.key,S.data.fid)}),Zr}();R&&R.postMessage({key:S,fid:T}),function cs(){0===cn.size&&Zr&&(Zr.close(),Zr=null)}()}(R,T)}function Kr(S,T){const R=cn.get(S);if(R)for(const U of R)U(T)}let Zr=null;const Jn="firebase-installations-store";let us=null;function vt(){return us||(us=(0,ge.X3)("firebase-installations-database",1,{upgrade:(S,T)=>{0===T&&S.createObjectStore(Jn)}})),us}function Dn(S,T){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,P.Z)(function*(S,T){const R=Kn(S),ee=(yield vt()).transaction(Jn,"readwrite"),he=ee.objectStore(Jn),Ne=yield he.get(R);return yield he.put(T,R),yield ee.done,(!Ne||Ne.fid!==T.fid)&&sn(S,T.fid),T})).apply(this,arguments)}function un(S){return _r.apply(this,arguments)}function _r(){return(_r=(0,P.Z)(function*(S){const T=Kn(S),U=(yield vt()).transaction(Jn,"readwrite");yield U.objectStore(Jn).delete(T),yield U.done})).apply(this,arguments)}function si(S,T){return yr.apply(this,arguments)}function yr(){return(yr=(0,P.Z)(function*(S,T){const R=Kn(S),ee=(yield vt()).transaction(Jn,"readwrite"),he=ee.objectStore(Jn),Ne=yield he.get(R),Ze=T(Ne);return void 0===Ze?yield he.delete(R):yield he.put(Ze,R),yield ee.done,Ze&&(!Ne||Ne.fid!==Ze.fid)&&sn(S,Ze.fid),Ze})).apply(this,arguments)}function bn(S){return _i.apply(this,arguments)}function _i(){return(_i=(0,P.Z)(function*(S){let T;const R=yield si(S.appConfig,U=>{const ee=Tn(U),he=ct(S,ee);return T=he.registrationPromise,he.installationEntry});return""===R.fid?{installationEntry:yield T}:{installationEntry:R,registrationPromise:T}})).apply(this,arguments)}function Tn(S){return zn(S||{fid:Qe(),registrationStatus:0})}function ct(S,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(nt.create("app-offline"))};const R={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},U=function st(S,T){return Bn.apply(this,arguments)}(S,R);return{installationEntry:R,registrationPromise:U}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:oi(S)}:{installationEntry:T}}function Bn(){return(Bn=(0,P.Z)(function*(S,T){try{const R=yield de(S,T);return Dn(S.appConfig,R)}catch(R){throw rt(R)&&409===R.customData.serverCode?yield un(S.appConfig):yield Dn(S.appConfig,{fid:T.fid,registrationStatus:0}),R}})).apply(this,arguments)}function oi(S){return Un.apply(this,arguments)}function Un(){return(Un=(0,P.Z)(function*(S){let T=yield qt(S.appConfig);for(;1===T.registrationStatus;)yield $e(100),T=yield qt(S.appConfig);if(0===T.registrationStatus){const{installationEntry:R,registrationPromise:U}=yield bn(S);return U||R}return T})).apply(this,arguments)}function qt(S){return si(S,T=>{if(!T)throw nt.create("installation-not-found");return zn(T)})}function zn(S){return function ai(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function Ut(S,T){return xi.apply(this,arguments)}function xi(){return(xi=(0,P.Z)(function*({appConfig:S,heartbeatServiceProvider:T},R){const U=Lt(S,R),ee=pe(S,R),he=T.getImmediate({optional:!0});if(he){const Vt=yield he.getHeartbeatsHeader();Vt&&ee.append("x-firebase-client",Vt)}const Ze={method:"POST",headers:ee,body:JSON.stringify({installation:{sdkVersion:ne,appId:S.appId}})},Tt=yield Ce(()=>fetch(U,Ze));if(Tt.ok)return Fe(yield Tt.json());throw yield Ae("Generate Auth Token",Tt)})).apply(this,arguments)}function Lt(S,{fid:T}){return`${Le(S)}/${T}/authTokens:generate`}function J(S){return G.apply(this,arguments)}function G(){return(G=(0,P.Z)(function*(S,T=!1){let R;const U=yield si(S.appConfig,he=>{if(!It(he))throw nt.create("not-registered");const Ne=he.authToken;if(!T&&pn(Ne))return he;if(1===Ne.requestStatus)return R=j(S,T),he;{if(!navigator.onLine)throw nt.create("app-offline");const Ze=lr(he);return R=ke(S,Ze),Ze}});return R?yield R:U.authToken})).apply(this,arguments)}function j(S,T){return Y.apply(this,arguments)}function Y(){return(Y=(0,P.Z)(function*(S,T){let R=yield K(S.appConfig);for(;1===R.authToken.requestStatus;)yield $e(100),R=yield K(S.appConfig);const U=R.authToken;return 0===U.requestStatus?J(S,T):U})).apply(this,arguments)}function K(S){return si(S,T=>{if(!It(T))throw nt.create("not-registered");return function se(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function ke(S,T){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,P.Z)(function*(S,T){try{const R=yield Ut(S,T),U=Object.assign(Object.assign({},T),{authToken:R});return yield Dn(S.appConfig,U),R}catch(R){if(!rt(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const U=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Dn(S.appConfig,U)}else yield un(S.appConfig);throw R}})).apply(this,arguments)}function It(S){return void 0!==S&&2===S.registrationStatus}function pn(S){return 2===S.requestStatus&&!function hn(S){const T=Date.now();return T<S.creationTime||S.creationTime+S.expiresIn<T+36e5}(S)}function lr(S){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:T})}function z(){return(z=(0,P.Z)(function*(S){const T=S,{installationEntry:R,registrationPromise:U}=yield bn(T);return U?U.catch(console.error):J(T).catch(console.error),R.fid})).apply(this,arguments)}function We(){return(We=(0,P.Z)(function*(S,T=!1){const R=S;return yield Et(R),(yield J(R,T)).token})).apply(this,arguments)}function Et(S){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,P.Z)(function*(S){const{registrationPromise:T}=yield bn(S);T&&(yield T)})).apply(this,arguments)}function to(S){return nt.create("missing-app-config-values",{valueName:S})}const Yt="installations",Ss=S=>{const T=S.getProvider("app").getImmediate(),R=function eo(S){if(!S||!S.options)throw to("App Configuration");if(!S.name)throw to("App Name");const T=["projectId","apiKey","appId"];for(const R of T)if(!S.options[R])throw to(R);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(T);return{app:T,appConfig:R,heartbeatServiceProvider:(0,ue._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Wc=S=>{const T=S.getProvider("app").getImmediate(),R=(0,ue._getProvider)(T,Yt).getImmediate();return{getId:()=>function $(S){return z.apply(this,arguments)}(R),getToken:ee=>function De(S){return We.apply(this,arguments)}(R,ee)}};(function no(){(0,ue._registerComponent)(new we.wA(Yt,Ss,"PUBLIC")),(0,ue._registerComponent)(new we.wA("installations-internal",Wc,"PRIVATE"))})(),(0,ue.registerVersion)(Ee,W),(0,ue.registerVersion)(Ee,W,"esm2017");const vr="@firebase/remote-config",Br=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Yl{constructor(T,R,U,ee){this.client=T,this.storage=R,this.storageCache=U,this.logger=ee}isCachedDataFresh(T,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-R,ee=U<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${ee}.`),ee}fetch(T){var R=this;return(0,P.Z)(function*(){const[U,ee]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(ee&&R.isCachedDataFresh(T.cacheMaxAgeMillis,U))return ee;T.eTag=ee&&ee.eTag;const he=yield R.client.fetch(T),Ne=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===he.status&&Ne.push(R.storage.setLastSuccessfulFetchResponse(he)),yield Promise.all(Ne),he})()}}function Kl(S=navigator){return S.languages&&S.languages[0]||S.language}class No{constructor(T,R,U,ee,he,Ne){this.firebaseInstallations=T,this.sdkVersion=R,this.namespace=U,this.projectId=ee,this.apiKey=he,this.appId=Ne}fetch(T){var R=this;return(0,P.Z)(function*(){var U,ee,he;const[Ne,Ze]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Vt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,xt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Dt={sdk_version:R.sdkVersion,app_instance_id:Ne,app_instance_id_token:Ze,app_id:R.appId,language_code:Kl()},Ir={method:"POST",headers:xt,body:JSON.stringify(Dt)},fi=fetch(Vt,Ir),Ml=new Promise((Hs,Fa)=>{T.signal.addEventListener(()=>{const bd=new Error("The operation was aborted.");bd.name="AbortError",Fa(bd)})});let vs;try{yield Promise.race([fi,Ml]),vs=yield fi}catch(Hs){let Fa="fetch-client-network";throw"AbortError"===(null===(U=Hs)||void 0===U?void 0:U.name)&&(Fa="fetch-timeout"),Br.create(Fa,{originalErrorMessage:null===(ee=Hs)||void 0===ee?void 0:ee.message})}let Ci=vs.status;const Na=vs.headers.get("ETag")||void 0;let vd,Fi;if(200===vs.status){let Hs;try{Hs=yield vs.json()}catch(Fa){throw Br.create("fetch-client-parse",{originalErrorMessage:null===(he=Fa)||void 0===he?void 0:he.message})}vd=Hs.entries,Fi=Hs.state}if("INSTANCE_STATE_UNSPECIFIED"===Fi?Ci=500:"NO_CHANGE"===Fi?Ci=304:("NO_TEMPLATE"===Fi||"EMPTY_CONFIG"===Fi)&&(vd={}),304!==Ci&&200!==Ci)throw Br.create("fetch-status",{httpStatus:Ci});return{status:Ci,eTag:Na,config:vd}})()}}class ks{constructor(T,R){this.client=T,this.storage=R}fetch(T){var R=this;return(0,P.Z)(function*(){const U=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(T,U)})()}attemptFetch(T,{throttleEndTimeMillis:R,backoffCount:U}){var ee=this;return(0,P.Z)(function*(){yield function Ri(S,T){return new Promise((R,U)=>{const ee=Math.max(T-Date.now(),0),he=setTimeout(R,ee);S.addEventListener(()=>{clearTimeout(he),U(Br.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,R);try{const he=yield ee.client.fetch(T);return yield ee.storage.deleteThrottleMetadata(),he}catch(he){if(!function nm(S){if(!(S instanceof fe.ZR&&S.customData))return!1;const T=Number(S.customData.httpStatus);return 429===T||500===T||503===T||504===T}(he))throw he;const Ne={throttleEndTimeMillis:Date.now()+(0,fe.$s)(U),backoffCount:U+1};return yield ee.storage.setThrottleMetadata(Ne),ee.attemptFetch(T,Ne)}})()}}class Kh{constructor(T,R,U,ee,he){this.app=T,this._client=R,this._storageCache=U,this._storage=ee,this._logger=he,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function sl(S,T){var R;const U=S.target.error||void 0;return Br.create(T,{originalErrorMessage:U&&(null===(R=U)||void 0===R?void 0:R.message)})}const Ca="app_namespace_store";class id{constructor(T,R,U,ee=function sm(){return new Promise((S,T)=>{var R;try{const U=indexedDB.open("firebase_remote_config",1);U.onerror=ee=>{T(sl(ee,"storage-open"))},U.onsuccess=ee=>{S(ee.target.result)},U.onupgradeneeded=ee=>{0===ee.oldVersion&&ee.target.result.createObjectStore(Ca,{keyPath:"compositeKey"})}}catch(U){T(Br.create("storage-open",{originalErrorMessage:null===(R=U)||void 0===R?void 0:R.message}))}})}()){this.appId=T,this.appName=R,this.namespace=U,this.openDbPromise=ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var R=this;return(0,P.Z)(function*(){const U=yield R.openDbPromise;return new Promise((ee,he)=>{var Ne;const Tt=U.transaction([Ca],"readonly").objectStore(Ca),Vt=R.createCompositeKey(T);try{const xt=Tt.get(Vt);xt.onerror=Dt=>{he(sl(Dt,"storage-get"))},xt.onsuccess=Dt=>{const Ir=Dt.target.result;ee(Ir?Ir.value:void 0)}}catch(xt){he(Br.create("storage-get",{originalErrorMessage:null===(Ne=xt)||void 0===Ne?void 0:Ne.message}))}})})()}set(T,R){var U=this;return(0,P.Z)(function*(){const ee=yield U.openDbPromise;return new Promise((he,Ne)=>{var Ze;const Vt=ee.transaction([Ca],"readwrite").objectStore(Ca),xt=U.createCompositeKey(T);try{const Dt=Vt.put({compositeKey:xt,value:R});Dt.onerror=Ir=>{Ne(sl(Ir,"storage-set"))},Dt.onsuccess=()=>{he()}}catch(Dt){Ne(Br.create("storage-set",{originalErrorMessage:null===(Ze=Dt)||void 0===Ze?void 0:Ze.message}))}})})()}delete(T){var R=this;return(0,P.Z)(function*(){const U=yield R.openDbPromise;return new Promise((ee,he)=>{var Ne;const Tt=U.transaction([Ca],"readwrite").objectStore(Ca),Vt=R.createCompositeKey(T);try{const xt=Tt.delete(Vt);xt.onerror=Dt=>{he(sl(Dt,"storage-delete"))},xt.onsuccess=()=>{ee()}}catch(xt){he(Br.create("storage-delete",{originalErrorMessage:null===(Ne=xt)||void 0===Ne?void 0:Ne.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class oo{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,P.Z)(function*(){const R=T.storage.getLastFetchStatus(),U=T.storage.getLastSuccessfulFetchTimestampMillis(),ee=T.storage.getActiveConfig(),he=yield R;he&&(T.lastFetchStatus=he);const Ne=yield U;Ne&&(T.lastSuccessfulFetchTimestampMillis=Ne);const Ze=yield ee;Ze&&(T.activeConfig=Ze)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function fy(){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,P.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}!function Yc(){(0,ue._registerComponent)(new we.wA("remote-config",function S(T,{instanceIdentifier:R}){const U=T.getProvider("app").getImmediate(),ee=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Br.create("registration-window");if(!(0,fe.hl)())throw Br.create("indexed-db-unavailable");const{projectId:he,apiKey:Ne,appId:Ze}=U.options;if(!he)throw Br.create("registration-project-id");if(!Ne)throw Br.create("registration-api-key");if(!Ze)throw Br.create("registration-app-id");const Tt=new id(Ze,U.name,R=R||"firebase"),Vt=new oo(Tt),xt=new oe.Yd(vr);xt.logLevel=oe.in.ERROR;const Dt=new No(ee,ue.SDK_VERSION,R,he,Ne,Ze),Ir=new ks(Dt,Tt),fi=new Yl(Ir,Tt,Vt,xt),Ml=new Kh(U,fi,Vt,Tt,xt);return function so(S){const T=(0,fe.m9)(S);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Ml),Ml},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(vr,"0.3.11"),(0,ue.registerVersion)(vr,"0.3.11","esm2017")}();const hs="/firebase-messaging-sw.js",ao="/firebase-cloud-messaging-push-scope",Fo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Zl="google.c.a.c_id",Ql="google.c.a.c_l",sd="google.c.a.ts",ol="google.c.a.e";var fs=(()=>{return(S=fs||(fs={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",fs;var S})();function er(S){const T=new Uint8Array(S);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xl(S){const R=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(R),ee=new Uint8Array(U.length);for(let he=0;he<U.length;++he)ee[he]=U.charCodeAt(he);return ee}const al="fcm_token_details_db",Jl="fcm_token_object_Store";function py(S){return Hn.apply(this,arguments)}function Hn(){return Hn=(0,P.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(he=>he.name).includes(al))return null;let T=null;return(yield(0,ge.X3)(al,5,{upgrade:(U=(0,P.Z)(function*(ee,he,Ne,Ze){var Tt;if(he<2||!ee.objectStoreNames.contains(Jl))return;const Vt=Ze.objectStore(Jl),xt=yield Vt.index("fcmSenderId").get(S);if(yield Vt.clear(),xt)if(2===he){const Dt=xt;if(!Dt.auth||!Dt.p256dh||!Dt.endpoint)return;T={token:Dt.fcmToken,createTime:null!==(Tt=Dt.createTime)&&void 0!==Tt?Tt:Date.now(),subscriptionOptions:{auth:Dt.auth,p256dh:Dt.p256dh,endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:"string"==typeof Dt.vapidKey?Dt.vapidKey:er(Dt.vapidKey)}}}else if(3===he){const Dt=xt;T={token:Dt.fcmToken,createTime:Dt.createTime,subscriptionOptions:{auth:er(Dt.auth),p256dh:er(Dt.p256dh),endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:er(Dt.vapidKey)}}}else if(4===he){const Dt=xt;T={token:Dt.fcmToken,createTime:Dt.createTime,subscriptionOptions:{auth:er(Dt.auth),p256dh:er(Dt.p256dh),endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:er(Dt.vapidKey)}}}}),function(he,Ne,Ze,Tt){return U.apply(this,arguments)})})).close(),yield(0,ge.Lj)(al),yield(0,ge.Lj)("fcm_vapid_details_db"),yield(0,ge.Lj)("undefined"),Kc(T)?T:null;var U}),Hn.apply(this,arguments)}function Kc(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:T}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const ur="firebase-messaging-store";let cl=null;function Da(){return cl||(cl=(0,ge.X3)("firebase-messaging-database",1,{upgrade:(S,T)=>{0===T&&S.createObjectStore(ur)}})),cl}function Rs(S){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,P.Z)(function*(S){const T=Ia(S),U=yield(yield Da()).transaction(ur).objectStore(ur).get(T);if(U)return U;{const ee=yield py(S.appConfig.senderId);if(ee)return yield lo(S,ee),ee}})).apply(this,arguments)}function lo(S,T){return ps.apply(this,arguments)}function ps(){return(ps=(0,P.Z)(function*(S,T){const R=Ia(S),ee=(yield Da()).transaction(ur,"readwrite");return yield ee.objectStore(ur).put(T,R),yield ee.done,T})).apply(this,arguments)}function Zc(S){return ui.apply(this,arguments)}function ui(){return(ui=(0,P.Z)(function*(S){const T=Ia(S),U=(yield Da()).transaction(ur,"readwrite");yield U.objectStore(ur).delete(T),yield U.done})).apply(this,arguments)}function Ia({appConfig:S}){return S.appId}const dt=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Qc(S,T){return ec.apply(this,arguments)}function ec(){return(ec=(0,P.Z)(function*(S,T){var R;const U=yield Os(S),ee=Qt(T),he={method:"POST",headers:U,body:JSON.stringify(ee)};let Ne;try{Ne=yield(yield fetch(tc(S.appConfig),he)).json()}catch(Ze){throw dt.create("token-subscribe-failed",{errorInfo:null===(R=Ze)||void 0===R?void 0:R.toString()})}if(Ne.error)throw dt.create("token-subscribe-failed",{errorInfo:Ne.error.message});if(!Ne.token)throw dt.create("token-subscribe-no-token");return Ne.token})).apply(this,arguments)}function od(S,T){return co.apply(this,arguments)}function co(){return(co=(0,P.Z)(function*(S,T){var R;const U=yield Os(S),ee=Qt(T.subscriptionOptions),he={method:"PATCH",headers:U,body:JSON.stringify(ee)};let Ne;try{Ne=yield(yield fetch(`${tc(S.appConfig)}/${T.token}`,he)).json()}catch(Ze){throw dt.create("token-update-failed",{errorInfo:null===(R=Ze)||void 0===R?void 0:R.toString()})}if(Ne.error)throw dt.create("token-update-failed",{errorInfo:Ne.error.message});if(!Ne.token)throw dt.create("token-update-no-token");return Ne.token})).apply(this,arguments)}function ul(S,T){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,P.Z)(function*(S,T){var R;const ee={method:"DELETE",headers:yield Os(S)};try{const Ne=yield(yield fetch(`${tc(S.appConfig)}/${T}`,ee)).json();if(Ne.error)throw dt.create("token-unsubscribe-failed",{errorInfo:Ne.error.message})}catch(he){throw dt.create("token-unsubscribe-failed",{errorInfo:null===(R=he)||void 0===R?void 0:R.toString()})}})).apply(this,arguments)}function tc({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function Os(S){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,P.Z)(function*({appConfig:S,installations:T}){const R=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Qt({p256dh:S,auth:T,endpoint:R,vapidKey:U}){const ee={web:{endpoint:R,auth:T,p256dh:S}};return U!==Fo&&(ee.web.applicationPubKey=U),ee}const Uo=6048e5;function Xc(S){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,P.Z)(function*(S){const T=yield om(S.swRegistration,S.vapidKey),R={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:T.endpoint,auth:er(T.getKey("auth")),p256dh:er(T.getKey("p256dh"))},U=yield Rs(S.firebaseDependencies);if(U){if(Sa(U.subscriptionOptions,R))return Date.now()>=U.createTime+Uo?ms(S,{token:U.token,createTime:Date.now(),subscriptionOptions:R}):U.token;try{yield ul(S.firebaseDependencies,U.token)}catch(ee){console.warn(ee)}return uo(S.firebaseDependencies,R)}return uo(S.firebaseDependencies,R)})).apply(this,arguments)}function Jc(S){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,P.Z)(function*(S){const T=yield Rs(S.firebaseDependencies);T&&(yield ul(S.firebaseDependencies,T.token),yield Zc(S.firebaseDependencies));const R=yield S.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function ms(S,T){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,P.Z)(function*(S,T){try{const R=yield od(S.firebaseDependencies,T),U=Object.assign(Object.assign({},T),{token:R,createTime:Date.now()});return yield lo(S.firebaseDependencies,U),R}catch(R){throw yield Jc(S),R}})).apply(this,arguments)}function uo(S,T){return dl.apply(this,arguments)}function dl(){return(dl=(0,P.Z)(function*(S,T){const U={token:yield Qc(S,T),createTime:Date.now(),subscriptionOptions:T};return yield lo(S,U),U.token})).apply(this,arguments)}function om(S,T){return jo.apply(this,arguments)}function jo(){return(jo=(0,P.Z)(function*(S,T){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xl(T)})})).apply(this,arguments)}function Sa(S,T){return T.vapidKey===S.vapidKey&&T.endpoint===S.endpoint&&T.auth===S.auth&&T.p256dh===S.p256dh}function Er(S){const T={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function gs(S,T){if(!T.notification)return;S.notification={};const R=T.notification.title;R&&(S.notification.title=R);const U=T.notification.body;U&&(S.notification.body=U);const ee=T.notification.image;ee&&(S.notification.image=ee)}(T,S),function eu(S,T){!T.data||(S.data=T.data)}(T,S),function ho(S,T){var R,U,ee,he,Ne;if(!(T.fcmOptions||null!==(R=T.notification)&&void 0!==R&&R.click_action))return;S.fcmOptions={};const Ze=null!==(ee=null===(U=T.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==ee?ee:null===(he=T.notification)||void 0===he?void 0:he.click_action;Ze&&(S.fcmOptions.link=Ze);const Tt=null===(Ne=T.fcmOptions)||void 0===Ne?void 0:Ne.analytics_label;Tt&&(S.fcmOptions.analyticsLabel=Tt)}(T,S),T}function Ns(S){return"object"==typeof S&&!!S&&Zl in S}function ad(S,T){const R=[];for(let U=0;U<S.length;U++)R.push(S.charAt(U)),U<T.length&&R.push(T.charAt(U));return R.join("")}function tu(S){return dt.create("missing-app-config-values",{valueName:S})}ad("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ad("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class nu{constructor(T,R,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ee=function hl(S){if(!S||!S.options)throw tu("App Configuration Object");if(!S.name)throw tu("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:R}=S;for(const U of T)if(!R[U])throw tu(U);return{appName:S.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:ee,installations:R,analyticsProvider:U}}_delete(){return Promise.resolve()}}function fl(S){return $o.apply(this,arguments)}function $o(){return($o=(0,P.Z)(function*(S){var T;try{S.swRegistration=yield navigator.serviceWorker.register(hs,{scope:ao}),S.swRegistration.update().catch(()=>{})}catch(R){throw dt.create("failed-service-worker-registration",{browserErrorMessage:null===(T=R)||void 0===T?void 0:T.message})}})).apply(this,arguments)}function ld(S,T){return zo.apply(this,arguments)}function zo(){return(zo=(0,P.Z)(function*(S,T){if(!T&&!S.swRegistration&&(yield fl(S)),T||!S.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw dt.create("invalid-sw-registration");S.swRegistration=T}})).apply(this,arguments)}function ru(S,T){return pl.apply(this,arguments)}function pl(){return(pl=(0,P.Z)(function*(S,T){T?S.vapidKey=T:S.vapidKey||(S.vapidKey=Fo)})).apply(this,arguments)}function Ta(){return(Ta=(0,P.Z)(function*(S,T){if(!navigator)throw dt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw dt.create("permission-blocked");return yield ru(S,T?.vapidKey),yield ld(S,T?.serviceWorkerRegistration),Xc(S)})).apply(this,arguments)}function cd(S,T,R){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,P.Z)(function*(S,T,R){const U=su(T);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:R[Zl],message_name:R[Ql],message_time:R[sd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function su(S){switch(S){case fs.NOTIFICATION_CLICKED:return"notification_open";case fs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ml(){return(ml=(0,P.Z)(function*(S,T){const R=T.data;if(!R.isFirebaseMessaging)return;S.onMessageHandler&&R.messageType===fs.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(Er(R)):S.onMessageHandler.next(Er(R)));const U=R.data;Ns(U)&&"1"===U[ol]&&(yield cd(S,R.messageType,U))})).apply(this,arguments)}const gl="@firebase/messaging",di=S=>{const T=new nu(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function ou(S,T){return ml.apply(this,arguments)}(T,R)),T},Gn=S=>{const T=S.getProvider("messaging").getImmediate();return{getToken:U=>function iu(S,T){return Ta.apply(this,arguments)}(T,U)}};function Xh(){return nc.apply(this,arguments)}function nc(){return(nc=(0,P.Z)(function*(){try{yield(0,fe.eu)()}catch{return!1}return typeof window<"u"&&(0,fe.hl)()&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ud(){(0,ue._registerComponent)(new we.wA("messaging",di,"PUBLIC")),(0,ue._registerComponent)(new we.wA("messaging-internal",Gn,"PRIVATE")),(0,ue.registerVersion)(gl,"0.9.16"),(0,ue.registerVersion)(gl,"0.9.16","esm2017")}();const lu="analytics",Fs="firebase_id",hd="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_l="https://www.googletagmanager.com/gtag/js",dr=new oe.Yd("@firebase/analytics");function tf(S){return Promise.all(S.map(T=>T.catch(R=>R)))}function cm(S,T){const R=document.createElement("script");R.src=`${_l}?l=${S}&id=${T}`,R.async=!0,document.head.appendChild(R)}function rf(S,T,R,U,ee,he){return yl.apply(this,arguments)}function yl(){return(yl=(0,P.Z)(function*(S,T,R,U,ee,he){const Ne=U[ee];try{if(Ne)yield T[Ne];else{const Tt=(yield tf(R)).find(Vt=>Vt.measurementId===ee);Tt&&(yield T[Tt.appId])}}catch(Ze){dr.error(Ze)}S("config",ee,he)})).apply(this,arguments)}function vl(S,T,R,U,ee){return rc.apply(this,arguments)}function rc(){return(rc=(0,P.Z)(function*(S,T,R,U,ee){try{let he=[];if(ee&&ee.send_to){let Ne=ee.send_to;Array.isArray(Ne)||(Ne=[Ne]);const Ze=yield tf(R);for(const Tt of Ne){const Vt=Ze.find(Dt=>Dt.measurementId===Tt),xt=Vt&&T[Vt.appId];if(!xt){he=[];break}he.push(xt)}}0===he.length&&(he=Object.values(T)),yield Promise.all(he),S("event",U,ee||{})}catch(he){dr.error(he)}})).apply(this,arguments)}function af(){const S=window.document.getElementsByTagName("script");for(const T of Object.values(S))if(T.src&&T.src.includes(_l))return T;return null}const yi=new fe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),um=new class wl{constructor(T={},R=1e3){this.throttleMetadata=T,this.intervalMillis=R}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,R){this.throttleMetadata[T]=R}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function mn(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function Wo(S){return qe.apply(this,arguments)}function qe(){return(qe=(0,P.Z)(function*(S){var T;const{appId:R,apiKey:U}=S,ee={method:"GET",headers:mn(U)},he=hd.replace("{app-id}",R),Ne=yield fetch(he,ee);if(200!==Ne.status&&304!==Ne.status){let Ze="";try{const Tt=yield Ne.json();null!==(T=Tt.error)&&void 0!==T&&T.message&&(Ze=Tt.error.message)}catch{}throw yi.create("config-fetch-failed",{httpStatus:Ne.status,responseMessage:Ze})}return Ne.json()})).apply(this,arguments)}function yt(S){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,P.Z)(function*(S,T=um,R){const{appId:U,apiKey:ee,measurementId:he}=S.options;if(!U)throw yi.create("no-app-id");if(!ee){if(he)return{measurementId:he,appId:U};throw yi.create("no-api-key")}const Ne=T.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ze=new Cl;return setTimeout((0,P.Z)(function*(){Ze.abort()}),void 0!==R?R:6e4),tr({appId:U,apiKey:ee,measurementId:he},Ne,Ze,T)})).apply(this,arguments)}function tr(S,T,R){return qo.apply(this,arguments)}function qo(){return(qo=(0,P.Z)(function*(S,{throttleEndTimeMillis:T,backoffCount:R},U,ee=um){var he,Ne;const{appId:Ze,measurementId:Tt}=S;try{yield uu(U,T)}catch(Vt){if(Tt)return dr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Tt} provided in the "measurementId" field in the local Firebase config. [${null===(he=Vt)||void 0===he?void 0:he.message}]`),{appId:Ze,measurementId:Tt};throw Vt}try{const Vt=yield Wo(S);return ee.deleteThrottleMetadata(Ze),Vt}catch(Vt){const xt=Vt;if(!sc(xt)){if(ee.deleteThrottleMetadata(Ze),Tt)return dr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Tt} provided in the "measurementId" field in the local Firebase config. [${xt?.message}]`),{appId:Ze,measurementId:Tt};throw Vt}const Dt=503===Number(null===(Ne=xt?.customData)||void 0===Ne?void 0:Ne.httpStatus)?(0,fe.$s)(R,ee.intervalMillis,30):(0,fe.$s)(R,ee.intervalMillis),Ir={throttleEndTimeMillis:Date.now()+Dt,backoffCount:R+1};return ee.setThrottleMetadata(Ze,Ir),dr.debug(`Calling attemptFetch again in ${Dt} millis`),tr(S,Ir,U,ee)}})).apply(this,arguments)}function uu(S,T){return new Promise((R,U)=>{const ee=Math.max(T-Date.now(),0),he=setTimeout(R,ee);S.addEventListener(()=>{clearTimeout(he),U(yi.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function sc(S){if(!(S instanceof fe.ZR&&S.customData))return!1;const T=Number(S.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Cl{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let oc,Vs;function Ls(){return(Ls=(0,P.Z)(function*(S,T,R,U,ee){if(ee&&ee.global)S("event",R,U);else{const he=yield T;S("event",R,Object.assign(Object.assign({},U),{send_to:he}))}})).apply(this,arguments)}function du(S){Vs=S}function Zo(S){oc=S}function pd(){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,P.Z)(function*(){var S;if(!(0,fe.hl)())return dr.warn(yi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eu)()}catch(T){return dr.warn(yi.create("indexeddb-unavailable",{errorInfo:null===(S=T)||void 0===S?void 0:S.toString()}).message),!1}return!0})).apply(this,arguments)}function _o(){return(_o=(0,P.Z)(function*(S,T,R,U,ee,he,Ne){var Ze;const Tt=yt(S);Tt.then(fi=>{R[fi.measurementId]=fi.appId,S.options.measurementId&&fi.measurementId!==S.options.measurementId&&dr.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${fi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(fi=>dr.error(fi)),T.push(Tt);const Vt=pd().then(fi=>{if(fi)return U.getId()}),[xt,Dt]=yield Promise.all([Tt,Vt]);af()||cm(he,xt.measurementId),Vs&&(ee("consent","default",Vs),du(void 0)),ee("js",new Date);const Ir=null!==(Ze=Ne?.config)&&void 0!==Ze?Ze:{};return Ir.origin="firebase",Ir.update=!0,null!=Dt&&(Ir[Fs]=Dt),ee("config",xt.measurementId,Ir),oc&&(ee("set",oc),Zo(void 0)),xt.measurementId})).apply(this,arguments)}class ka{constructor(T){this.app=T}_delete(){return delete xn[this.app.options.appId],Promise.resolve()}}let xn={},Oi=[];const ac={};let jr,gn,Pi="dataLayer",fn=!1;function nr(S,T,R){!function kr(){const S=[];if((0,fe.ru)()&&S.push("This is a browser extension environment."),(0,fe.zI)()||S.push("Cookies are not available."),S.length>0){const T=S.map((U,ee)=>`(${ee+1}) ${U}`).join(" "),R=yi.create("invalid-analytics-context",{errorInfo:T});dr.warn(R.message)}}();const U=S.options.appId;if(!U)throw yi.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw yi.create("no-api-key");dr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=xn[U])throw yi.create("already-exists",{id:U});if(!fn){!function nf(S){let T=[];Array.isArray(window[S])?T=window[S]:window[S]=T}(Pi);const{wrappedGtag:he,gtagCore:Ne}=function sf(S,T,R,U,ee){let he=function(...Ne){window[U].push(arguments)};return window[ee]&&"function"==typeof window[ee]&&(he=window[ee]),window[ee]=function cu(S,T,R,U){function he(){return(he=(0,P.Z)(function*(Ne,Ze,Tt){try{"event"===Ne?yield vl(S,T,R,Ze,Tt):"config"===Ne?yield rf(S,T,R,U,Ze,Tt):"consent"===Ne?S("consent","update",Tt):S("set",Ze)}catch(Vt){dr.error(Vt)}})).apply(this,arguments)}return function ee(Ne,Ze,Tt){return he.apply(this,arguments)}}(he,S,T,R),{gtagCore:he,wrappedGtag:window[ee]}}(xn,Oi,ac,Pi,"gtag");gn=he,jr=Ne,fn=!0}return xn[U]=function go(S,T,R,U,ee,he,Ne){return _o.apply(this,arguments)}(S,Oi,ac,T,jr,Pi,R),new ka(S)}function Xr(){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,P.Z)(function*(){if((0,fe.ru)()||!(0,fe.zI)()||!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}const yo="@firebase/analytics";!function Ni(){(0,ue._registerComponent)(new we.wA(lu,(T,{options:R})=>nr(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ue._registerComponent)(new we.wA("analytics-internal",function S(T){try{const R=T.getProvider(lu).getImmediate();return{logEvent:(U,ee,he)=>function Jr(S,T,R,U){S=(0,fe.m9)(S),function El(S,T,R,U,ee){return Ls.apply(this,arguments)}(gn,xn[S.app.options.appId],T,R,U).catch(ee=>dr.error(ee))}(R,U,ee,he)}}catch(R){throw yi.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ue.registerVersion)(yo,"0.8.0"),(0,ue.registerVersion)(yo,"0.8.0","esm2017")}();var md=F(4408),Xi=F(7565);const cf=new class zt extends Xi.v{}(class vo extends md.o{constructor(T,R){super(T,R),this.scheduler=T,this.work=R}schedule(T,R=0){return R>0?super.schedule(T,R):(this.delay=R,this.state=T,this.scheduler.flush(this),this)}execute(T,R){return R>0||this.closed?super.execute(T,R):this._execute(T,R)}requestAsyncId(T,R,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(T,R,U):T.flush(this)}});var fm=F(4986),ea=F(9751),bi=F(8505),ei=F(9468),Sl=F(5363);const ta=new u.GfV("7.4.1"),hu="__angularfire_symbol__analyticsIsSupportedValue",Zn="__angularfire_symbol__analyticsIsSupported",Ji="__angularfire_symbol__remoteConfigIsSupportedValue",Tl="__angularfire_symbol__remoteConfigIsSupported",Al="__angularfire_symbol__messagingIsSupportedValue",fu="__angularfire_symbol__messagingIsSupported";function pm(S,T,R){if(T){if(1===T.length)return T[0];const he=T.filter(Ne=>Ne.app===R);if(1===he.length)return he[0]}return R.container.getProvider(S).getImmediate({optional:!0})}globalThis[Zn]||(globalThis[Zn]=Xr().then(S=>globalThis[hu]=S).catch(()=>globalThis[hu]=!1)),globalThis[fu]||(globalThis[fu]=Xh().then(S=>globalThis[Al]=S).catch(()=>globalThis[Al]=!1)),globalThis[Tl]||(globalThis[Tl]=fy().then(S=>globalThis[Ji]=S).catch(()=>globalThis[Ji]=!1));const ys=(S,T)=>{const R=T?[T]:(0,H.C6)(),U=[];return R.forEach(ee=>{ee.container.getProvider(S).instances.forEach(Ne=>{U.includes(Ne)||U.push(Ne)})}),U};function Bs(){}class bo{constructor(T,R=cf){this.zone=T,this.delegate=R}now(){return this.delegate.now()}schedule(T,R,U){const ee=this.zone;return this.delegate.schedule(function(Ne){ee.runGuarded(()=>{T.apply(this,[Ne])})},R,U)}}class Us{constructor(T){this.zone=T,this.task=null}call(T,R){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bs,{},Bs,Bs)),R.pipe((0,bi.b)({next:U,complete:U,error:U})).subscribe(T).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Kt=(()=>{class S{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new bo(Zone.current)),this.insideAngular=R.run(()=>new bo(Zone.current,fm.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(R){return new(R||S)(u.LFG(u.R0b))},S.\u0275prov=u.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function wi(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function gd(S){return wi().ngZone.runOutsideAngular(()=>S())}function Dr(S){return wi().ngZone.run(()=>S())}function Wn(S){return wi(),function yd(S){return function(R){return(R=R.lift(new Us(S.ngZone))).pipe((0,ei.R)(S.outsideAngular),(0,Sl.Q)(S.insideAngular))}}(wi())(S)}const na=(S,T)=>function(){const U=arguments;return T&&setTimeout(()=>{"scheduled"===T.state&&T.invoke()},10),Dr(()=>S.apply(void 0,U))},ra=(S,T)=>function(){let R;const U=arguments;for(let he=0;he<arguments.length;he++)"function"==typeof U[he]&&(T&&(R||(R=Dr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bs,{},Bs,Bs)))),U[he]=na(U[he],R));const ee=gd(()=>S.apply(this,U));if(!T){if(ee instanceof ea.y){const he=wi();return ee.pipe((0,ei.R)(he.outsideAngular),(0,Sl.Q)(he.insideAngular))}return Dr(()=>ee)}return ee instanceof ea.y?ee.pipe(Wn):ee instanceof Promise?Dr(()=>new Promise((he,Ne)=>ee.then(Ze=>Dr(()=>he(Ze)),Ze=>Dr(()=>Ne(Ze))))):"function"==typeof ee&&R?function(){return setTimeout(()=>{R&&"scheduled"===R.state&&R.invoke()},10),ee.apply(this,arguments)}:Dr(()=>ee)}},6457:(_t,Re,F)=>{F.d(Re,{$:()=>tc,A:()=>q,B:()=>Ve,G:()=>Wc,H:()=>br,J:()=>ks,L:()=>pn,M:()=>Qi,N:()=>Zh,P:()=>fm,Q:()=>Zl,R:()=>Rn,T:()=>Ql,U:()=>Fo,V:()=>fs,W:()=>er,X:()=>py,Y:()=>Vo,Z:()=>Qc,_:()=>od,a:()=>bl,a0:()=>Xc,a1:()=>Jc,a2:()=>ms,a3:()=>uo,a4:()=>om,a5:()=>Sa,a6:()=>gs,a7:()=>eu,a8:()=>Ns,a9:()=>ad,aA:()=>Ir,aB:()=>Ze,aC:()=>Dr,aD:()=>gd,aE:()=>cr,aI:()=>mn,aL:()=>ol,aa:()=>fl,ab:()=>ld,ac:()=>ru,af:()=>cd,ag:()=>su,ah:()=>ou,ak:()=>ur,al:()=>au,an:()=>_l,ao:()=>yl,ap:()=>Mn,aq:()=>Ce,ar:()=>Mt,as:()=>Et,at:()=>rt,au:()=>bs,av:()=>Ci,aw:()=>Le,ax:()=>ce,ay:()=>ie,az:()=>hn,b:()=>yi,c:()=>Tl,d:()=>uf,e:()=>fu,f:()=>Wn,g:()=>R,h:()=>ra,i:()=>Qo,j:()=>he,k:()=>_m,l:()=>$r,m:()=>hc,n:()=>bm,o:()=>ge,r:()=>md,s:()=>my,u:()=>cf});var u=F(5861),H=F(2090),P=F(9681),ue=F(655),fe=F(1877),we=F(4859);const ge={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ve=function ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Se=function Ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},at=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),be=new fe.Yd("@firebase/auth");function nt(b,...g){be.logLevel<=fe.in.ERROR&&be.error(`Auth (${P.SDK_VERSION}): ${b}`,...g)}function rt(b,...g){throw Ke(b,...g)}function Le(b,...g){return Ke(b,...g)}function Fe(b,g,y){const E=Object.assign(Object.assign({},Se()),{[g]:y});return new H.LL("auth","Firebase",E).create(g,{appName:b.name})}function Ae(b,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&rt(b,"argument-error"),Fe(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ke(b,...g){if("string"!=typeof b){const y=g[0],E=[...g.slice(1)];return E[0]&&(E[0].appName=b.name),b._errorFactory.create(y,...E)}return at.create(b,...g)}function ce(b,g,...y){if(!b)throw Ke(g,...y)}function pe(b){const g="INTERNAL ASSERTION FAILED: "+b;throw nt(g),new Error(g)}function Ce(b,g){b||pe(g)}const te=new Map;function ie(b){Ce(b instanceof Function,"Expected a class definition");let g=te.get(b);return g?(Ce(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,te.set(b,g),g)}function He(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function $e(){return"http:"===wt()||"https:"===wt()}function wt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Qe{constructor(g,y){this.shortDelay=g,this.longDelay=y,Ce(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function rn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($e()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function En(b,g){Ce(b.emulator,"Emulator should always be set here");const{url:y}=b.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class Kn{static initialize(g,y,E){this.fetchImpl=g,y&&(this.headersImpl=y),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void pe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void pe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void pe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},sn=new Qe(3e4,6e4);function en(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function Wt(b,g,y,E){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,u.Z)(function*(b,g,y,E,k={}){return Js(b,k,(0,u.Z)(function*(){let N={},ae={};E&&("GET"===g?ae=E:N={body:JSON.stringify(E)});const xe=(0,H.xO)(Object.assign({key:b.config.apiKey},ae)).slice(1),ot=yield b._getAdditionalHeaders();return ot["Content-Type"]="application/json",b.languageCode&&(ot["X-Firebase-Locale"]=b.languageCode),Kn.fetch()(Ai(b,b.config.apiHost,y,xe),Object.assign({method:g,headers:ot,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Js(b,g,y){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,u.Z)(function*(b,g,y){b._canInitEmulator=!1;const E=Object.assign(Object.assign({},cn),g);try{const k=new Mi(b),N=yield Promise.race([y(),k.promise]);k.clearNetworkTimeout();const ae=yield N.json();if("needConfirmation"in ae)throw Jn(b,"account-exists-with-different-credential",ae);if(N.ok&&!("errorMessage"in ae))return ae;{const xe=N.ok?ae.errorMessage:ae.error.message,[ot,lt]=xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ot)throw Jn(b,"credential-already-in-use",ae);if("EMAIL_EXISTS"===ot)throw Jn(b,"email-already-in-use",ae);if("USER_DISABLED"===ot)throw Jn(b,"user-disabled",ae);const Ht=E[ot]||ot.toLowerCase().replace(/[_\s]+/g,"-");if(lt)throw Fe(b,Ht,lt);rt(b,Ht)}}catch(k){if(k instanceof H.ZR)throw k;rt(b,"network-request-failed")}})).apply(this,arguments)}function Vn(b,g,y,E){return cs.apply(this,arguments)}function cs(){return(cs=(0,u.Z)(function*(b,g,y,E,k={}){const N=yield Wt(b,g,y,E,k);return"mfaPendingCredential"in N&&rt(b,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Ai(b,g,y,E){const k=`${g}${y}?${E}`;return b.config.emulator?En(b.config,k):`${b.config.apiScheme}://${k}`}class Mi{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,E)=>{this.timer=setTimeout(()=>E(Le(this.auth,"network-request-failed")),sn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jn(b,g,y){const E={appName:b.name};y.email&&(E.email=y.email),y.phoneNumber&&(E.phoneNumber=y.phoneNumber);const k=Le(b,g,E);return k.customData._tokenResponse=y,k}function vt(){return(vt=(0,u.Z)(function*(b,g){return Wt(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Dn(b,g){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,u.Z)(function*(b,g){return Wt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function un(b,g){return _r.apply(this,arguments)}function _r(){return(_r=(0,u.Z)(function*(b,g){return Wt(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function si(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function _i(){return(_i=(0,u.Z)(function*(b,g=!1){const y=(0,H.m9)(b),E=yield y.getIdToken(g),k=ct(E);ce(k&&k.exp&&k.auth_time&&k.iat,y.auth,"internal-error");const N="object"==typeof k.firebase?k.firebase:void 0,ae=N?.sign_in_provider;return{claims:k,token:E,authTime:si(Tn(k.auth_time)),issuedAtTime:si(Tn(k.iat)),expirationTime:si(Tn(k.exp)),signInProvider:ae||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function Tn(b){return 1e3*Number(b)}function ct(b){var g;const[y,E,k]=b.split(".");if(void 0===y||void 0===E||void 0===k)return nt("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,H.tV)(E);return N?JSON.parse(N):(nt("Failed to decode base64 JWT payload"),null)}catch(N){return nt("Caught error parsing JWT payload as JSON",null===(g=N)||void 0===g?void 0:g.toString()),null}}function Bn(b,g){return oi.apply(this,arguments)}function oi(){return(oi=(0,u.Z)(function*(b,g,y=!1){if(y)return g;try{return yield g}catch(E){throw E instanceof H.ZR&&Un(E)&&b.auth.currentUser===b&&(yield b.auth.signOut()),E}})).apply(this,arguments)}function Un({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class qt{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const k=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,k)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const E=this.getInterval(g);this.timerId=setTimeout((0,u.Z)(function*(){yield y.iteration()}),E)}iteration(){var g=this;return(0,u.Z)(function*(){var y;try{yield g.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null===(y=E)||void 0===y?void 0:y.code)&&g.schedule(!0))}g.schedule()})()}}class zn{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=si(this.lastLoginAt),this.creationTime=si(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ai(b){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,u.Z)(function*(b){var g;const y=b.auth,E=yield b.getIdToken(),k=yield Bn(b,un(y,{idToken:E}));ce(k?.users.length,y,"internal-error");const N=k.users[0];b._notifyReloadListener(N);const ae=null!==(g=N.providerUserInfo)&&void 0!==g&&g.length?G(N.providerUserInfo):[],xe=J(b.providerData,ae),Ht=!!b.isAnonymous&&!(b.email&&N.passwordHash||xe?.length),jn={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:xe,metadata:new zn(N.createdAt,N.lastLoginAt),isAnonymous:Ht};Object.assign(b,jn)})).apply(this,arguments)}function Lt(){return(Lt=(0,u.Z)(function*(b){const g=(0,H.m9)(b);yield ai(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function J(b,g){return[...b.filter(E=>!g.some(k=>k.providerId===E.providerId)),...g]}function G(b){return b.map(g=>{var{providerId:y}=g,E=(0,ue._T)(g,["providerId"]);return{providerId:y,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Y(){return(Y=(0,u.Z)(function*(b,g){const y=yield Js(b,{},(0,u.Z)(function*(){const E=(0,H.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:k,apiKey:N}=b.config,ae=Ai(b,k,"/v1/token",`key=${N}`),xe=yield b._getAdditionalHeaders();return xe["Content-Type"]="application/x-www-form-urlencoded",Kn.fetch()(ae,{method:"POST",headers:xe,body:E})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class K{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ce(g.idToken,"internal-error"),ce(typeof g.idToken<"u","internal-error"),ce(typeof g.refreshToken<"u","internal-error");const y="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function st(b){const g=ct(b);return ce(g,"internal-error"),ce(typeof g.exp<"u","internal-error"),ce(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var E=this;return(0,u.Z)(function*(){return ce(!E.accessToken||E.refreshToken,g,"user-token-expired"),y||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(g,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var E=this;return(0,u.Z)(function*(){const{accessToken:k,refreshToken:N,expiresIn:ae}=yield function j(b,g){return Y.apply(this,arguments)}(g,y);E.updateTokensAndExpiration(k,N,Number(ae))})()}updateTokensAndExpiration(g,y,E){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(g,y){const{refreshToken:E,accessToken:k,expirationTime:N}=y,ae=new K;return E&&(ce("string"==typeof E,"internal-error",{appName:g}),ae.refreshToken=E),k&&(ce("string"==typeof k,"internal-error",{appName:g}),ae.accessToken=k),N&&(ce("number"==typeof N,"internal-error",{appName:g}),ae.expirationTime=N),ae}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new K,this.toJSON())}_performRefresh(){return pe("not implemented")}}function ke(b,g){ce("string"==typeof b||typeof b>"u","internal-error",{appName:g})}class Ye{constructor(g){var{uid:y,auth:E,stsTokenManager:k}=g,N=(0,ue._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=E,this.stsTokenManager=k,this.accessToken=k.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new zn(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,u.Z)(function*(){const E=yield Bn(y,y.stsTokenManager.getToken(y.auth,g));return ce(E,y.auth,"internal-error"),y.accessToken!==E&&(y.accessToken=E,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),E})()}getIdTokenResult(g){return function bn(b){return _i.apply(this,arguments)}(this,g)}reload(){return function xi(b){return Lt.apply(this,arguments)}(this)}_assign(g){this!==g&&(ce(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Ye(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var E=this;return(0,u.Z)(function*(){let k=!1;g.idToken&&g.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(g),k=!0),y&&(yield ai(E)),yield E.auth._persistUserIfCurrent(E),k&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var g=this;return(0,u.Z)(function*(){const y=yield g.getIdToken();return yield Bn(g,function us(b,g){return vt.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var E,k,N,ae,xe,ot,lt,Ht;const jn=null!==(E=y.displayName)&&void 0!==E?E:void 0,Li=null!==(k=y.email)&&void 0!==k?k:void 0,Eo=null!==(N=y.phoneNumber)&&void 0!==N?N:void 0,gu=null!==(ae=y.photoURL)&&void 0!==ae?ae:void 0,wm=null!==(xe=y.tenantId)&&void 0!==xe?xe:void 0,Ed=null!==(ot=y._redirectEventId)&&void 0!==ot?ot:void 0,fc=null!==(lt=y.createdAt)&&void 0!==lt?lt:void 0,Dd=null!==(Ht=y.lastLoginAt)&&void 0!==Ht?Ht:void 0,{uid:sa,emailVerified:Iy,isAnonymous:Sy,providerData:pc,stsTokenManager:_f}=y;ce(sa&&_f,g,"internal-error");const Cm=K.fromJSON(this.name,_f);ce("string"==typeof sa,g,"internal-error"),ke(jn,g.name),ke(Li,g.name),ce("boolean"==typeof Iy,g,"internal-error"),ce("boolean"==typeof Sy,g,"internal-error"),ke(Eo,g.name),ke(gu,g.name),ke(wm,g.name),ke(Ed,g.name),ke(fc,g.name),ke(Dd,g.name);const Id=new Ye({uid:sa,auth:g,email:Li,emailVerified:Iy,displayName:jn,isAnonymous:Sy,photoURL:gu,phoneNumber:Eo,tenantId:wm,stsTokenManager:Cm,createdAt:fc,lastLoginAt:Dd});return pc&&Array.isArray(pc)&&(Id.providerData=pc.map(Em=>Object.assign({},Em))),Ed&&(Id._redirectEventId=Ed),Id}static _fromIdTokenResponse(g,y,E=!1){return(0,u.Z)(function*(){const k=new K;k.updateFromServerResponse(y);const N=new Ye({uid:y.localId,auth:g,stsTokenManager:k,isAnonymous:E});return yield ai(N),N})()}}const pn=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(y,E){var k=this;return(0,u.Z)(function*(){k.storage[y]=E})()}_get(y){var E=this;return(0,u.Z)(function*(){const k=E.storage[y];return void 0===k?null:k})()}_remove(y){var E=this;return(0,u.Z)(function*(){delete E.storage[y]})()}_addListener(y,E){}_removeListener(y,E){}}return b.type="NONE",b})();function hn(b,g,y){return`firebase:${b}:${g}:${y}`}class lr{constructor(g,y,E){this.persistence=g,this.auth=y,this.userKey=E;const{config:k,name:N}=this.auth;this.fullUserKey=hn(this.userKey,k.apiKey,N),this.fullPersistenceKey=hn("persistence",k.apiKey,N),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,u.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?Ye._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,u.Z)(function*(){if(y.persistence===g)return;const E=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,E?y.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,E="authUser"){return(0,u.Z)(function*(){if(!y.length)return new lr(ie(pn),g,E);const k=(yield Promise.all(y.map(function(){var lt=(0,u.Z)(function*(Ht){if(yield Ht._isAvailable())return Ht});return function(Ht){return lt.apply(this,arguments)}}()))).filter(lt=>lt);let N=k[0]||ie(pn);const ae=hn(E,g.config.apiKey,g.name);let xe=null;for(const lt of y)try{const Ht=yield lt._get(ae);if(Ht){const jn=Ye._fromJSON(g,Ht);lt!==N&&(xe=jn),N=lt;break}}catch{}const ot=k.filter(lt=>lt._shouldAllowMigration);return N._shouldAllowMigration&&ot.length?(N=ot[0],xe&&(yield N._set(ae,xe.toJSON())),yield Promise.all(y.map(function(){var lt=(0,u.Z)(function*(Ht){if(Ht!==N)try{yield Ht._remove(ae)}catch{}});return function(Ht){return lt.apply(this,arguments)}}())),new lr(N,g,E)):new lr(N,g,E)})()}}function se(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(We(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if($(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Oe(g))return"Blackberry";if(tt(g))return"Webos";if(z(g))return"Safari";if((g.includes("chrome/")||De(g))&&!g.includes("edge/"))return"Chrome";if(Et(g))return"Android";{const E=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function $(b=(0,H.z$)()){return/firefox\//i.test(b)}function z(b=(0,H.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function De(b=(0,H.z$)()){return/crios\//i.test(b)}function We(b=(0,H.z$)()){return/iemobile/i.test(b)}function Et(b=(0,H.z$)()){return/android/i.test(b)}function Oe(b=(0,H.z$)()){return/blackberry/i.test(b)}function tt(b=(0,H.z$)()){return/webos/i.test(b)}function Mt(b=(0,H.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Mn(b=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function Mr(b=(0,H.z$)()){return Mt(b)||Et(b)||tt(b)||Oe(b)||/windows phone/i.test(b)||We(b)}function eo(b,g=[]){let y;switch(b){case"Browser":y=se((0,H.z$)());break;case"Worker":y=`${se((0,H.z$)())}-${b}`;break;default:y=b}const E=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${P.SDK_VERSION}/${E}`}class to{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,y){const E=N=>new Promise((ae,xe)=>{try{ae(g(N))}catch(ot){xe(ot)}});E.onAbort=y,this.queue.push(E);const k=this.queue.length-1;return()=>{this.queue[k]=()=>Promise.resolve()}}runMiddleware(g){var y=this;return(0,u.Z)(function*(){var E;if(y.auth.currentUser===g)return;const k=[];try{for(const N of y.queue)yield N(g),N.onAbort&&k.push(N.onAbort)}catch(N){k.reverse();for(const ae of k)try{ae()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=N)||void 0===E?void 0:E.message})}})()}}class Yt{constructor(g,y,E){this.app=g,this.heartbeatServiceProvider=y,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ss(this),this.idTokenSubscription=new Ss(this),this.beforeStateQueue=new to(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=at,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(g,y){var E=this;return y&&(this._popupRedirectResolver=ie(y)),this._initializationPromise=this.queue((0,u.Z)(function*(){var k,N;if(!E._deleted&&(E.persistenceManager=yield lr.create(E,g),!E._deleted)){if(null!==(k=E._popupRedirectResolver)&&void 0!==k&&k._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(y),E.lastNotifiedUid=(null===(N=E.currentUser)||void 0===N?void 0:N.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,u.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y,!0)}})()}initializeCurrentUser(g){var y=this;return(0,u.Z)(function*(){var E;const k=yield y.assertedPersistence.getCurrentUser();let N=k,ae=!1;if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const xe=null===(E=y.redirectUser)||void 0===E?void 0:E._redirectEventId,ot=N?._redirectEventId,lt=yield y.tryRedirectSignIn(g);(!xe||xe===ot)&&lt?.user&&(N=lt.user,ae=!0)}if(!N)return y.directlySetCurrentUser(null);if(!N._redirectEventId){if(ae)try{yield y.beforeStateQueue.runMiddleware(N)}catch(xe){N=k,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(xe))}return N?y.reloadAndSetCurrentUserOrClear(N):y.directlySetCurrentUser(null)}return ce(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===N._redirectEventId?y.directlySetCurrentUser(N):y.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(g){var y=this;return(0,u.Z)(function*(){let E=null;try{E=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch{yield y._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,u.Z)(function*(){var E;try{yield ai(g)}catch(k){if("auth/network-request-failed"!==(null===(E=k)||void 0===E?void 0:E.code))return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Jt(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,u.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,u.Z)(function*(){const E=g?(0,H.m9)(g):null;return E&&ce(E.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(E&&E._clone(y))})()}_updateCurrentUser(g,y=!1){var E=this;return(0,u.Z)(function*(){if(!E._deleted)return g&&ce(E.tenantId===g.tenantId,E,"tenant-id-mismatch"),y||(yield E.beforeStateQueue.runMiddleware(g)),E.queue((0,u.Z)(function*(){yield E.directlySetCurrentUser(g),E.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,u.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var y=this;return this.queue((0,u.Z)(function*(){yield y.assertedPersistence.setPersistence(ie(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new H.LL("auth","Firebase",g())}onAuthStateChanged(g,y,E){return this.registerStateListener(this.authStateSubscription,g,y,E)}beforeAuthStateChanged(g,y){return this.beforeStateQueue.pushCallback(g,y)}onIdTokenChanged(g,y,E){return this.registerStateListener(this.idTokenSubscription,g,y,E)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var E=this;return(0,u.Z)(function*(){const k=yield E.getOrInitRedirectPersistenceManager(y);return null===g?k.removeCurrentUser():k.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,u.Z)(function*(){if(!y.redirectPersistenceManager){const E=g&&ie(g)||y._popupRedirectResolver;ce(E,y,"argument-error"),y.redirectPersistenceManager=yield lr.create(y,[ie(E._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,u.Z)(function*(){var E,k;return y._isInitialized&&(yield y.queue((0,u.Z)(function*(){}))),(null===(E=y._currentUser)||void 0===E?void 0:E._redirectEventId)===g?y._currentUser:(null===(k=y.redirectUser)||void 0===k?void 0:k._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,u.Z)(function*(){if(g===y.currentUser)return y.queue((0,u.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,E,k){if(this._deleted)return()=>{};const N="function"==typeof y?y:y.next.bind(y),ae=this._isInitialized?Promise.resolve():this._initializationPromise;return ce(ae,this,"internal-error"),ae.then(()=>N(this.currentUser)),"function"==typeof y?g.addObserver(y,E,k):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,u.Z)(function*(){y.currentUser&&y.currentUser!==g&&(y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh()),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=eo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,u.Z)(function*(){var y;const E={"X-Client-Version":g.clientVersion};g.app.options.appId&&(E["X-Firebase-gmpid"]=g.app.options.appId);const k=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return k&&(E["X-Firebase-Client"]=k),E})()}}function cr(b){return(0,H.m9)(b)}class Ss{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,H.ne)(y=>this.observer=y)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Wc(b,g,y){const E=cr(b);ce(E._canInitEmulator,E,"emulator-config-failed"),ce(/^https?:\/\//.test(g),E,"invalid-emulator-scheme");const k=!!y?.disableWarnings,N=no(g),{host:ae,port:xe}=function vr(b){const g=no(b),y=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!y)return{host:"",port:null};const E=y[2].split("@").pop()||"",k=/^(\[[^\]]+\])(:|$)/.exec(E);if(k){const N=k[1];return{host:N,port:Ts(E.substr(N.length+1))}}{const[N,ae]=E.split(":");return{host:N,port:Ts(ae)}}}(g);E.config.emulator={url:`${N}//${ae}${null===xe?"":`:${xe}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:ae,port:xe,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:k})}),k||function ro(){function b(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function no(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function Ts(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class br{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return pe("not implemented")}_getIdTokenResponse(g){return pe("not implemented")}_linkToIdToken(g,y){return pe("not implemented")}_getReauthenticationResolver(g){return pe("not implemented")}}function Po(b,g){return Br.apply(this,arguments)}function Br(){return(Br=(0,u.Z)(function*(b,g){return Wt(b,"POST","/v1/accounts:resetPassword",en(b,g))})).apply(this,arguments)}function In(b,g){return wa.apply(this,arguments)}function wa(){return(wa=(0,u.Z)(function*(b,g){return Wt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function qh(b,g){return io.apply(this,arguments)}function io(){return(io=(0,u.Z)(function*(b,g){return Wt(b,"POST","/v1/accounts:update",en(b,g))})).apply(this,arguments)}function As(){return(As=(0,u.Z)(function*(b,g){return Vn(b,"POST","/v1/accounts:signInWithPassword",en(b,g))})).apply(this,arguments)}function Ms(b,g){return ds.apply(this,arguments)}function ds(){return(ds=(0,u.Z)(function*(b,g){return Wt(b,"POST","/v1/accounts:sendOobCode",en(b,g))})).apply(this,arguments)}function wr(b,g){return so.apply(this,arguments)}function so(){return(so=(0,u.Z)(function*(b,g){return Ms(b,g)})).apply(this,arguments)}function li(b,g){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,u.Z)(function*(b,g){return Ms(b,g)})).apply(this,arguments)}function ql(b,g){return xs.apply(this,arguments)}function xs(){return(xs=(0,u.Z)(function*(b,g){return Ms(b,g)})).apply(this,arguments)}function il(b,g){return ki.apply(this,arguments)}function ki(){return(ki=(0,u.Z)(function*(b,g){return Ms(b,g)})).apply(this,arguments)}function td(){return(td=(0,u.Z)(function*(b,g){return Vn(b,"POST","/v1/accounts:signInWithEmailLink",en(b,g))})).apply(this,arguments)}function Yl(){return(Yl=(0,u.Z)(function*(b,g){return Vn(b,"POST","/v1/accounts:signInWithEmailLink",en(b,g))})).apply(this,arguments)}class Kl extends br{constructor(g,y,E,k=null){super("password",E),this._email=g,this._password=y,this._tenantId=k}static _fromEmailAndPassword(g,y){return new Kl(g,y,"password")}static _fromEmailAndCode(g,y,E=null){return new Kl(g,y,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,u.Z)(function*(){switch(y.signInMethod){case"password":return function Wl(b,g){return As.apply(this,arguments)}(g,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function qc(b,g){return td.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:rt(g,"internal-error")}})()}_linkToIdToken(g,y){var E=this;return(0,u.Z)(function*(){switch(E.signInMethod){case"password":return In(g,{idToken:y,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Yh(b,g){return Yl.apply(this,arguments)}(g,{idToken:y,email:E._email,oobCode:E._password});default:rt(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function No(b,g){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,u.Z)(function*(b,g){return Vn(b,"POST","/v1/accounts:signInWithIdp",en(b,g))})).apply(this,arguments)}class ks extends br{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new ks(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):rt("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:k}=y,N=(0,ue._T)(y,["providerId","signInMethod"]);if(!E||!k)return null;const ae=new ks(E,k);return ae.idToken=N.idToken||void 0,ae.accessToken=N.accessToken||void 0,ae.secret=N.secret,ae.nonce=N.nonce,ae.pendingToken=N.pendingToken||null,ae}_getIdTokenResponse(g){return No(g,this.buildRequest())}_linkToIdToken(g,y){const E=this.buildRequest();return E.idToken=y,No(g,E)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,No(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,H.xO)(y)}return g}}function rm(b,g){return nd.apply(this,arguments)}function nd(){return(nd=(0,u.Z)(function*(b,g){return Wt(b,"POST","/v1/accounts:sendVerificationCode",en(b,g))})).apply(this,arguments)}function sl(){return(sl=(0,u.Z)(function*(b,g){return Vn(b,"POST","/v1/accounts:signInWithPhoneNumber",en(b,g))})).apply(this,arguments)}function rd(){return(rd=(0,u.Z)(function*(b,g){const y=yield Vn(b,"POST","/v1/accounts:signInWithPhoneNumber",en(b,g));if(y.temporaryProof)throw Jn(b,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const im={USER_NOT_FOUND:"user-not-found"};function id(){return(id=(0,u.Z)(function*(b,g){return Vn(b,"POST","/v1/accounts:signInWithPhoneNumber",en(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),im)})).apply(this,arguments)}class oo extends br{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new oo({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new oo({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function Kh(b,g){return sl.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function Ca(b,g){return rd.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function sm(b,g){return id.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:E,verificationCode:k}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:E,code:k}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:E,phoneNumber:k,temporaryProof:N}=g;return E||y||k||N?new oo({verificationId:y,verificationCode:E,phoneNumber:k,temporaryProof:N}):null}}class Ea{constructor(g){var y,E,k,N,ae,xe;const ot=(0,H.zd)((0,H.pd)(g)),lt=null!==(y=ot.apiKey)&&void 0!==y?y:null,Ht=null!==(E=ot.oobCode)&&void 0!==E?E:null,jn=function Yc(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(k=ot.mode)&&void 0!==k?k:null);ce(lt&&Ht&&jn,"argument-error"),this.apiKey=lt,this.operation=jn,this.code=Ht,this.continueUrl=null!==(N=ot.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(ae=ot.languageCode)&&void 0!==ae?ae:null,this.tenantId=null!==(xe=ot.tenantId)&&void 0!==xe?xe:null}static parseLink(g){const y=function hy(b){const g=(0,H.zd)((0,H.pd)(b)).link,y=g?(0,H.zd)((0,H.pd)(g)).deep_link_id:null,E=(0,H.zd)((0,H.pd)(b)).deep_link_id;return(E?(0,H.zd)((0,H.pd)(E)).link:null)||E||y||g||b}(g);try{return new Ea(y)}catch{return null}}}let Qi=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(y,E){return Kl._fromEmailAndPassword(y,E)}static credentialWithLink(y,E){const k=Ea.parseLink(E);return ce(k,"argument-error"),Kl._fromEmailAndCode(y,k.code,k.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class hs{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class ao extends hs{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Fo extends ao{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return ce("providerId"in y&&"signInMethod"in y,"argument-error"),ks._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ce(g.idToken||g.accessToken,"argument-error"),ks._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Fo.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Fo.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:E,oauthTokenSecret:k,pendingToken:N,nonce:ae,providerId:xe}=g;if(!E&&!k&&!y&&!N||!xe)return null;try{return new Fo(xe)._credential({idToken:y,accessToken:E,nonce:ae,pendingToken:N})}catch{return null}}}let Zh=(()=>{class b extends ao{constructor(){super("facebook.com")}static credential(y){return ks._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return b.credential(y.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Zl=(()=>{class b extends ao{constructor(){super("google.com"),this.addScope("profile")}static credential(y,E){return ks._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:E})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:E,oauthAccessToken:k}=y;if(!E&&!k)return null;try{return b.credential(E,k)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Ql=(()=>{class b extends ao{constructor(){super("github.com")}static credential(y){return ks._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return b.credential(y.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class ol extends br{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return No(g,this.buildRequest())}_linkToIdToken(g,y){const E=this.buildRequest();return E.idToken=y,No(g,E)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,No(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:k,pendingToken:N}=y;return E&&k&&N&&E===k?new ol(E,N):null}static _create(g,y){return new ol(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class fs extends hs{constructor(g){ce(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return fs.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return fs.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=ol.fromJSON(g);return ce(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:E}=g;if(!y||!E)return null;try{return ol._create(E,y)}catch{return null}}}let er=(()=>{class b extends ao{constructor(){super("twitter.com")}static credential(y,E){return ks._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:E})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:E,oauthTokenSecret:k}=y;if(!E||!k)return null;try{return b.credential(E,k)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Xl(b,g){return al.apply(this,arguments)}function al(){return(al=(0,u.Z)(function*(b,g){return Vn(b,"POST","/v1/accounts:signUp",en(b,g))})).apply(this,arguments)}class ci{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,E,k=!1){return(0,u.Z)(function*(){const N=yield Ye._fromIdTokenResponse(g,E,k),ae=Jl(E);return new ci({user:N,providerId:ae,_tokenResponse:E,operationType:y})})()}static _forOperation(g,y,E){return(0,u.Z)(function*(){yield g._updateTokensIfNecessary(E,!0);const k=Jl(E);return new ci({user:g,providerId:k,_tokenResponse:E,operationType:y})})()}}function Jl(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function py(b){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,u.Z)(function*(b){var g;const y=cr(b);if(yield y._initializationPromise,null!==(g=y.currentUser)&&void 0!==g&&g.isAnonymous)return new ci({user:y.currentUser,providerId:null,operationType:"signIn"});const E=yield Xl(y,{returnSecureToken:!0}),k=yield ci._fromIdTokenResponse(y,"signIn",E,!0);return yield y._updateCurrentUser(k.user),k})).apply(this,arguments)}class Kc extends H.ZR{constructor(g,y,E,k){var N;super(y.code,y.message),this.operationType=E,this.user=k,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:g.name,tenantId:null!==(N=g.tenantId)&&void 0!==N?N:void 0,_serverResponse:y.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(g,y,E,k){return new Kc(g,y,E,k)}}function Qh(b,g,y,E){return("reauthenticate"===g?y._getReauthenticationResolver(b):y._getIdTokenResponse(b)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?Kc._fromErrorAndOperation(b,N,g,E):N})}function ll(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function ur(b,g){return cl.apply(this,arguments)}function cl(){return(cl=(0,u.Z)(function*(b,g){const y=(0,H.m9)(b);yield Cr(!0,y,g);const{providerUserInfo:E}=yield Dn(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),k=ll(E||[]);return y.providerData=y.providerData.filter(N=>k.has(N.providerId)),k.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function Da(b,g){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,u.Z)(function*(b,g,y=!1){const E=yield Bn(b,g._linkToIdToken(b.auth,yield b.getIdToken()),y);return ci._forOperation(b,"link",E)})).apply(this,arguments)}function Cr(b,g,y){return lo.apply(this,arguments)}function lo(){return(lo=(0,u.Z)(function*(b,g,y){yield ai(g);const k=!1===b?"provider-already-linked":"no-such-provider";ce(ll(g.providerData).has(y)===b,g.auth,k)})).apply(this,arguments)}function ps(b,g){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,u.Z)(function*(b,g,y=!1){var E;const{auth:k}=b,N="reauthenticate";try{const ae=yield Bn(b,Qh(k,N,g,b),y);ce(ae.idToken,k,"internal-error");const xe=ct(ae.idToken);ce(xe,k,"internal-error");const{sub:ot}=xe;return ce(b.uid===ot,k,"user-mismatch"),ci._forOperation(b,N,ae)}catch(ae){throw"auth/user-not-found"===(null===(E=ae)||void 0===E?void 0:E.code)&&rt(k,"user-mismatch"),ae}})).apply(this,arguments)}function ui(b,g){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,u.Z)(function*(b,g,y=!1){const E="signIn",k=yield Qh(b,E,g),N=yield ci._fromIdTokenResponse(b,E,k);return y||(yield b._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Vo(b,g){return dt.apply(this,arguments)}function dt(){return(dt=(0,u.Z)(function*(b,g){return ui(cr(b),g)})).apply(this,arguments)}function Qc(b,g){return ec.apply(this,arguments)}function ec(){return(ec=(0,u.Z)(function*(b,g){const y=(0,H.m9)(b);return yield Cr(!1,y,g.providerId),Da(y,g)})).apply(this,arguments)}function od(b,g){return co.apply(this,arguments)}function co(){return(co=(0,u.Z)(function*(b,g){return ps((0,H.m9)(b),g)})).apply(this,arguments)}function ul(b,g){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,u.Z)(function*(b,g){return Vn(b,"POST","/v1/accounts:signInWithCustomToken",en(b,g))})).apply(this,arguments)}function tc(b,g){return Os.apply(this,arguments)}function Os(){return(Os=(0,u.Z)(function*(b,g){const y=cr(b),E=yield ul(y,{token:g,returnSecureToken:!0}),k=yield ci._fromIdTokenResponse(y,"signIn",E);return yield y._updateCurrentUser(k.user),k})).apply(this,arguments)}class Pe{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?Qt._fromServerResponse(g,y):rt(g,"internal-error")}}class Qt extends Pe{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new Qt(y)}}function Uo(b,g,y){var E;ce((null===(E=y.url)||void 0===E?void 0:E.length)>0,b,"invalid-continue-uri"),ce(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(ce(y.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(ce(y.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function Xc(b,g,y){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,u.Z)(function*(b,g,y){const E=(0,H.m9)(b),k={requestType:"PASSWORD_RESET",email:g};y&&Uo(E,k,y),yield li(E,k)})).apply(this,arguments)}function Jc(b,g,y){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,u.Z)(function*(b,g,y){yield Po((0,H.m9)(b),{oobCode:g,newPassword:y})})).apply(this,arguments)}function ms(b,g){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,u.Z)(function*(b,g){yield qh((0,H.m9)(b),{oobCode:g})})).apply(this,arguments)}function uo(b,g){return dl.apply(this,arguments)}function dl(){return(dl=(0,u.Z)(function*(b,g){const y=(0,H.m9)(b),E=yield Po(y,{oobCode:g}),k=E.requestType;switch(ce(k,y,"internal-error"),k){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ce(E.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ce(E.mfaInfo,y,"internal-error");default:ce(E.email,y,"internal-error")}let N=null;return E.mfaInfo&&(N=Pe._fromServerResponse(cr(y),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:N},operation:k}})).apply(this,arguments)}function om(b,g){return jo.apply(this,arguments)}function jo(){return(jo=(0,u.Z)(function*(b,g){const{data:y}=yield uo((0,H.m9)(b),g);return y.email})).apply(this,arguments)}function Sa(b,g,y){return Er.apply(this,arguments)}function Er(){return(Er=(0,u.Z)(function*(b,g,y){const E=cr(b),k=yield Xl(E,{returnSecureToken:!0,email:g,password:y}),N=yield ci._fromIdTokenResponse(E,"signIn",k);return yield E._updateCurrentUser(N.user),N})).apply(this,arguments)}function gs(b,g,y){return Vo((0,H.m9)(b),Qi.credential(g,y))}function eu(b,g,y){return ho.apply(this,arguments)}function ho(){return(ho=(0,u.Z)(function*(b,g,y){const E=(0,H.m9)(b),k={requestType:"EMAIL_SIGNIN",email:g};ce(y.handleCodeInApp,E,"argument-error"),y&&Uo(E,k,y),yield ql(E,k)})).apply(this,arguments)}function Ns(b,g){return"EMAIL_SIGNIN"===Ea.parseLink(g)?.operation}function ad(b,g,y){return hl.apply(this,arguments)}function hl(){return(hl=(0,u.Z)(function*(b,g,y){const E=(0,H.m9)(b),k=Qi.credentialWithLink(g,y||He());return ce(k._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Vo(E,k)})).apply(this,arguments)}function tu(b,g){return nu.apply(this,arguments)}function nu(){return(nu=(0,u.Z)(function*(b,g){return Wt(b,"POST","/v1/accounts:createAuthUri",en(b,g))})).apply(this,arguments)}function fl(b,g){return $o.apply(this,arguments)}function $o(){return($o=(0,u.Z)(function*(b,g){const E={identifier:g,continueUri:$e()?He():"http://localhost"},{signinMethods:k}=yield tu((0,H.m9)(b),E);return k||[]})).apply(this,arguments)}function ld(b,g){return zo.apply(this,arguments)}function zo(){return(zo=(0,u.Z)(function*(b,g){const y=(0,H.m9)(b),k={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&Uo(y.auth,k,g);const{email:N}=yield wr(y.auth,k);N!==b.email&&(yield b.reload())})).apply(this,arguments)}function ru(b,g,y){return pl.apply(this,arguments)}function pl(){return(pl=(0,u.Z)(function*(b,g,y){const E=(0,H.m9)(b),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};y&&Uo(E.auth,N,y);const{email:ae}=yield il(E.auth,N);ae!==b.email&&(yield b.reload())})).apply(this,arguments)}function iu(b,g){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,u.Z)(function*(b,g){return Wt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function cd(b,g){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,u.Z)(function*(b,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const E=(0,H.m9)(b),N={idToken:yield E.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},ae=yield Bn(E,iu(E.auth,N));E.displayName=ae.displayName||null,E.photoURL=ae.photoUrl||null;const xe=E.providerData.find(({providerId:ot})=>"password"===ot);xe&&(xe.displayName=E.displayName,xe.photoURL=E.photoURL),yield E._updateTokensIfNecessary(ae)})).apply(this,arguments)}function su(b,g){return ml((0,H.m9)(b),g,null)}function ou(b,g){return ml((0,H.m9)(b),null,g)}function ml(b,g,y){return gl.apply(this,arguments)}function gl(){return(gl=(0,u.Z)(function*(b,g,y){const{auth:E}=b,N={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(N.email=g),y&&(N.password=y);const ae=yield Bn(b,In(E,N));yield b._updateTokensIfNecessary(ae,!0)})).apply(this,arguments)}class di{constructor(g,y,E={}){this.isNewUser=g,this.providerId=y,this.profile=E}}class Gn extends di{constructor(g,y,E,k){super(g,y,E),this.username=k}}class ud extends di{constructor(g,y){super(g,"facebook.com",y)}}class Xh extends Gn{constructor(g,y){super(g,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class nc extends di{constructor(g,y){super(g,"google.com",y)}}class dd extends Gn{constructor(g,y,E){super(g,"twitter.com",y,E)}}function au(b){const{user:g,_tokenResponse:y}=b;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function xr(b){var g,y;if(!b)return null;const{providerId:E}=b,k=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},N=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!E&&b?.idToken){const ae=null===(y=null===(g=ct(b.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(ae)return new di(N,"anonymous"!==ae&&"custom"!==ae?ae:null)}if(!E)return null;switch(E){case"facebook.com":return new ud(N,k);case"github.com":return new Xh(N,k);case"google.com":return new nc(N,k);case"twitter.com":return new dd(N,k,b.screenName||null);case"custom":case"anonymous":return new di(N,null);default:return new di(N,E,k)}}(y)}class xa{constructor(g,y){this.type=g,this.credential=y}static _fromIdtoken(g){return new xa("enroll",g)}static _fromMfaPendingCredential(g){return new xa("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,E;if(g?.multiFactorSession){if(null!==(y=g.multiFactorSession)&&void 0!==y&&y.pendingCredential)return xa._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(E=g.multiFactorSession)&&void 0!==E&&E.idToken)return xa._fromIdtoken(g.multiFactorSession.idToken)}return null}}class hd{constructor(g,y,E){this.session=g,this.hints=y,this.signInResolver=E}static _fromError(g,y){const E=cr(g),k=y.customData._serverResponse,N=(k.mfaInfo||[]).map(xe=>Pe._fromServerResponse(E,xe));ce(k.mfaPendingCredential,E,"internal-error");const ae=xa._fromMfaPendingCredential(k.mfaPendingCredential);return new hd(ae,N,function(){var xe=(0,u.Z)(function*(ot){const lt=yield ot._process(E,ae);delete k.mfaInfo,delete k.mfaPendingCredential;const Ht=Object.assign(Object.assign({},k),{idToken:lt.idToken,refreshToken:lt.refreshToken});switch(y.operationType){case"signIn":const jn=yield ci._fromIdTokenResponse(E,y.operationType,Ht);return yield E._updateCurrentUser(jn.user),jn;case"reauthenticate":return ce(y.user,E,"internal-error"),ci._forOperation(y.user,y.operationType,Ht);default:rt(E,"internal-error")}});return function(ot){return xe.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,u.Z)(function*(){return y.signInResolver(g)})()}}function _l(b,g){var y;const E=(0,H.m9)(b),k=g;return ce(g.customData.operationType,E,"argument-error"),ce(null===(y=k.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,E,"argument-error"),hd._fromError(E,k)}function dr(b,g){return Wt(b,"POST","/v2/accounts/mfaEnrollment:start",en(b,g))}class nf{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(E=>Pe._fromServerResponse(g.auth,E)))})}static _fromUser(g){return new nf(g)}getSession(){var g=this;return(0,u.Z)(function*(){return xa._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,y){var E=this;return(0,u.Z)(function*(){const k=g,N=yield E.getSession(),ae=yield Bn(E.user,k._process(E.user.auth,N,y));return yield E.user._updateTokensIfNecessary(ae),E.user.reload()})()}unenroll(g){var y=this;return(0,u.Z)(function*(){var E;const k="string"==typeof g?g:g.uid,N=yield y.user.getIdToken(),ae=yield Bn(y.user,function cm(b,g){return Wt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",en(b,g))}(y.user.auth,{idToken:N,mfaEnrollmentId:k}));y.enrolledFactors=y.enrolledFactors.filter(({uid:xe})=>xe!==k),yield y.user._updateTokensIfNecessary(ae);try{yield y.user.reload()}catch(xe){if("auth/user-token-expired"!==(null===(E=xe)||void 0===E?void 0:E.code))throw xe}})()}}const rf=new WeakMap;function yl(b){const g=(0,H.m9)(b);return rf.has(g)||rf.set(g,nf._fromUser(g)),rf.get(g)}const vl="__sak";class rc{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(vl,"1"),this.storage.removeItem(vl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const yi=(()=>{class b extends rc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,E)=>this.onStorageEvent(y,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function cu(){const b=(0,H.z$)();return z(b)||Mt(b)}()&&function On(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Mr(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const E of Object.keys(this.listeners)){const k=this.storage.getItem(E),N=this.localCache[E];k!==N&&y(E,N,k)}}onStorageEvent(y,E=!1){if(!y.key)return void this.forAllChangedKeys((xe,ot,lt)=>{this.notifyListeners(xe,lt)});const k=y.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const xe=this.storage.getItem(k);if(y.newValue!==xe)null!==y.newValue?this.storage.setItem(k,y.newValue):this.storage.removeItem(k);else if(this.localCache[k]===y.newValue&&!E)return}const N=()=>{const xe=this.storage.getItem(k);!E&&this.localCache[k]===xe||this.notifyListeners(k,xe)},ae=this.storage.getItem(k);!function St(){return(0,H.w1)()&&10===document.documentMode}()||ae===y.newValue||y.newValue===y.oldValue?N():setTimeout(N,10)}notifyListeners(y,E){this.localCache[y]=E;const k=this.listeners[y];if(k)for(const N of Array.from(k))N(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,E,k)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:E,newValue:k}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,E){var k=()=>super._set,N=this;return(0,u.Z)(function*(){yield k().call(N,y,E),N.localCache[y]=JSON.stringify(E)})()}_get(y){var E=()=>super._get,k=this;return(0,u.Z)(function*(){const N=yield E().call(k,y);return k.localCache[y]=JSON.stringify(N),N})()}_remove(y){var E=()=>super._remove,k=this;return(0,u.Z)(function*(){yield E().call(k,y),delete k.localCache[y]})()}}return b.type="LOCAL",b})(),bl=(()=>{class b extends rc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,E){}_removeListener(y,E){}}return b.type="SESSION",b})();let um=(()=>{class b{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const E=this.receivers.find(N=>N.isListeningto(y));if(E)return E;const k=new b(y);return this.receivers.push(k),k}isListeningto(y){return this.eventTarget===y}handleEvent(y){var E=this;return(0,u.Z)(function*(){const k=y,{eventId:N,eventType:ae,data:xe}=k.data,ot=E.handlersMap[ae];if(!ot?.size)return;k.ports[0].postMessage({status:"ack",eventId:N,eventType:ae});const lt=Array.from(ot).map(function(){var jn=(0,u.Z)(function*(Li){return Li(k.origin,xe)});return function(Li){return jn.apply(this,arguments)}}()),Ht=yield function wl(b){return Promise.all(b.map(function(){var g=(0,u.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(E){return{fulfilled:!1,reason:E}}});return function(y){return g.apply(this,arguments)}}()))}(lt);k.ports[0].postMessage({status:"done",eventId:N,eventType:ae,response:Ht})})()}_subscribe(y,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(E)}_unsubscribe(y,E){this.handlersMap[y]&&E&&this.handlersMap[y].delete(E),(!E||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function mn(b="",g=10){let y="";for(let E=0;E<g;E++)y+=Math.floor(10*Math.random());return b+y}class Wo{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,E=50){var k=this;return(0,u.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let ae,xe;return new Promise((ot,lt)=>{const Ht=mn("",20);N.port1.start();const jn=setTimeout(()=>{lt(new Error("unsupported_event"))},E);xe={messageChannel:N,onMessage(Li){const Eo=Li;if(Eo.data.eventId===Ht)switch(Eo.data.status){case"ack":clearTimeout(jn),ae=setTimeout(()=>{lt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ae),ot(Eo.data.response);break;default:clearTimeout(jn),clearTimeout(ae),lt(new Error("invalid_response"))}}},k.handlers.add(xe),N.port1.addEventListener("message",xe.onMessage),k.target.postMessage({eventType:g,eventId:Ht,data:y},[N.port2])}).finally(()=>{xe&&k.removeMessageHandler(xe)})})()}}function qe(){return window}function Hr(){return typeof qe().WorkerGlobalScope<"u"&&"function"==typeof qe().importScripts}function qo(){return(qo=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Cl="firebaseLocalStorageDb",El="firebaseLocalStorage",Ls="fbase_key";class ht{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Yo(b,g){return b.transaction([El],g?"readwrite":"readonly").objectStore(El)}function _s(){const b=indexedDB.open(Cl,1);return new Promise((g,y)=>{b.addEventListener("error",()=>{y(b.error)}),b.addEventListener("upgradeneeded",()=>{const E=b.result;try{E.createObjectStore(El,{keyPath:Ls})}catch(k){y(k)}}),b.addEventListener("success",(0,u.Z)(function*(){const E=b.result;E.objectStoreNames.contains(El)?g(E):(E.close(),yield function lf(){const b=indexedDB.deleteDatabase(Cl);return new ht(b).toPromise()}(),g(yield _s()))}))})}function Ko(b,g,y){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,u.Z)(function*(b,g,y){const E=Yo(b,!0).put({[Ls]:g,value:y});return new ht(E).toPromise()})).apply(this,arguments)}function mo(){return(mo=(0,u.Z)(function*(b,g){const y=Yo(b,!1).get(g),E=yield new ht(y).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Vs(b,g){const y=Yo(b,!0).delete(g);return new ht(y).toPromise()}const Qo=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,u.Z)(function*(){return y.db||(y.db=yield _s()),y.db})()}_withRetries(y){var E=this;return(0,u.Z)(function*(){let k=0;for(;;)try{const N=yield E._openDb();return yield y(N)}catch(N){if(k++>3)throw N;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,u.Z)(function*(){return Hr()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,u.Z)(function*(){y.receiver=um._getInstance(function sc(){return Hr()?self:null}()),y.receiver._subscribe("keyChanged",function(){var E=(0,u.Z)(function*(k,N){return{keyProcessed:(yield y._poll()).includes(N.key)}});return function(k,N){return E.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var E=(0,u.Z)(function*(k,N){return["keyChanged"]});return function(k,N){return E.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,u.Z)(function*(){var E,k;if(y.activeServiceWorker=yield function tr(){return qo.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Wo(y.activeServiceWorker);const N=yield y.sender._send("ping",{},800);!N||(null===(E=N[0])||void 0===E?void 0:E.fulfilled)&&(null===(k=N[0])||void 0===k?void 0:k.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var E=this;return(0,u.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function uu(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:y},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const y=yield _s();return yield Ko(y,vl,"1"),yield Vs(y,vl),!0}catch{}return!1})()}_withPendingWrite(y){var E=this;return(0,u.Z)(function*(){E.pendingWrites++;try{yield y()}finally{E.pendingWrites--}})()}_set(y,E){var k=this;return(0,u.Z)(function*(){return k._withPendingWrite((0,u.Z)(function*(){return yield k._withRetries(N=>Ko(N,y,E)),k.localCache[y]=E,k.notifyServiceWorker(y)}))})()}_get(y){var E=this;return(0,u.Z)(function*(){const k=yield E._withRetries(N=>function fd(b,g){return mo.apply(this,arguments)}(N,y));return E.localCache[y]=k,k})()}_remove(y){var E=this;return(0,u.Z)(function*(){return E._withPendingWrite((0,u.Z)(function*(){return yield E._withRetries(k=>Vs(k,y)),delete E.localCache[y],E.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,u.Z)(function*(){const E=yield y._withRetries(ae=>{const xe=Yo(ae,!1).getAll();return new ht(xe).toPromise()});if(!E)return[];if(0!==y.pendingWrites)return[];const k=[],N=new Set;for(const{fbase_key:ae,value:xe}of E)N.add(ae),JSON.stringify(y.localCache[ae])!==JSON.stringify(xe)&&(y.notifyListeners(ae,xe),k.push(ae));for(const ae of Object.keys(y.localCache))y.localCache[ae]&&!N.has(ae)&&(y.notifyListeners(ae,null),k.push(ae));return k})()}notifyListeners(y,E){this.localCache[y]=E;const k=this.listeners[y];if(k)for(const N of Array.from(k))N(E)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function go(b,g){return Wt(b,"POST","/v2/accounts/mfaSignIn:start",en(b,g))}function xn(){return(xn=(0,u.Z)(function*(b){return(yield Wt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ac(b){return new Promise((g,y)=>{const E=document.createElement("script");E.setAttribute("src",b),E.onload=g,E.onerror=k=>{const N=Le("internal-error");N.customData=k,y(N)},E.type="text/javascript",E.charset="UTF-8",function Oi(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(E)})}function Pi(b){return`__${b}${Math.floor(1e6*Math.random())}`}const gn=1e12;class fn{constructor(g){this.auth=g,this.counter=gn,this._widgets=new Map}render(g,y){const E=this.counter;return this._widgets.set(E,new dm(g,this.auth.name,y||{})),this.counter++,E}reset(g){var y;const E=g||gn;null===(y=this._widgets.get(E))||void 0===y||y.delete(),this._widgets.delete(E)}getResponse(g){var y;return(null===(y=this._widgets.get(g||gn))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,u.Z)(function*(){var E;return null===(E=y._widgets.get(g||gn))||void 0===E||E.execute(),""})()}}class dm{constructor(g,y,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const k="string"==typeof g?document.getElementById(g):g;ce(k,"argument-error",{appName:y}),this.container=k,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function kr(b){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<b;E++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}(50);const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const nr=Pi("rcb"),vi=new Qe(3e4,6e4);class Xr{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=qe().grecaptcha)||void 0===g||!g.render)}load(g,y=""){return ce(function Dl(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(y),g,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(qe().grecaptcha):new Promise((E,k)=>{const N=qe().setTimeout(()=>{k(Le(g,"network-request-failed"))},vi.get());qe()[nr]=()=>{qe().clearTimeout(N),delete qe()[nr];const xe=qe().grecaptcha;if(!xe)return void k(Le(g,"internal-error"));const ot=xe.render;xe.render=(lt,Ht)=>{const jn=ot(lt,Ht);return this.counter++,jn},this.hostLanguage=y,E(xe)},ac(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:nr,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(N),k(Le(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var y;return!(null===(y=qe().grecaptcha)||void 0===y||!y.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Il{load(g){return(0,u.Z)(function*(){return new fn(g)})()}clearedOneInstance(){}}const hm="recaptcha",Xo={theme:"light",type:"image"};class Rn{constructor(g,y=Object.assign({},Xo),E){this.parameters=y,this.type=hm,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=cr(E),this.isInvisible="invisible"===this.parameters.size,ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const k="string"==typeof g?document.getElementById(g):g;ce(k,this.auth,"argument-error"),this.container=k,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Il:new Xr,this.validateStartingState()}verify(){var g=this;return(0,u.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),E=g.getAssertedRecaptcha();return E.getResponse(y)||new Promise(N=>{const ae=xe=>{!xe||(g.tokenChangeListeners.delete(ae),N(xe))};g.tokenChangeListeners.add(ae),g.isInvisible&&E.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ce(!this.parameters.sitekey,this.auth,"argument-error"),ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(E=>E(y)),"function"==typeof g)g(y);else if("string"==typeof g){const E=qe()[g];"function"==typeof E&&E(y)}}}assertNotDestroyed(){ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,u.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const E=document.createElement("div");y.appendChild(E),y=E}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,u.Z)(function*(){ce($e()&&!Hr(),g.auth,"internal-error"),yield function rr(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function ka(b){return xn.apply(this,arguments)}(g.auth);ce(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Jr{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=oo._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function my(b,g,y){return yo.apply(this,arguments)}function yo(){return(yo=(0,u.Z)(function*(b,g,y){const E=cr(b),k=yield Xi(E,g,(0,H.m9)(y));return new Jr(k,N=>Vo(E,N))})).apply(this,arguments)}function $r(b,g,y){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,u.Z)(function*(b,g,y){const E=(0,H.m9)(b);yield Cr(!1,E,"phone");const k=yield Xi(E.auth,g,(0,H.m9)(y));return new Jr(k,N=>Qc(E,N))})).apply(this,arguments)}function md(b,g,y){return vo.apply(this,arguments)}function vo(){return(vo=(0,u.Z)(function*(b,g,y){const E=(0,H.m9)(b),k=yield Xi(E.auth,g,(0,H.m9)(y));return new Jr(k,N=>od(E,N))})).apply(this,arguments)}function Xi(b,g,y){return zt.apply(this,arguments)}function zt(){return(zt=(0,u.Z)(function*(b,g,y){var E;const k=yield y.verify();try{let N;if(ce("string"==typeof k,b,"argument-error"),ce(y.type===hm,b,"argument-error"),N="string"==typeof g?{phoneNumber:g}:g,"session"in N){const ae=N.session;if("phoneNumber"in N)return ce("enroll"===ae.type,b,"internal-error"),(yield dr(b,{idToken:ae.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:k}})).phoneSessionInfo.sessionInfo;{ce("signin"===ae.type,b,"internal-error");const xe=(null===(E=N.multiFactorHint)||void 0===E?void 0:E.uid)||N.multiFactorUid;return ce(xe,b,"missing-multi-factor-info"),(yield go(b,{mfaPendingCredential:ae.credential,mfaEnrollmentId:xe,phoneSignInInfo:{recaptchaToken:k}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ae}=yield rm(b,{phoneNumber:N.phoneNumber,recaptchaToken:k});return ae}}finally{y._reset()}})).apply(this,arguments)}function cf(b,g){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,u.Z)(function*(b,g){yield Da((0,H.m9)(b),g)})).apply(this,arguments)}let fm=(()=>{class b{constructor(y){this.providerId=b.PROVIDER_ID,this.auth=cr(y)}verifyPhoneNumber(y,E){return Xi(this.auth,y,(0,H.m9)(E))}static credential(y,E){return oo._fromVerification(y,E)}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:E,temporaryProof:k}=y;return E&&k?oo._fromTokenResponse(E,k):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function ea(b,g){return g?ie(g):(ce(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class bi extends br{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return No(g,this._buildIdpRequest())}_linkToIdToken(g,y){return No(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return No(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function ei(b){return ui(b.auth,new bi(b),b.bypassAuthState)}function Sl(b){const{auth:g,user:y}=b;return ce(y,g,"internal-error"),ps(y,new bi(b),b.bypassAuthState)}function ta(b){return hu.apply(this,arguments)}function hu(){return(hu=(0,u.Z)(function*(b){const{auth:g,user:y}=b;return ce(y,g,"internal-error"),Da(y,new bi(b),b.bypassAuthState)})).apply(this,arguments)}class Zn{constructor(g,y,E,k,N=!1){this.auth=g,this.resolver=E,this.user=k,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,u.Z)(function*(E,k){g.pendingPromise={resolve:E,reject:k};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(N){g.reject(N)}});return function(E,k){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,u.Z)(function*(){const{urlResponse:E,sessionId:k,postBody:N,tenantId:ae,error:xe,type:ot}=g;if(xe)return void y.reject(xe);const lt={auth:y.auth,requestUri:E,sessionId:k,tenantId:ae||void 0,postBody:N||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(ot)(lt))}catch(Ht){y.reject(Ht)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return ei;case"linkViaPopup":case"linkViaRedirect":return ta;case"reauthViaPopup":case"reauthViaRedirect":return Sl;default:rt(this.auth,"internal-error")}}resolve(g){Ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ji=new Qe(2e3,1e4);function Tl(b,g,y){return Al.apply(this,arguments)}function Al(){return(Al=(0,u.Z)(function*(b,g,y){const E=cr(b);Ae(b,g,hs);const k=ea(E,y);return new Oa(E,"signInViaPopup",g,k).executeNotNull()})).apply(this,arguments)}function fu(b,g,y){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,u.Z)(function*(b,g,y){const E=(0,H.m9)(b);Ae(E.auth,g,hs);const k=ea(E.auth,y);return new Oa(E.auth,"reauthViaPopup",g,k,E).executeNotNull()})).apply(this,arguments)}function uf(b,g,y){return lc.apply(this,arguments)}function lc(){return(lc=(0,u.Z)(function*(b,g,y){const E=(0,H.m9)(b);Ae(E.auth,g,hs);const k=ea(E.auth,y);return new Oa(E.auth,"linkViaPopup",g,k,E).executeNotNull()})).apply(this,arguments)}let Oa=(()=>{class b extends Zn{constructor(y,E,k,N,ae){super(y,E,N,ae),this.provider=k,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var y=this;return(0,u.Z)(function*(){const E=yield y.execute();return ce(E,y.auth,"internal-error"),E})()}onExecution(){var y=this;return(0,u.Z)(function*(){Ce(1===y.filter.length,"Popup operations only handle one event");const E=mn();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],E),y.authWindow.associatedEvent=E,y.resolver._originValidation(y.auth).catch(k=>{y.reject(k)}),y.resolver._isIframeWebStorageSupported(y.auth,k=>{k||y.reject(Le(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Le(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const y=()=>{var E,k;this.pollId=null!==(k=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==k&&k.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Le(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,Ji.get())};y()}}return b.currentPopupAction=null,b})();const ys=new Map;class Bs extends Zn{constructor(g,y,E=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,E),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,u.Z)(function*(){let E=ys.get(y.auth._key());if(!E){try{const N=(yield function bo(b,g){return Us.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;E=()=>Promise.resolve(N)}catch(k){E=()=>Promise.reject(k)}ys.set(y.auth._key(),E)}return y.bypassAuthState||ys.set(y.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,E=this;return(0,u.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(E,g);if("unknown"!==g.type){if(g.eventId){const k=yield E.auth._redirectUserForId(g.eventId);if(k)return E.user=k,y().call(E,g);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Us(){return(Us=(0,u.Z)(function*(b,g){const y=_d(g),E=Pa(b);if(!(yield E._isAvailable()))return!1;const k="true"===(yield E._get(y));return yield E._remove(y),k})).apply(this,arguments)}function Kt(b,g){return wi.apply(this,arguments)}function wi(){return(wi=(0,u.Z)(function*(b,g){return Pa(b)._set(_d(g),"true")})).apply(this,arguments)}function gd(){ys.clear()}function Dr(b,g){ys.set(b._key(),g)}function Pa(b){return ie(b._redirectPersistence)}function _d(b){return hn("pendingRedirect",b.config.apiKey,b.name)}function Wn(b,g,y){return function yd(b,g,y){return na.apply(this,arguments)}(b,g,y)}function na(){return(na=(0,u.Z)(function*(b,g,y){const E=cr(b);Ae(b,g,hs);const k=ea(E,y);return yield Kt(k,E),k._openRedirect(E,g,"signInViaRedirect")})).apply(this,arguments)}function ra(b,g,y){return function S(b,g,y){return T.apply(this,arguments)}(b,g,y)}function T(){return(T=(0,u.Z)(function*(b,g,y){const E=(0,H.m9)(b);Ae(E.auth,g,hs);const k=ea(E.auth,y);yield Kt(k,E.auth);const N=yield Vt(E);return k._openRedirect(E.auth,g,"reauthViaRedirect",N)})).apply(this,arguments)}function R(b,g,y){return function U(b,g,y){return ee.apply(this,arguments)}(b,g,y)}function ee(){return(ee=(0,u.Z)(function*(b,g,y){const E=(0,H.m9)(b);Ae(E.auth,g,hs);const k=ea(E.auth,y);yield Cr(!1,E,g.providerId),yield Kt(k,E.auth);const N=yield Vt(E);return k._openRedirect(E.auth,g,"linkViaRedirect",N)})).apply(this,arguments)}function he(b,g){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,u.Z)(function*(b,g){return yield cr(b)._initializationPromise,Ze(b,g,!1)})).apply(this,arguments)}function Ze(b,g){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,u.Z)(function*(b,g,y=!1){const E=cr(b),k=ea(E,g),ae=yield new Bs(E,k,y).execute();return ae&&!y&&(delete ae.user._redirectEventId,yield E._persistUserIfCurrent(ae.user),yield E._setRedirectUser(null,g)),ae})).apply(this,arguments)}function Vt(b){return xt.apply(this,arguments)}function xt(){return(xt=(0,u.Z)(function*(b){const g=mn(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class Ir{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(g,E)&&(y=!0,this.sendToConsumer(g,E),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function vs(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ml(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var E;if(g.error&&!Ml(g)){const k=(null===(E=g.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";y.onError(Le(this.auth,k))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const E=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&E}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fi(g))}saveEventToCache(g){this.cachedEventUids.add(fi(g)),this.lastProcessedEventTime=Date.now()}}function fi(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function Ml({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===g?.code}function Ci(b){return Na.apply(this,arguments)}function Na(){return(Na=(0,u.Z)(function*(b,g={}){return Wt(b,"GET","/v1/projects",g)})).apply(this,arguments)}const vd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fi=/^https?/;function Fa(){return(Fa=(0,u.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield Ci(b);for(const y of g)try{if(bd(y))return}catch{}rt(b,"unauthorized-domain")})).apply(this,arguments)}function bd(b){const g=He(),{protocol:y,hostname:E}=new URL(g);if(b.startsWith("chrome-extension://")){const ae=new URL(b);return""===ae.hostname&&""===E?"chrome-extension:"===y&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&ae.hostname===E}if(!Fi.test(y))return!1;if(vd.test(b))return E===b;const k=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+k+"|"+k+")$","i").test(E)}const gy=new Qe(3e4,6e4);function mm(){const b=qe().___jsl;if(b?.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let y=0;y<b.CP.length;y++)b.CP[y]=null}let ia=null;function cc(b){return ia=ia||function La(b){return new Promise((g,y)=>{var E,k,N;function ae(){mm(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{mm(),y(Le(b,"network-request-failed"))},timeout:gy.get()})}if(null!==(k=null===(E=qe().gapi)||void 0===E?void 0:E.iframes)&&void 0!==k&&k.Iframe)g(gapi.iframes.getContext());else{if(null===(N=qe().gapi)||void 0===N||!N.load){const xe=Pi("iframefcb");return qe()[xe]=()=>{gapi.load?ae():y(Le(b,"network-request-failed"))},ac(`https://apis.google.com/js/api.js?onload=${xe}`).catch(ot=>y(ot))}ae()}}).catch(g=>{throw ia=null,g})}(b),ia}const df=new Qe(5e3,15e3),pu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ff=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yy(b){const g=b.config;ce(g.authDomain,b,"auth-domain-config-required");const y=g.emulator?En(g,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,E={apiKey:g.apiKey,appName:b.name,v:P.SDK_VERSION},k=ff.get(b.config.apiHost);k&&(E.eid=k);const N=b._getFrameworks();return N.length&&(E.fw=N.join(",")),`${y}?${(0,H.xO)(E).slice(1)}`}function uc(){return uc=(0,u.Z)(function*(b){const g=yield cc(b),y=qe().gapi;return ce(y,b,"internal-error"),g.open({where:document.body,url:yy(b),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pu,dontclear:!0},E=>new Promise(function(){var k=(0,u.Z)(function*(N,ae){yield E.restyle({setHideOnLeave:!1});const xe=Le(b,"network-request-failed"),ot=qe().setTimeout(()=>{ae(xe)},df.get());function lt(){qe().clearTimeout(ot),N(E)}E.ping(lt).then(lt,()=>{ae(xe)})});return function(N,ae){return k.apply(this,arguments)}}()))}),uc.apply(this,arguments)}const mu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dc{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bs(b,g,y,E,k,N){ce(b.config.authDomain,b,"auth-domain-config-required"),ce(b.config.apiKey,b,"invalid-api-key");const ae={apiKey:b.config.apiKey,appName:b.name,authType:y,redirectUrl:E,v:P.SDK_VERSION,eventId:k};if(g instanceof hs){g.setDefaultLanguage(b.languageCode),ae.providerId=g.providerId||"",(0,H.xb)(g.getCustomParameters())||(ae.customParameters=JSON.stringify(g.getCustomParameters()));for(const[ot,lt]of Object.entries(N||{}))ae[ot]=lt}if(g instanceof ao){const ot=g.getScopes().filter(lt=>""!==lt);ot.length>0&&(ae.scopes=ot.join(","))}b.tenantId&&(ae.tid=b.tenantId);const xe=ae;for(const ot of Object.keys(xe))void 0===xe[ot]&&delete xe[ot];return`${function gm({config:b}){return b.emulator?En(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,H.xO)(xe).slice(1)}`}const gf="webStorageSupport",_m=class by{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bl,this._completeRedirectFn=Ze,this._overrideRedirectResult=Dr}_openPopup(g,y,E,k){var N=this;return(0,u.Z)(function*(){var ae;Ce(null===(ae=N.eventManagers[g._key()])||void 0===ae?void 0:ae.manager,"_initialize() not called before _openPopup()");const xe=bs(g,y,E,He(),k);return function wd(b,g,y,E=500,k=600){const N=Math.max((window.screen.availHeight-k)/2,0).toString(),ae=Math.max((window.screen.availWidth-E)/2,0).toString();let xe="";const ot=Object.assign(Object.assign({},mu),{width:E.toString(),height:k.toString(),top:N,left:ae}),lt=(0,H.z$)().toLowerCase();y&&(xe=De(lt)?"_blank":y),$(lt)&&(g=g||"http://localhost",ot.scrollbars="yes");const Ht=Object.entries(ot).reduce((Li,[Eo,gu])=>`${Li}${Eo}=${gu},`,"");if(function Ar(b=(0,H.z$)()){var g;return Mt(b)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(lt)&&"_self"!==xe)return function Co(b,g){const y=document.createElement("a");y.href=b,y.target=g;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(E)}(g||"",xe),new dc(null);const jn=window.open(g||"",xe,Ht);ce(jn,b,"popup-blocked");try{jn.focus()}catch{}return new dc(jn)}(g,xe,mn())})()}_openRedirect(g,y,E,k){var N=this;return(0,u.Z)(function*(){return yield N._originValidation(g),function yt(b){qe().location.href=b}(bs(g,y,E,He(),k)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:k,promise:N}=this.eventManagers[y];return k?Promise.resolve(k):(Ce(N,"If manager is not set, promise should be"),N)}const E=this.initAndGetManager(g);return this.eventManagers[y]={promise:E},E.catch(()=>{delete this.eventManagers[y]}),E}initAndGetManager(g){var y=this;return(0,u.Z)(function*(){const E=yield function pf(b){return uc.apply(this,arguments)}(g),k=new Ir(g);return E.register("authEvent",N=>(ce(N?.authEvent,g,"invalid-auth-event"),{status:k.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:k},y.iframes[g._key()]=E,k})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(gf,{type:gf},k=>{var N;const ae=null===(N=k?.[0])||void 0===N?void 0:N[gf];void 0!==ae&&y(!!ae),rt(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Hs(b){return Fa.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return Mr()||z()||Mt()}};class js extends class wy{constructor(g){this.factorId=g}_process(g,y,E){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,E);case"signin":return this._finalizeSignIn(g,y.credential);default:return pe("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new js(g)}_finalizeEnroll(g,y,E){return function tf(b,g){return Wt(b,"POST","/v2/accounts/mfaEnrollment:finalize",en(b,g))}(g,{idToken:y,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function _o(b,g){return Wt(b,"POST","/v2/accounts/mfaSignIn:finalize",en(b,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let hc=(()=>{class b{constructor(){}static assertion(y){return js._fromCredential(y)}}return b.FACTOR_ID="phone",b})();var ym="@firebase/auth";class Cy{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,u.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(E=>{var k;g((null===(k=E)||void 0===k?void 0:k.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);!y||(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bm(b=(0,P.getApp)()){const g=(0,P._getProvider)(b,"auth");return g.isInitialized()?g.getImmediate():function _e(b,g){const y=(0,P._getProvider)(b,"auth");if(y.isInitialized()){const k=y.getImmediate(),N=y.getOptions();if((0,H.vZ)(N,g??{}))return k;rt(k,"already-initialized")}return y.initialize({options:g})}(b,{popupRedirectResolver:_m,persistence:[Qo,yi,bl]})}!function Dy(b){(0,P._registerComponent)(new we.wA("auth",(g,{options:y})=>{const E=g.getProvider("app").getImmediate(),k=g.getProvider("heartbeat"),{apiKey:N,authDomain:ae}=E.options;return((xe,ot)=>{ce(N&&!N.includes(":"),"invalid-api-key",{appName:xe.name}),ce(!ae?.includes(":"),"argument-error",{appName:xe.name});const lt={apiKey:N,authDomain:ae,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eo(b)},Ht=new Yt(xe,ot,lt);return function de(b,g){const y=g?.persistence||[],E=(Array.isArray(y)?y:[y]).map(ie);g?.errorMap&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(E,g?.popupRedirectResolver)}(Ht,y),Ht})(E,k)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,E)=>{g.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new we.wA("auth-internal",g=>{const y=cr(g.getProvider("auth").getImmediate());return new Cy(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(ym,"0.20.5",function Ey(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,P.registerVersion)(ym,"0.20.5","esm2017")}("Browser")},2090:(_t,Re,F)=>{F.d(Re,{$s:()=>ai,BH:()=>Ge,DV:()=>Wt,G6:()=>ce,GJ:()=>sn,L:()=>ge,LL:()=>He,Mn:()=>Ae,Pz:()=>Jt,Sg:()=>Ve,UG:()=>Ie,UI:()=>Js,US:()=>we,Yr:()=>Ke,ZB:()=>q,ZR:()=>de,b$:()=>rt,cI:()=>rn,d:()=>Le,dS:()=>ct,eu:()=>Ce,g5:()=>P,gK:()=>yr,gQ:()=>us,h$:()=>oe,hl:()=>pe,hu:()=>H,jU:()=>be,m9:()=>Lt,ne:()=>vt,p$:()=>W,pd:()=>Jn,r3:()=>en,ru:()=>nt,tV:()=>Ee,uI:()=>at,ug:()=>st,vZ:()=>Zr,w1:()=>Fe,w9:()=>cn,xO:()=>Ai,xb:()=>Kr,z$:()=>Se,zI:()=>te,zd:()=>Mi});const H=function(J,G){if(!J)throw P(G)},P=function(J){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+J)},ue=function(J){const G=[];let j=0;for(let Y=0;Y<J.length;Y++){let K=J.charCodeAt(Y);K<128?G[j++]=K:K<2048?(G[j++]=K>>6|192,G[j++]=63&K|128):55296==(64512&K)&&Y+1<J.length&&56320==(64512&J.charCodeAt(Y+1))?(K=65536+((1023&K)<<10)+(1023&J.charCodeAt(++Y)),G[j++]=K>>18|240,G[j++]=K>>12&63|128,G[j++]=K>>6&63|128,G[j++]=63&K|128):(G[j++]=K>>12|224,G[j++]=K>>6&63|128,G[j++]=63&K|128)}return G},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(J,G){if(!Array.isArray(J))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,Y=[];for(let K=0;K<J.length;K+=3){const ke=J[K],Ye=K+1<J.length,It=Ye?J[K+1]:0,pn=K+2<J.length,hn=pn?J[K+2]:0;let $=(15&It)<<2|hn>>6,z=63&hn;pn||(z=64,Ye||($=64)),Y.push(j[ke>>2],j[(3&ke)<<4|It>>4],j[$],j[z])}return Y.join("")},encodeString(J,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(J):this.encodeByteArray(ue(J),G)},decodeString(J,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(J):function(J){const G=[];let j=0,Y=0;for(;j<J.length;){const K=J[j++];if(K<128)G[Y++]=String.fromCharCode(K);else if(K>191&&K<224){const ke=J[j++];G[Y++]=String.fromCharCode((31&K)<<6|63&ke)}else if(K>239&&K<365){const pn=((7&K)<<18|(63&J[j++])<<12|(63&J[j++])<<6|63&J[j++])-65536;G[Y++]=String.fromCharCode(55296+(pn>>10)),G[Y++]=String.fromCharCode(56320+(1023&pn))}else{const ke=J[j++],Ye=J[j++];G[Y++]=String.fromCharCode((15&K)<<12|(63&ke)<<6|63&Ye)}}return G.join("")}(this.decodeStringToByteArray(J,G))},decodeStringToByteArray(J,G){this.init_();const j=G?this.charToByteMapWebSafe_:this.charToByteMap_,Y=[];for(let K=0;K<J.length;){const ke=j[J.charAt(K++)],It=K<J.length?j[J.charAt(K)]:0;++K;const hn=K<J.length?j[J.charAt(K)]:64;++K;const se=K<J.length?j[J.charAt(K)]:64;if(++K,null==ke||null==It||null==hn||null==se)throw Error();Y.push(ke<<2|It>>4),64!==hn&&(Y.push(It<<4&240|hn>>2),64!==se&&Y.push(hn<<6&192|se))}return Y},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let J=0;J<this.ENCODED_VALS.length;J++)this.byteToCharMap_[J]=this.ENCODED_VALS.charAt(J),this.charToByteMap_[this.byteToCharMap_[J]]=J,this.byteToCharMapWebSafe_[J]=this.ENCODED_VALS_WEBSAFE.charAt(J),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[J]]=J,J>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(J)]=J,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(J)]=J)}}},oe=function(J){const G=ue(J);return we.encodeByteArray(G,!0)},ge=function(J){return oe(J).replace(/\./g,"")},Ee=function(J){try{return we.decodeString(J,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function W(J){return q(void 0,J)}function q(J,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===J&&(J={});break;case Array:J=[];break;default:return G}for(const j in G)!G.hasOwnProperty(j)||!ne(j)||(J[j]=q(J[j],G[j]));return J}function ne(J){return"__proto__"!==J}class Ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,j)=>{this.resolve=G,this.reject=j})}wrapCallback(G){return(j,Y)=>{j?this.reject(j):this.resolve(Y),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(j):G(j,Y))}}}function Ve(J,G){if(J.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Y=G||"demo-project",K=J.iat||0,ke=J.sub||J.user_id;if(!ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ye=Object.assign({iss:`https://securetoken.google.com/${Y}`,aud:Y,iat:K,exp:K+3600,auth_time:K,sub:ke,user_id:ke,firebase:{sign_in_provider:"custom",identities:{}}},J);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(Ye)),""].join(".")}function Se(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function at(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Se())}function Ie(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function be(){return"object"==typeof self&&self.self===self}function nt(){const J="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof J&&void 0!==J.id}function rt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Le(){return Se().indexOf("Electron/")>=0}function Fe(){const J=Se();return J.indexOf("MSIE ")>=0||J.indexOf("Trident/")>=0}function Ae(){return Se().indexOf("MSAppHost/")>=0}function Ke(){return!1}function ce(){return!Ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pe(){return"object"==typeof indexedDB}function Ce(){return new Promise((J,G)=>{try{let j=!0;const Y="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(Y);K.onsuccess=()=>{K.result.close(),j||self.indexedDB.deleteDatabase(Y),J(!0)},K.onupgradeneeded=()=>{j=!1},K.onerror=()=>{var ke;G((null===(ke=K.error)||void 0===ke?void 0:ke.message)||"")}}catch(j){G(j)}})}function te(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class de extends Error{constructor(G,j,Y){super(j),this.code=G,this.customData=Y,this.name="FirebaseError",Object.setPrototypeOf(this,de.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,He.prototype.create)}}class He{constructor(G,j,Y){this.service=G,this.serviceName=j,this.errors=Y}create(G,...j){const Y=j[0]||{},K=`${this.service}/${G}`,ke=this.errors[G],Ye=ke?function $e(J,G){return J.replace(wt,(j,Y)=>{const K=G[Y];return null!=K?String(K):`<${Y}?>`})}(ke,Y):"Error";return new de(K,`${this.serviceName}: ${Ye} (${K}).`,Y)}}const wt=/\{\$([^}]+)}/g;function rn(J){return JSON.parse(J)}function Jt(J){return JSON.stringify(J)}const Qe=function(J){let G={},j={},Y={},K="";try{const ke=J.split(".");G=rn(Ee(ke[0])||""),j=rn(Ee(ke[1])||""),K=ke[2],Y=j.d||{},delete j.d}catch{}return{header:G,claims:j,data:Y,signature:K}},cn=function(J){const j=Qe(J).claims;return!!j&&"object"==typeof j&&j.hasOwnProperty("iat")},sn=function(J){const G=Qe(J).claims;return"object"==typeof G&&!0===G.admin};function en(J,G){return Object.prototype.hasOwnProperty.call(J,G)}function Wt(J,G){if(Object.prototype.hasOwnProperty.call(J,G))return J[G]}function Kr(J){for(const G in J)if(Object.prototype.hasOwnProperty.call(J,G))return!1;return!0}function Js(J,G,j){const Y={};for(const K in J)Object.prototype.hasOwnProperty.call(J,K)&&(Y[K]=G.call(j,J[K],K,J));return Y}function Zr(J,G){if(J===G)return!0;const j=Object.keys(J),Y=Object.keys(G);for(const K of j){if(!Y.includes(K))return!1;const ke=J[K],Ye=G[K];if(Vn(ke)&&Vn(Ye)){if(!Zr(ke,Ye))return!1}else if(ke!==Ye)return!1}for(const K of Y)if(!j.includes(K))return!1;return!0}function Vn(J){return null!==J&&"object"==typeof J}function Ai(J){const G=[];for(const[j,Y]of Object.entries(J))Array.isArray(Y)?Y.forEach(K=>{G.push(encodeURIComponent(j)+"="+encodeURIComponent(K))}):G.push(encodeURIComponent(j)+"="+encodeURIComponent(Y));return G.length?"&"+G.join("&"):""}function Mi(J){const G={};return J.replace(/^\?/,"").split("&").forEach(Y=>{if(Y){const[K,ke]=Y.split("=");G[decodeURIComponent(K)]=decodeURIComponent(ke)}}),G}function Jn(J){const G=J.indexOf("?");if(!G)return"";const j=J.indexOf("#",G);return J.substring(G,j>0?j:void 0)}class us{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let G=1;G<this.blockSize;++G)this.pad_[G]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(G,j){j||(j=0);const Y=this.W_;if("string"==typeof G)for(let se=0;se<16;se++)Y[se]=G.charCodeAt(j)<<24|G.charCodeAt(j+1)<<16|G.charCodeAt(j+2)<<8|G.charCodeAt(j+3),j+=4;else for(let se=0;se<16;se++)Y[se]=G[j]<<24|G[j+1]<<16|G[j+2]<<8|G[j+3],j+=4;for(let se=16;se<80;se++){const $=Y[se-3]^Y[se-8]^Y[se-14]^Y[se-16];Y[se]=4294967295&($<<1|$>>>31)}let hn,lr,K=this.chain_[0],ke=this.chain_[1],Ye=this.chain_[2],It=this.chain_[3],pn=this.chain_[4];for(let se=0;se<80;se++){se<40?se<20?(hn=It^ke&(Ye^It),lr=1518500249):(hn=ke^Ye^It,lr=1859775393):se<60?(hn=ke&Ye|It&(ke|Ye),lr=2400959708):(hn=ke^Ye^It,lr=3395469782);const $=(K<<5|K>>>27)+hn+pn+lr+Y[se]&4294967295;pn=It,It=Ye,Ye=4294967295&(ke<<30|ke>>>2),ke=K,K=$}this.chain_[0]=this.chain_[0]+K&4294967295,this.chain_[1]=this.chain_[1]+ke&4294967295,this.chain_[2]=this.chain_[2]+Ye&4294967295,this.chain_[3]=this.chain_[3]+It&4294967295,this.chain_[4]=this.chain_[4]+pn&4294967295}update(G,j){if(null==G)return;void 0===j&&(j=G.length);const Y=j-this.blockSize;let K=0;const ke=this.buf_;let Ye=this.inbuf_;for(;K<j;){if(0===Ye)for(;K<=Y;)this.compress_(G,K),K+=this.blockSize;if("string"==typeof G){for(;K<j;)if(ke[Ye]=G.charCodeAt(K),++Ye,++K,Ye===this.blockSize){this.compress_(ke),Ye=0;break}}else for(;K<j;)if(ke[Ye]=G[K],++Ye,++K,Ye===this.blockSize){this.compress_(ke),Ye=0;break}}this.inbuf_=Ye,this.total_+=j}digest(){const G=[];let j=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let K=this.blockSize-1;K>=56;K--)this.buf_[K]=255&j,j/=256;this.compress_(this.buf_);let Y=0;for(let K=0;K<5;K++)for(let ke=24;ke>=0;ke-=8)G[Y]=this.chain_[K]>>ke&255,++Y;return G}}function vt(J,G){const j=new Dn(J,G);return j.subscribe.bind(j)}class Dn{constructor(G,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{G(this)}).catch(Y=>{this.error(Y)})}next(G){this.forEachObserver(j=>{j.next(G)})}error(G){this.forEachObserver(j=>{j.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,j,Y){let K;if(void 0===G&&void 0===j&&void 0===Y)throw new Error("Missing Observer.");K=function un(J,G){if("object"!=typeof J||null===J)return!1;for(const j of G)if(j in J&&"function"==typeof J[j])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:j,complete:Y},void 0===K.next&&(K.next=_r),void 0===K.error&&(K.error=_r),void 0===K.complete&&(K.complete=_r);const ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),ke}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,G)}sendOne(G,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{j(this.observers[G])}catch(Y){typeof console<"u"&&console.error&&console.error(Y)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _r(){}function yr(J,G){return`${J} failed: ${G} argument `}const ct=function(J){const G=[];let j=0;for(let Y=0;Y<J.length;Y++){let K=J.charCodeAt(Y);if(K>=55296&&K<=56319){const ke=K-55296;Y++,H(Y<J.length,"Surrogate pair missing trail surrogate."),K=65536+(ke<<10)+(J.charCodeAt(Y)-56320)}K<128?G[j++]=K:K<2048?(G[j++]=K>>6|192,G[j++]=63&K|128):K<65536?(G[j++]=K>>12|224,G[j++]=K>>6&63|128,G[j++]=63&K|128):(G[j++]=K>>18|240,G[j++]=K>>12&63|128,G[j++]=K>>6&63|128,G[j++]=63&K|128)}return G},st=function(J){let G=0;for(let j=0;j<J.length;j++){const Y=J.charCodeAt(j);Y<128?G++:Y<2048?G+=2:Y>=55296&&Y<=56319?(G+=4,j++):G+=3}return G};function ai(J,G=1e3,j=2){const Y=G*Math.pow(j,J),K=Math.round(.5*Y*(Math.random()-.5)*2);return Math.min(144e5,Y+K)}function Lt(J){return J&&J._delegate?J._delegate:J}},1547:(_t,Re,F)=>{var u=F(4650);let H=null;function P(){return H}const oe=new u.OlP("DocumentToken");let ge=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ee(){return(0,u.LFG)(q)}()},providedIn:"platform"}),n})();const W=new u.OlP("Location Initialized");let q=(()=>{class n extends ge{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,i){ne()?this._history.pushState(e,r,i):this.location.hash=i}replaceState(e,r,i){ne()?this._history.replaceState(e,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ge(){return new q((0,u.LFG)(oe))}()},providedIn:"platform"}),n})();function ne(){return!!window.history.pushState}function Ve(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Se(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function at(n){return n&&"?"!==n[0]?"?"+n:n}let Ie=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(nt)},providedIn:"root"}),n})();const be=new u.OlP("appBaseHref");let nt=(()=>{class n extends Ie{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ve(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+at(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,s){const c=this.prepareExternalUrl(i+at(s));this._platformLocation.pushState(e,r,c)}replaceState(e,r,i,s){const c=this.prepareExternalUrl(i+at(s));this._platformLocation.replaceState(e,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ge),u.LFG(be,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rt=(()=>{class n extends Ie{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Ve(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,s){let c=this.prepareExternalUrl(i+at(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,r,c)}replaceState(e,r,i,s){let c=this.prepareExternalUrl(i+at(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ge),u.LFG(be,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Le=(()=>{class n{constructor(e){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._baseHref=Se(Ke(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+at(r))}normalize(e){return n.stripTrailingSlash(function Ae(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ke(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+at(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+at(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.normalizeQueryParams=at,n.joinWithSlash=Ve,n.stripTrailingSlash=Se,n.\u0275fac=function(e){return new(e||n)(u.LFG(Ie))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Fe(){return new Le((0,u.LFG)(Ie))}()},providedIn:"root"}),n})();function Ke(n){return n.replace(/\/index.html$/,"")}let wa=(()=>{class n{constructor(e,r,i,s){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class As{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ms=(()=>{class n{constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,s,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new As(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===s?void 0:s);else if(null!==s){const h=r.get(s);r.move(h,c),ds(h,i)}});for(let i=0,s=r.length;i<s;i++){const h=r.get(i).context;h.index=i,h.count=s,h.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{ds(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function ds(n,t){n.context.$implicit=t.item}let so=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new li,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ur("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ur("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class li{constructor(){this.$implicit=null,this.ngIf=null}}function Ur(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(t)}'.`)}class ql{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let xs=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),il=(()=>{class n{constructor(e,r,i){this.ngSwitch=i,i._addCase(),this._view=new ql(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(xs,9))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Yl=(()=>{class n{constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[i,s]=e.split("."),c=-1===i.indexOf("-")?void 0:u.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,c):this._renderer.removeStyle(this._ngEl.nativeElement,i,c)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(u.aQg),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();class nm{createSubscription(t,e){return t.subscribe({next:e,error:r=>{throw r}})}dispose(t){t.unsubscribe()}}class ks{createSubscription(t,e){return t.then(e,r=>{throw r})}dispose(t){}}const rm=new ks,nd=new nm;let Kh=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if((0,u.QGY)(e))return rm;if((0,u.F4k)(e))return nd;throw function Ri(n,t){return new u.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.sBO,16))},n.\u0275pipe=u.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),Lo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const fs="browser";function Jl(n){return"server"===n}let Qh=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new ll((0,u.LFG)(oe),window)}),n})();class ll{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function cl(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const c=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ur(this.window.history)||ur(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ur(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class lo extends class Cr extends class we{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function fe(n){H||(H=n)}(new lo)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Zc(){return ps=ps||document.querySelector("base"),ps?ps.getAttribute("href"):null}();return null==e?null:function Ia(n){ui=ui||document.createElement("a"),ui.setAttribute("href",n);const t=ui.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ps=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function In(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,s]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let ui,ps=null;const Vo=new u.OlP("TRANSITION_ID"),Qc=[{provide:u.ip1,useFactory:function dt(n,t,e){return()=>{e.get(u.CZH).donePromise.then(()=>{const r=P(),i=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Vo,oe,u.zs3],multi:!0}];let od=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const co=new u.OlP("EventManagerPlugins");let ul=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const c=i[s];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(co),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Bo{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const i=P().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let tc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Os=(()=>{class n extends tc{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,i){e.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,i.push(r.appendChild(c))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(Pe),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(e,i,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Pe))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Pe(n){P().remove(n)}const Qt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Uo=/%COMP%/g;function uo(n,t,e){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?uo(n,i,e):(i=i.replace(Uo,n),e.push(i))}return e}function dl(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let jo=(()=>{class n{constructor(e,r,i){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Sa(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new ho(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(e),i}case 1:case u.ifc.ShadowDom:return new Ns(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const i=uo(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ul),u.LFG(Os),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Sa{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Qt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(eu(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(eu(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const s=Qt[i];s?t.setAttributeNS(s,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=Qt[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(u.JOm.DashCase|u.JOm.Important)?t.style.setProperty(e,r,i&u.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&u.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,dl(r)):this.eventManager.addEventListener(t,e,dl(r))}}function eu(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ho extends Sa{constructor(t,e,r,i){super(t),this.component=r;const s=uo(i+"-"+r.id,r.styles,[]);e.addStyles(s),this.contentAttr=function ms(n){return"_ngcontent-%COMP%".replace(Uo,n)}(i+"-"+r.id),this.hostAttr=function Ho(n){return"_nghost-%COMP%".replace(Uo,n)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class Ns extends Sa{constructor(t,e,r,i){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=uo(i.id,i.styles,[]);for(let c=0;c<s.length;c++){const h=document.createElement("style");h.textContent=s[c],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ad=(()=>{class n extends Bo{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const hl=["alt","control","meta","shift"],nu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},$o={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ld=(()=>{class n extends Bo{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const s=n.parseEventName(r),c=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,s.domEventName,c))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let c="";if(hl.forEach(p=>{const _=r.indexOf(p);_>-1&&(r.splice(_,1),c+=p+".")}),c+=s,0!=r.length||0===s.length)return null;const h={};return h.domEventName=i,h.fullKey=c,h}static getEventFullKey(e){let r="",i=function zo(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&fl.hasOwnProperty(t)&&(t=fl[t]))}return nu[t]||t}(e);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),hl.forEach(s=>{s!=i&&(0,$o[s])(e)&&(r+=s+".")}),r+=i,r}static eventCallback(e,r,i){return s=>{n.getEventFullKey(s)===e&&i.runGuarded(()=>r(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ou=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:fs},{provide:u.g9A,useValue:function Ta(){lo.makeCurrent()},multi:!0},{provide:oe,useFactory:function Aa(){return(0,u.RDi)(document),document},deps:[]}]),ml=new u.OlP(""),gl=[{provide:u.rWj,useClass:class ec{addToWindow(t){u.dqk.getAngularTestability=(r,i=!0)=>{const s=t.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},u.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let s=i.length,c=!1;const h=function(p){c=c||p,s--,0==s&&r(c)};i.forEach(function(p){p.whenStable(h)})})}findTestabilityInTree(t,e,r){return null==e?null:t.getTestability(e)??(r?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],xr=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function cd(){return new u.qLn},deps:[]},{provide:co,useClass:ad,multi:!0,deps:[oe,u.R0b,u.Lbi]},{provide:co,useClass:ld,multi:!0,deps:[oe]},{provide:jo,useClass:jo,deps:[ul,Os,u.AFp]},{provide:u.FYo,useExisting:jo},{provide:tc,useExisting:Os},{provide:Os,useClass:Os,deps:[oe]},{provide:ul,useClass:ul,deps:[co,u.R0b]},{provide:class Rs{},useClass:od,deps:[]},[]];let di=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:u.AFp,useValue:e.appId},{provide:Vo,useExisting:u.AFp},Qc]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ml,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...xr,...gl],imports:[Lo,u.hGG]}),n})(),dd=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function nc(){return new dd((0,u.LFG)(oe))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Go=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(e){let r=null;return r=e?new(e||n):u.LFG(wl),r},providedIn:"root"}),n})(),wl=(()=>{class n extends Go{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case u.q3G.NONE:return r;case u.q3G.HTML:return(0,u.qzn)(r,"HTML")?(0,u.z3N)(r):(0,u.EiD)(this._doc,String(r)).toString();case u.q3G.STYLE:return(0,u.qzn)(r,"Style")?(0,u.z3N)(r):r;case u.q3G.SCRIPT:if((0,u.qzn)(r,"Script"))return(0,u.z3N)(r);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.qzn)(r,"URL")?(0,u.z3N)(r):(0,u.mCW)(String(r));case u.q3G.RESOURCE_URL:if((0,u.qzn)(r,"ResourceURL"))return(0,u.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,u.JVY)(e)}bypassSecurityTrustStyle(e){return(0,u.L6k)(e)}bypassSecurityTrustScript(e){return(0,u.eBb)(e)}bypassSecurityTrustUrl(e){return(0,u.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,u.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function bl(n){return new wl(n.get(oe))}(u.LFG(u.zs3)),r},providedIn:"root"}),n})();var mn=F(8996),Wo=F(3269);function qe(...n){const t=(0,Wo.yG)(n);return(0,mn.D)(n,t)}var yt=F(7579);class Hr extends yt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}var tr=F(9751);const{isArray:qo}=Array,{getPrototypeOf:uu,prototype:sc,keys:Cl}=Object;function oc(n){if(1===n.length){const t=n[0];if(qo(t))return{args:t,keys:null};if(function El(n){return n&&"object"==typeof n&&uu(n)===sc}(t)){const e=Cl(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}var Ls=F(4671),ht=F(4004);const{isArray:Yo}=Array;function _s(n){return(0,ht.U)(t=>function lf(n,t){return Yo(t)?n(...t):n(t)}(n,t))}function Ko(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}var Nn=F(5403),fd=F(9672);function mo(...n){const t=(0,Wo.yG)(n),e=(0,Wo.jO)(n),{args:r,keys:i}=oc(n);if(0===r.length)return(0,mn.D)([],t);const s=new tr.y(function Vs(n,t,e=Ls.y){return r=>{du(t,()=>{const{length:i}=n,s=new Array(i);let c=i,h=i;for(let p=0;p<i;p++)du(t,()=>{const _=(0,mn.D)(n[p],t);let w=!1;_.subscribe((0,Nn.x)(r,I=>{s[p]=I,w||(w=!0,h--),h||r.next(e(s.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,t,i?c=>Ko(i,c):Ls.y));return e?s.pipe(_s(e)):s}function du(n,t,e){n?(0,fd.f)(e,n,t):t()}var Zo=F(8189);function Qo(...n){return function pd(){return(0,Zo.J)(1)}()((0,mn.D)(n,(0,Wo.yG)(n)))}var go=F(8421);function _o(n){return new tr.y(t=>{(0,go.Xf)(n()).subscribe(t)})}var ka=F(9635),xn=F(576);function Oi(n,t){const e=(0,xn.m)(n)?n:()=>n,r=i=>i.error(e());return new tr.y(t?i=>t.schedule(r,0,i):r)}const Pi=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var hi=F(515),jr=F(727),gn=F(4482);function fn(){return(0,gn.e)((n,t)=>{let e=null;n._refCount++;const r=(0,Nn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,s=e;e=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class dm extends tr.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,gn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new jr.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Nn.x)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=jr.w0.EMPTY)}return t}refCount(){return fn()(this)}}function kr(n,t){return(0,gn.e)((e,r)=>{let i=null,s=0,c=!1;const h=()=>c&&!i&&r.complete();e.subscribe((0,Nn.x)(r,p=>{i?.unsubscribe();let _=0;const w=s++;(0,go.Xf)(n(p,w)).subscribe(i=(0,Nn.x)(r,I=>r.next(t?t(p,I,w,_++):I),()=>{i=null,h()}))},()=>{c=!0,h()}))})}function nr(n){return n<=0?()=>hi.E:(0,gn.e)((t,e)=>{let r=0;t.subscribe((0,Nn.x)(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function vi(...n){const t=(0,Wo.yG)(n);return(0,gn.e)((e,r)=>{(t?Qo(n,e,t):Qo(n,e)).subscribe(r)})}function kn(n,t){return(0,gn.e)((e,r)=>{let i=0;e.subscribe((0,Nn.x)(r,s=>n.call(t,s,i++)&&r.next(s)))})}var Xr=F(5577);function Dl(n){return(0,gn.e)((t,e)=>{let r=!1;t.subscribe((0,Nn.x)(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function Il(n=hm){return(0,gn.e)((t,e)=>{let r=!1;t.subscribe((0,Nn.x)(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function hm(){return new Pi}function Xo(n,t){const e=arguments.length>=2;return r=>r.pipe(n?kn((i,s)=>n(i,s,r)):Ls.y,nr(1),e?Dl(t):Il(()=>new Pi))}function Rn(n,t){return(0,xn.m)(t)?(0,Xr.z)(n,t,1):(0,Xr.z)(n,1)}var rr=F(8505);function Jr(n){return(0,gn.e)((t,e)=>{let s,r=null,i=!1;r=t.subscribe((0,Nn.x)(e,void 0,void 0,c=>{s=(0,go.Xf)(n(c,Jr(n)(t))),r?(r.unsubscribe(),r=null,s.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(e))})}function my(n,t,e,r,i){return(s,c)=>{let h=e,p=t,_=0;s.subscribe((0,Nn.x)(c,w=>{const I=_++;p=h?n(p,w,I):(h=!0,w),r&&c.next(p)},i&&(()=>{h&&c.next(p),c.complete()})))}}function yo(n,t){return(0,gn.e)(my(n,t,arguments.length>=2,!0))}function $r(n){return n<=0?()=>hi.E:(0,gn.e)((t,e)=>{let r=[];t.subscribe((0,Nn.x)(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function Ni(n,t){const e=arguments.length>=2;return r=>r.pipe(n?kn((i,s)=>n(i,s,r)):Ls.y,$r(1),e?Dl(t):Il(()=>new Pi))}function vo(n){return(0,ht.U)(()=>n)}function Xi(n){return(0,gn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const zt="primary";class cf{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Jo(n){return new cf(n)}function fm(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const c=r[s],h=n[s];if(c.startsWith(":"))i[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function bi(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let s=0;s<e.length;s++)if(i=e[s],!ei(n[i],t[i]))return!1;return!0}function ei(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,s)=>r[s]===i)}return n===t}function Sl(n){return Array.prototype.concat.apply([],n)}function ta(n){return n.length>0?n[n.length-1]:null}function Zn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Ji(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,mn.D)(Promise.resolve(n)):qe(n)}const fu={exact:function Oa(n,t,e){if(!Dr(n.segments,t.segments)||!bo(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!Oa(n.children[r],t.children[r],e))return!1;return!0},subset:ys},Ra={exact:function lc(n,t){return bi(n,t)},subset:function pm(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>ei(n[e],t[e]))},ignored:()=>!0};function uf(n,t,e){return fu[e.paths](n.root,t.root,e.matrixParams)&&Ra[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function ys(n,t,e){return Bs(n,t,t.segments,e)}function Bs(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!Dr(i,e)||t.hasChildren()||!bo(i,e,r))}if(n.segments.length===e.length){if(!Dr(n.segments,e)||!bo(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!ys(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Dr(n.segments,i)&&bo(n.segments,i,r)&&n.children[zt])&&Bs(n.children[zt],t,s,r)}}function bo(n,t,e){return t.every((r,i)=>Ra[e](n[i].parameters,r.parameters))}class Us{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jo(this.queryParams)),this._queryParamMap}toString(){return yd.serialize(this)}}class Kt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Zn(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return na(this)}}class wi{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Jo(this.parameters)),this._parameterMap}toString(){return Ne(this)}}function Dr(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class _d{}class Wn{parse(t){const e=new vs(t);return new Us(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ra(t.root,!0)}`,r=function Tt(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${T(e)}=${T(i)}`).join("&"):`${T(e)}=${T(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function R(n){return encodeURI(n)}(t.fragment)}`:""}`}}const yd=new Wn;function na(n){return n.segments.map(t=>Ne(t)).join("/")}function ra(n,t){if(!n.hasChildren())return na(n);if(t){const e=n.children[zt]?ra(n.children[zt],!1):"",r=[];return Zn(n.children,(i,s)=>{s!==zt&&r.push(`${s}:${ra(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function Pa(n,t){let e=[];return Zn(n.children,(r,i)=>{i===zt&&(e=e.concat(t(r,i)))}),Zn(n.children,(r,i)=>{i!==zt&&(e=e.concat(t(r,i)))}),e}(n,(r,i)=>i===zt?[ra(n.children[zt],!1)]:[`${i}:${ra(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[zt]?`${na(n)}/${e[0]}`:`${na(n)}/(${e.join("//")})`}}function S(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function T(n){return S(n).replace(/%3B/gi,";")}function U(n){return S(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ee(n){return decodeURIComponent(n)}function he(n){return ee(n.replace(/\+/g,"%20"))}function Ne(n){return`${U(n.path)}${function Ze(n){return Object.keys(n).map(t=>`;${U(t)}=${U(n[t])}`).join("")}(n.parameters)}`}const Vt=/^[^\/()?;=#]+/;function xt(n){const t=n.match(Vt);return t?t[0]:""}const Dt=/^[^=?&#]+/,fi=/^[^&#]+/;class vs{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kt([],{}):new Kt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[zt]=new Kt(t,e)),r}parseSegment(){const t=xt(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(t),new wi(ee(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=xt(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=xt(this.remaining);i&&(r=i,this.capture(r))}t[ee(e)]=ee(r)}parseQueryParam(t){const e=function Ir(n){const t=n.match(Dt);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const c=function Ml(n){const t=n.match(fi);return t?t[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=he(e),s=he(r);if(t.hasOwnProperty(i)){let c=t[i];Array.isArray(c)||(c=[c],t[i]=c),c.push(s)}else t[i]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=xt(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.vHH(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=zt);const c=this.parseChildren();e[s]=1===Object.keys(c).length?c[zt]:new Kt([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new u.vHH(4011,!1)}}function Ci(n){return n.segments.length>0?new Kt([],{[zt]:n}):n}function Na(n){const t={};for(const r of Object.keys(n.children)){const s=Na(n.children[r]);(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function vd(n){if(1===n.numberOfChildren&&n.children[zt]){const t=n.children[zt];return new Kt(n.segments.concat(t.segments),t.children)}return n}(new Kt(n.segments,t))}function Fi(n){return n instanceof Us}function mm(n,t,e,r,i){if(0===e.length)return cc(t.root,t.root,t.root,r,i);const s=function hf(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new _y(!0,0,n);let t=0,e=!1;const r=n.reduce((i,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Zn(s.outlets,(p,_)=>{h[_]="string"==typeof p?p.split("/"):p}),[...i,{outlets:h}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===c?(s.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?e=!0:".."===h?t++:""!=h&&i.push(h))}),i):[...i,s]},[]);return new _y(e,t,r)}(e);return s.toRoot()?cc(t.root,t.root,new Kt([],{}),r,i):function c(p){const _=function yy(n,t,e,r){if(n.isAbsolute)return new pu(t.root,!0,0);if(-1===r)return new pu(e,e===t.root,0);return function pf(n,t,e){let r=n,i=t,s=e;for(;s>i;){if(s-=i,r=r.parent,!r)throw new u.vHH(4005,!1);i=r.segments.length}return new pu(r,!1,i-s)}(e,r+(La(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,p),w=_.processChildren?wo(_.segmentGroup,_.index,s.commands):mu(_.segmentGroup,_.index,s.commands);return cc(t.root,_.segmentGroup,w,r,i)}(n.snapshot?._lastPathIndex)}function La(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ia(n){return"object"==typeof n&&null!=n&&n.outlets}function cc(n,t,e,r,i){let c,s={};r&&Zn(r,(p,_)=>{s[_]=Array.isArray(p)?p.map(w=>`${w}`):`${p}`}),c=n===t?e:df(n,t,e);const h=Ci(Na(c));return new Us(h,s,i)}function df(n,t,e){const r={};return Zn(n.children,(i,s)=>{r[s]=i===t?e:df(i,t,e)}),new Kt(n.segments,r)}class _y{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&La(r[0]))throw new u.vHH(4003,!1);const i=r.find(ia);if(i&&i!==ta(r))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pu{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function mu(n,t,e){if(n||(n=new Kt([],{})),0===n.segments.length&&n.hasChildren())return wo(n,t,e);const r=function vy(n,t,e){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return s;const c=n.segments[i],h=e[r];if(ia(h))break;const p=`${h}`,_=r<e.length-1?e[r+1]:null;if(i>0&&void 0===p)break;if(p&&_&&"object"==typeof _&&void 0===_.outlets){if(!wd(p,_,c))return s;r+=2}else{if(!wd(p,{},c))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Kt(n.segments.slice(0,r.pathIndex),{});return s.children[zt]=new Kt(n.segments.slice(r.pathIndex),n.children),wo(s,0,i)}return r.match&&0===i.length?new Kt(n.segments,{}):r.match&&!n.hasChildren()?mf(n,t,e):r.match?wo(n,0,i):mf(n,t,e)}function wo(n,t,e){if(0===e.length)return new Kt(n.segments,{});{const r=function uc(n){return ia(n[0])?n[0].outlets:{[zt]:n}}(e),i={};return Zn(r,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[c]=mu(n.children[c],t,s))}),Zn(n.children,(s,c)=>{void 0===r[c]&&(i[c]=s)}),new Kt(n.segments,i)}}function mf(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const s=e[i];if(ia(s)){const p=m0(s.outlets);return new Kt(r,p)}if(0===i&&La(e[0])){r.push(new wi(n.segments[t].path,dc(e[0]))),i++;continue}const c=ia(s)?s.outlets[zt]:`${s}`,h=i<e.length-1?e[i+1]:null;c&&h&&La(h)?(r.push(new wi(c,dc(h))),i+=2):(r.push(new wi(c,{})),i++)}return new Kt(r,{})}function m0(n){const t={};return Zn(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=mf(new Kt([],{}),0,e))}),t}function dc(n){const t={};return Zn(n,(e,r)=>t[r]=`${e}`),t}function wd(n,t,e){return n==e.path&&bi(t,e.parameters)}class Co{constructor(t,e){this.id=t,this.url=e}}class Cd extends Co{constructor(t,e,r="imperative",i=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Va extends Co{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bs extends Co{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gm extends Co{constructor(t,e,r,i){super(t,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gf extends Co{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class by extends Co{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _m extends Co{constructor(t,e,r,i,s){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wy extends Co{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class js extends Co{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hc{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ym{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vm{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cy{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ey{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dy{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bm{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class g{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=y(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=y(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=E(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return E(t,this._root).map(e=>e.value)}}function y(n,t){if(n===t.value)return t;for(const e of t.children){const r=y(n,e);if(r)return r}return null}function E(n,t){if(n===t.value)return[t];for(const e of t.children){const r=E(n,e);if(r.length)return r.unshift(t),r}return[]}class k{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function N(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class ae extends g{constructor(t,e){super(t),this.snapshot=e,gu(this,t)}toString(){return this.snapshot.toString()}}function xe(n,t){const e=function ot(n,t){const c=new Li([],{},{},"",{},zt,t,null,n.root,-1,{});return new Eo("",new k(c,[]))}(n,t),r=new Hr([new wi("",{})]),i=new Hr({}),s=new Hr({}),c=new Hr({}),h=new Hr(""),p=new lt(r,i,c,h,s,zt,t,e.root);return p.snapshot=e.root,new ae(new k(p,[]),e)}class lt{constructor(t,e,r,i,s,c,h,p){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=c,this.component=h,this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(t=>Jo(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(t=>Jo(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ht(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],s=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function jn(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Li{constructor(t,e,r,i,s,c,h,p,_,w,I,x){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=c,this.component=h,this.routeConfig=p,this._urlSegment=_,this._lastPathIndex=w,this._correctedLastPathIndex=x??w,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Eo extends g{constructor(t,e){super(e),this.url=t,gu(this,e)}toString(){return wm(this._root)}}function gu(n,t){t.value._routerState=n,t.children.forEach(e=>gu(n,e))}function wm(n){const t=n.children.length>0?` { ${n.children.map(wm).join(", ")} } `:"";return`${n.value}${t}`}function Ed(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,bi(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),bi(t.params,e.params)||n.params.next(e.params),function ea(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!bi(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),bi(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function fc(n,t){const e=bi(n.params,t.params)&&function gd(n,t){return Dr(n,t)&&n.every((e,r)=>bi(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||fc(n.parent,t.parent))}function sa(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function Iy(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return sa(n,r,i);return sa(n,r)})}(n,t,e);return new k(r,i)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(h=>sa(n,h)),c}}const r=function Sy(n){return new lt(new Hr(n.url),new Hr(n.params),new Hr(n.queryParams),new Hr(n.fragment),new Hr(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(s=>sa(n,s));return new k(r,i)}}const pc="ngNavigationCancelingError";function _f(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=Fi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Cm(!1,0,t);return i.url=e,i.navigationBehaviorOptions=r,i}function Cm(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[pc]=!0,r.cancellationCode=t,e&&(r.url=e),r}function Id(n){return Em(n)&&Fi(n.url)}function Em(n){return n&&n[pc]}class g0{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new mc,this.attachRef=null}}class mc{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new g0,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}const yf=!1;let vf=(()=>{class n{constructor(e,r,i,s,c){this.parentContexts=e,this.location=r,this.changeDetector=s,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=i||zt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,yf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,yf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,yf);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new u.vHH(4013,yf);this._activatedRoute=e;const i=this.location,c=e._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,p=new nT(e,h,i.injector);if(r&&function Rr(n){return!!n.resolveComponentFactory}(r)){const _=r.resolveComponentFactory(c);this.activated=i.createComponent(_,i.length,p)}else this.activated=i.createComponent(c,{index:i.length,injector:p,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(mc),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class nT{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===lt?this.route:t===mc?this.childContexts:this.parent.get(t,e)}}let _0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&u._UZ(0,"router-outlet")},dependencies:[vf],encapsulation:2}),n})();function y0(n,t){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function b0(n){const t=n.children&&n.children.map(b0),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==zt&&(e.component=_0),e}function Vi(n){return n.outlet||zt}function Dm(n,t){const e=n.filter(r=>Vi(r)===t);return e.push(...n.filter(r=>Vi(r)!==t)),e}function Ay(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class C0{constructor(t,e,r,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Ed(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=N(e);t.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,i[c],r),delete i[c]}),Zn(i,(s,c)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,e,r){const i=t.value,s=e?e.value:null;if(i===s)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,r);else s&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=N(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);if(r&&r.outlet){const c=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=N(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const i=N(e);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Dy(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Cy(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,s=e?e.value:null;if(Ed(i),i===s)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),Ed(h.route.value),this.activateChildRoutes(t,null,c.children)}else{const h=Ay(i.snapshot),p=h?.get(u._Vd)??null;c.attachRef=null,c.route=i,c.resolver=p,c.injector=h,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,r)}}class E0{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class bf{constructor(t,e){this.component=t,this.route=e}}function D0(n,t,e){const r=n._root;return wf(r,t?t._root:null,e,[r.value])}function xy(n,t,e){return(Ay(t)??e).get(n)}function wf(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=N(t);return n.children.forEach(c=>{(function ky(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const p=function I0(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Dr(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Dr(n.url,t.url)||!bi(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fc(n,t)||!bi(n.queryParams,t.queryParams);default:return!fc(n,t)}}(c,s,s.routeConfig.runGuardsAndResolvers);p?i.canActivateChecks.push(new E0(r)):(s.data=c.data,s._resolvedData=c._resolvedData),wf(n,t,s.component?h?h.children:null:e,r,i),p&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new bf(h.outlet.component,c))}else c&&Sd(t,h,i),i.canActivateChecks.push(new E0(r)),wf(n,null,s.component?h?h.children:null:e,r,i)})(c,s[c.value.outlet],e,r.concat([c.value]),i),delete s[c.value.outlet]}),Zn(s,(c,h)=>Sd(c,e.getContext(h),i)),i}function Sd(n,t,e){const r=N(n),i=n.value;Zn(r,(s,c)=>{Sd(s,i.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new bf(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function oa(n){return"function"==typeof n}const Ad=Symbol("INITIAL_VALUE");function Md(){return kr(n=>mo(n.map(t=>t.pipe(nr(1),vi(Ad)))).pipe((0,ht.U)(t=>{for(const e of t)if(!0!==e){if(e===Ad)return Ad;if(!1===e||e instanceof Us)return e}return!0}),kn(t=>t!==Ad),nr(1)))}function Ny(n){return(0,ka.z)((0,rr.b)(t=>{if(Fi(t))throw _f(0,t)}),(0,ht.U)(t=>!0===t))}const Tm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mT(n,t,e,r,i){const s=Fy(n,t,e);return s.matched?function pT(n,t,e,r){const i=t.canMatch;return i&&0!==i.length?qe(i.map(c=>{const h=n.get(c),p=function Sm(n){return n&&oa(n.canMatch)}(h)?h.canMatch(t,e):h(t,e);return Ji(p)})).pipe(Md(),Ny()):qe(!0)}(r=y0(t,r),t,e).pipe((0,ht.U)(c=>!0===c?s:{...Tm})):qe(s)}function Fy(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Tm}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||fm)(e,n,t);if(!i)return{...Tm};const s={};Zn(i.posParams,(h,p)=>{s[p]=h.path});const c=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function gc(n,t,e,r,i="corrected"){if(e.length>0&&function Cf(n,t,e){return e.some(r=>Ly(n,t,r)&&Vi(r)!==zt)}(n,e,r)){const c=new Kt(t,function kd(n,t,e,r){const i={};i[zt]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&Vi(s)!==zt){const c=new Kt([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,i[Vi(s)]=c}return i}(n,t,r,new Kt(e,n.children)));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:[]}}if(0===e.length&&function _T(n,t,e){return e.some(r=>Ly(n,t,r))}(n,e,r)){const c=new Kt(n.segments,function gT(n,t,e,r,i,s){const c={};for(const h of r)if(Ly(n,e,h)&&!i[Vi(h)]){const p=new Kt([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:t.length,c[Vi(h)]=p}return{...i,...c}}(n,t,e,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}const s=new Kt(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function Ly(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Vy(n,t,e,r){return!!(Vi(n)===r||r!==zt&&Ly(t,e,n))&&("**"===n.path||Fy(t,n,e).matched)}function A0(n,t,e){return 0===t.length&&!n.children[e]}const Am=!1;class Mm{constructor(t){this.segmentGroup=t||null}}class By{constructor(t){this.urlTree=t}}function Rd(n){return Oi(new Mm(n))}function xm(n){return Oi(new By(n))}class nN{constructor(t,e,r,i,s){this.injector=t,this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const t=gc(this.urlTree.root,[],[],this.config).segmentGroup,e=new Kt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,zt).pipe((0,ht.U)(s=>this.createUrlTree(Na(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Jr(s=>{if(s instanceof By)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Mm?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,zt).pipe((0,ht.U)(i=>this.createUrlTree(Na(i),t.queryParams,t.fragment))).pipe(Jr(i=>{throw i instanceof Mm?this.noMatchError(i):i}))}noMatchError(t){return new u.vHH(4002,Am)}createUrlTree(t,e,r){const i=Ci(t);return new Us(i,e,r)}expandSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,ht.U)(s=>new Kt([],s))):this.expandSegment(t,r,e,r.segments,i,!0)}expandChildren(t,e,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return(0,mn.D)(i).pipe(Rn(s=>{const c=r.children[s],h=Dm(e,s);return this.expandSegmentGroup(t,h,c,s).pipe((0,ht.U)(p=>({segment:p,outlet:s})))}),yo((s,c)=>(s[c.outlet]=c.segment,s),{}),Ni())}expandSegment(t,e,r,i,s,c){return(0,mn.D)(r).pipe(Rn(h=>this.expandSegmentAgainstRoute(t,e,r,h,i,s,c).pipe(Jr(_=>{if(_ instanceof Mm)return qe(null);throw _}))),Xo(h=>!!h),Jr((h,p)=>{if(h instanceof Pi||"EmptyError"===h.name)return A0(e,i,s)?qe(new Kt([],{})):Rd(e);throw h}))}expandSegmentAgainstRoute(t,e,r,i,s,c,h){return Vy(i,e,s,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,s,c):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,i,s,c):Rd(e):Rd(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,s,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?xm(s):this.lineralizeSegments(r,s).pipe((0,Xr.z)(c=>{const h=new Kt(c,{});return this.expandSegment(t,h,e,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,s,c){const{matched:h,consumedSegments:p,remainingSegments:_,positionalParamSegments:w}=Fy(e,i,s);if(!h)return Rd(e);const I=this.applyRedirectCommands(p,i.redirectTo,w);return i.redirectTo.startsWith("/")?xm(I):this.lineralizeSegments(i,I).pipe((0,Xr.z)(x=>this.expandSegment(t,e,r,x.concat(_),c,!1)))}matchSegmentAgainstRoute(t,e,r,i,s){return"**"===r.path?(t=y0(r,t),r.loadChildren?(r._loadedRoutes?qe({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe((0,ht.U)(h=>(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,new Kt(i,{})))):qe(new Kt(i,{}))):mT(e,r,i,t).pipe(kr(({matched:c,consumedSegments:h,remainingSegments:p})=>c?this.getChildConfig(t=r._injector??t,r,i).pipe((0,Xr.z)(w=>{const I=w.injector??t,x=w.routes,{segmentGroup:L,slicedSegments:B}=gc(e,h,p,x),X=new Kt(L.segments,L.children);if(0===B.length&&X.hasChildren())return this.expandChildren(I,x,X).pipe((0,ht.U)(Ct=>new Kt(h,Ct)));if(0===x.length&&0===B.length)return qe(new Kt(h,{}));const ve=Vi(r)===s;return this.expandSegment(I,X,x,B,ve?zt:s,!0).pipe((0,ht.U)(ut=>new Kt(h.concat(ut.segments),ut.children)))})):Rd(e)))}getChildConfig(t,e,r){return e.children?qe({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?qe({routes:e._loadedRoutes,injector:e._loadedInjector}):function fT(n,t,e,r){const i=t.canLoad;return void 0===i||0===i.length?qe(!0):qe(i.map(c=>{const h=n.get(c),p=function Ry(n){return n&&oa(n.canLoad)}(h)?h.canLoad(t,e):h(t,e);return Ji(p)})).pipe(Md(),Ny())}(t,e,r).pipe((0,Xr.z)(i=>i?this.configLoader.loadChildren(t,e).pipe((0,rr.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function vT(n){return Oi(Cm(Am,3))}())):qe({routes:[],injector:t})}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return qe(r);if(i.numberOfChildren>1||!i.children[zt])return Oi(new u.vHH(4e3,Am));i=i.children[zt]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,i){const s=this.createSegmentGroup(t,e.root,r,i);return new Us(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Zn(t,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[s]=e[h]}else r[s]=i}),r}createSegmentGroup(t,e,r,i){const s=this.createSegments(t,e.segments,r,i);let c={};return Zn(e.children,(h,p)=>{c[p]=this.createSegmentGroup(t,h,r,i)}),new Kt(s,c)}createSegments(t,e,r,i){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new u.vHH(4001,Am);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}class iN{}class aN{constructor(t,e,r,i,s,c,h,p){this.injector=t,this.rootComponentType=e,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=h,this.urlSerializer=p}recognize(){const t=gc(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,zt).pipe((0,ht.U)(e=>{if(null===e)return null;const r=new Li([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},zt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new k(r,e),s=new Eo(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,r=Ht(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,i)}processChildren(t,e,r){return(0,mn.D)(Object.keys(r.children)).pipe(Rn(i=>{const s=r.children[i],c=Dm(e,i);return this.processSegmentGroup(t,c,s,i)}),yo((i,s)=>i&&s?(i.push(...s),i):null),function md(n,t=!1){return(0,gn.e)((e,r)=>{let i=0;e.subscribe((0,Nn.x)(r,s=>{const c=n(s,i++);(c||t)&&r.next(s),!c&&r.complete()}))})}(i=>null!==i),Dl(null),Ni(),(0,ht.U)(i=>{if(null===i)return null;const s=km(i);return function lN(n){n.sort((t,e)=>t.value.outlet===zt?-1:e.value.outlet===zt?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,r,i,s){return(0,mn.D)(e).pipe(Rn(c=>this.processSegmentAgainstRoute(c._injector??t,c,r,i,s)),Xo(c=>!!c),Jr(c=>{if(c instanceof Pi)return A0(r,i,s)?qe([]):qe(null);throw c}))}processSegmentAgainstRoute(t,e,r,i,s){if(e.redirectTo||!Vy(e,r,i,s))return qe(null);let c;if("**"===e.path){const h=i.length>0?ta(i).parameters:{},p=jy(r)+i.length;c=qe({snapshot:new Li(i,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,k0(e),Vi(e),e.component??e._loadedComponent??null,e,Hy(r),p,Om(e),p),consumedSegments:[],remainingSegments:[]})}else c=mT(r,e,i,t).pipe((0,ht.U)(({matched:h,consumedSegments:p,remainingSegments:_,parameters:w})=>{if(!h)return null;const I=jy(r)+p.length;return{snapshot:new Li(p,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,k0(e),Vi(e),e.component??e._loadedComponent??null,e,Hy(r),I,Om(e),I),consumedSegments:p,remainingSegments:_}}));return c.pipe(kr(h=>{if(null===h)return qe(null);const{snapshot:p,consumedSegments:_,remainingSegments:w}=h;t=e._injector??t;const I=e._loadedInjector??t,x=function bT(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:L,slicedSegments:B}=gc(r,_,w,x.filter(ve=>void 0===ve.redirectTo),this.relativeLinkResolution);if(0===B.length&&L.hasChildren())return this.processChildren(I,x,L).pipe((0,ht.U)(ve=>null===ve?null:[new k(p,ve)]));if(0===x.length&&0===B.length)return qe([new k(p,[])]);const X=Vi(e)===s;return this.processSegment(I,x,L,B,X?zt:s).pipe((0,ht.U)(ve=>null===ve?null:[new k(p,ve)]))}))}}function M0(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function km(n){const t=[],e=new Set;for(const r of n){if(!M0(r)){t.push(r);continue}const i=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=km(r.children);t.push(new k(r.value,i))}return t.filter(r=>!e.has(r))}function Hy(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function jy(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function k0(n){return n.data||{}}function Om(n){return n.resolve||{}}const $y=Symbol("RouteTitle");function O0(n){return"string"==typeof n.title||null===n.title}function zy(n){return kr(t=>{const e=n(t);return e?(0,mn.D)(e).pipe((0,ht.U)(()=>t)):qe(t)})}let Pm=(()=>{class n{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===zt);return r}getResolvedTitleForRoute(e){return e.data[$y]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(P0)},providedIn:"root"}),n})(),P0=(()=>{class n extends Pm{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(dd))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class IT{}class N0 extends class ST{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Gy=new u.OlP("",{providedIn:"root",factory:()=>({})}),Df=new u.OlP("ROUTES");let Nm=(()=>{class n{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return qe(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Ji(e.loadComponent()).pipe((0,rr.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Xi(()=>{this.componentLoaders.delete(e)})),i=new dm(r,()=>new yt.x).pipe(fn());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return qe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,ht.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let p,_,w=!1;Array.isArray(h)?_=h:(p=h.create(e).injector,_=Sl(p.get(Df,[],u.XFs.Self|u.XFs.Optional)));return{routes:_.map(b0),injector:p}}),Xi(()=>{this.childrenLoaders.delete(r)})),c=new dm(s,()=>new yt.x).pipe(fn());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(e){return Ji(e()).pipe((0,Xr.z)(r=>r instanceof u.YKP||Array.isArray(r)?qe(r):(0,mn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Wy{}class Ui{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function qy(n){throw n}function AT(n,t,e){return t.parse("/")}const MT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},F0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Yy(){const n=(0,u.f3M)(_d),t=(0,u.f3M)(mc),e=(0,u.f3M)(Le),r=(0,u.f3M)(u.zs3),i=(0,u.f3M)(u.Sil),s=(0,u.f3M)(Df,{optional:!0})??[],c=(0,u.f3M)(Gy,{optional:!0})??{},h=(0,u.f3M)(P0),p=(0,u.f3M)(Pm,{optional:!0}),_=(0,u.f3M)(Wy,{optional:!0}),w=(0,u.f3M)(IT,{optional:!0}),I=new es(null,n,t,e,r,i,Sl(s));return _&&(I.urlHandlingStrategy=_),w&&(I.routeReuseStrategy=w),I.titleStrategy=p??h,function xT(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(c,I),I}let es=(()=>{class n{constructor(e,r,i,s,c,h,p){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new yt.x,this.errorHandler=qy,this.malformedUriErrorHandler=AT,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>qe(void 0),this.urlHandlingStrategy=new Ui,this.routeReuseStrategy=new N0,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(Nm),this.configLoader.onLoadEndListener=x=>this.triggerEvent(new ym(x)),this.configLoader.onLoadStartListener=x=>this.triggerEvent(new hc(x)),this.ngModule=c.get(u.h0i),this.console=c.get(u.c2e);const I=c.get(u.R0b);this.isNgZoneEnabled=I instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function Al(){return new Us(new Kt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=xe(this.currentUrlTree,this.rootComponentType),this.transitions=new Hr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(kn(i=>0!==i.id),(0,ht.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),kr(i=>{let s=!1,c=!1;return qe(i).pipe((0,rr.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),kr(h=>{const p=this.browserUrlTree.toString(),_=!this.navigated||h.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return V0(h.source)&&(this.browserUrlTree=h.extractedUrl),qe(h).pipe(kr(I=>{const x=this.transitions.getValue();return r.next(new Cd(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),x!==this.transitions.getValue()?hi.E:Promise.resolve(I)}),function rN(n,t,e,r){return kr(i=>function Uy(n,t,e,r,i){return new nN(n,t,e,r,i).apply()}(n,t,e,i.extractedUrl,r).pipe((0,ht.U)(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,rr.b)(I=>{this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},i.urlAfterRedirects=I.urlAfterRedirects}),function Ef(n,t,e,r,i,s){return(0,Xr.z)(c=>function oN(n,t,e,r,i,s,c="emptyOnly",h="legacy"){return new aN(n,t,e,r,i,c,h,s).recognize().pipe(kr(p=>null===p?function sN(n){return new tr.y(t=>t.error(n))}(new iN):qe(p)))}(n,t,e,c.urlAfterRedirects,r.serialize(c.urlAfterRedirects),r,i,s).pipe((0,ht.U)(h=>({...c,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,rr.b)(I=>{if(i.targetSnapshot=I.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const L=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(L,I)}this.browserUrlTree=I.urlAfterRedirects}const x=new gf(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);r.next(x)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:x,extractedUrl:L,source:B,restoredState:X,extras:ve}=h,Xe=new Cd(x,this.serializeUrl(L),B,X);r.next(Xe);const ut=xe(L,this.rootComponentType).snapshot;return qe(i={...h,targetSnapshot:ut,urlAfterRedirects:L,extras:{...ve,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),hi.E}),(0,rr.b)(h=>{const p=new by(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}),(0,ht.U)(h=>i={...h,guards:D0(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function lT(n,t){return(0,Xr.z)(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:c}}=e;return 0===c.length&&0===s.length?qe({...e,guardsResult:!0}):function T0(n,t,e,r){return(0,mn.D)(n).pipe((0,Xr.z)(i=>function Py(n,t,e,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?qe(s.map(h=>{const p=xy(h,t,i);return Ji(function Oy(n){return n&&oa(n.canDeactivate)}(p)?p.canDeactivate(n,t,e,r):p(n,t,e,r)).pipe(Xo())})).pipe(Md()):qe(!0)}(i.component,i.route,e,t,r)),Xo(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Xr.z)(h=>h&&function oT(n){return"boolean"==typeof n}(h)?function xd(n,t,e,r){return(0,mn.D)(t).pipe(Rn(i=>Qo(function uT(n,t){return null!==n&&t&&t(new vm(n)),qe(!0)}(i.route.parent,r),function cT(n,t){return null!==n&&t&&t(new Ey(n)),qe(!0)}(i.route,r),function hT(n,t,e){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(c=>function My(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>_o(()=>qe(c.guards.map(p=>{const _=xy(p,c.node,e);return Ji(function aT(n){return n&&oa(n.canActivateChild)}(_)?_.canActivateChild(r,n):_(r,n)).pipe(Xo())})).pipe(Md())));return qe(s).pipe(Md())}(n,i.path,e),function dT(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return qe(!0);const i=r.map(s=>_o(()=>{const c=xy(s,t,e);return Ji(function Im(n){return n&&oa(n.canActivate)}(c)?c.canActivate(t,n):c(t,n)).pipe(Xo())}));return qe(i).pipe(Md())}(n,i.route,e))),Xo(i=>!0!==i,!0))}(r,s,n,t):qe(h)),(0,ht.U)(h=>({...e,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,rr.b)(h=>{if(i.guardsResult=h.guardsResult,Fi(h.guardsResult))throw _f(0,h.guardsResult);const p=new _m(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(p)}),kn(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),zy(h=>{if(h.guards.canActivateChecks.length)return qe(h).pipe((0,rr.b)(p=>{const _=new wy(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}),kr(p=>{let _=!1;return qe(p).pipe(function wT(n,t){return(0,Xr.z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return qe(e);let s=0;return(0,mn.D)(i).pipe(Rn(c=>function CT(n,t,e,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!O0(i)&&(s[$y]=i.title),function R0(n,t,e,r){const i=function ET(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return qe({});const s={};return(0,mn.D)(i).pipe((0,Xr.z)(c=>function DT(n,t,e,r){const i=xy(n,t,r);return Ji(i.resolve?i.resolve(t,e):i(t,e))}(n[c],t,e,r).pipe(Xo(),(0,rr.b)(h=>{s[c]=h}))),$r(1),vo(s),Jr(c=>c instanceof Pi?hi.E:Oi(c)))}(s,n,t,r).pipe((0,ht.U)(c=>(n._resolvedData=c,n.data=Ht(n,e).resolve,i&&O0(i)&&(n.data[$y]=i.title),null)))}(c.route,r,n,t)),(0,rr.b)(()=>s++),$r(1),(0,Xr.z)(c=>s===i.length?qe(e):hi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,rr.b)({next:()=>_=!0,complete:()=>{_||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),(0,rr.b)(p=>{const _=new js(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}))}),zy(h=>{const p=_=>{const w=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,rr.b)(I=>{_.component=I}),(0,ht.U)(()=>{})));for(const I of _.children)w.push(...p(I));return w};return mo(p(h.targetSnapshot.root)).pipe(Dl(),nr(1))}),zy(()=>this.afterPreactivation()),(0,ht.U)(h=>{const p=function Dd(n,t,e){const r=sa(n,t._root,e?e._root:void 0);return new ae(r,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return i={...h,targetRouterState:p}}),(0,rr.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,ht.U)(r=>(new C0(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,rr.b)({next(){s=!0},complete(){s=!0}}),Xi(()=>{s||c||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Jr(h=>{if(c=!0,Em(h)){Id(h)||(this.navigated=!0,this.restoreHistory(i,!0));const p=new bs(i.id,this.serializeUrl(i.extractedUrl),h.message,h.cancellationCode);if(r.next(p),Id(h)){const _=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),w={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||V0(i.source)};this.scheduleNavigation(_,"imperative",null,w,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const p=new gm(i.id,this.serializeUrl(i.extractedUrl),h,i.targetSnapshot??void 0);r.next(p);try{i.resolve(this.errorHandler(h))}catch(_){i.reject(_)}}return hi.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(s){const h={...s};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(i.state=h)}const c=this.parseUrl(e.url);this.scheduleNavigation(c,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(b0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:s,fragment:c,queryParamsHandling:h,preserveFragment:p}=r,_=i||this.routerState.root,w=p?this.currentUrlTree.fragment:c;let I=null;switch(h){case"merge":I={...this.currentUrlTree.queryParams,...s};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=s||null}return null!==I&&(I=this.removeEmptyProps(I)),mm(_,this.currentUrlTree,e,I,w??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=Fi(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function L0(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new u.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...MT}:!1===r?{...F0}:r,Fi(e))return uf(this.currentUrlTree,e,i);const s=this.parseUrl(e);return uf(this.currentUrlTree,s,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const s=e[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Va(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,i,s,c){if(this.disposed)return Promise.resolve(!1);let h,p,_;c?(h=c.resolve,p=c.reject,_=c.promise):_=new Promise((x,L)=>{h=x,p=L});const w=++this.navigationId;let I;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),I=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):I=0,this.setTransition({id:w,targetPageId:I,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:h,reject:p,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(x=>Promise.reject(x))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r,i){const s=new bs(e.id,this.serializeUrl(e.extractedUrl),r,i);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:function(){return Yy()},providedIn:"root"}),n})();function V0(n){return"imperative"!==n}let Fm=(()=>{class n{constructor(e,r,i,s,c){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=c,this.commands=null,this.onChanges=new yt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==e?r.setAttribute(i,"tabindex",e):r.removeAttribute(i,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:(0,u.D6c)(this.skipLocationChange),replaceUrl:(0,u.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,u.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(es),u.Y36(lt),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,r){1&e&&u.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})(),Ky=(()=>{class n{constructor(e,r,i){this.router=e,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new yt.x,this.subscription=e.events.subscribe(s=>{s instanceof Va&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,i,s,c){if(0!==e||r||i||s||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:(0,u.D6c)(this.skipLocationChange),replaceUrl:(0,u.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,u.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(es),u.Y36(lt),u.Y36(Ie))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&u.NdJ("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&u.uIk("target",r.target)("href",r.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})(),B0=(()=>{class n{constructor(e,r,i,s,c,h){this.router=e,this.element=r,this.renderer=i,this.cdr=s,this.link=c,this.linkWithHref=h,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.vpe,this.routerEventsSubscription=e.events.subscribe(p=>{p instanceof Va&&this.update()})}ngAfterContentInit(){qe(this.links.changes,this.linksWithHrefs.changes,qe(null)).pipe((0,Zo.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,mn.D)(e).pipe((0,Zo.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){const r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const r=function kT(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&e.isActive(i.urlTree,r)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(es),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(Fm,8),u.Y36(Ky,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,r,i){if(1&e&&(u.Suo(i,Fm,5),u.Suo(i,Ky,5)),2&e){let s;u.iGM(s=u.CRH())&&(r.links=s),u.iGM(s=u.CRH())&&(r.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[u.TTD]}),n})();class U0{}let H0=(()=>{class n{constructor(e,r,i,s,c){this.router=e,this.injector=i,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(kn(e=>e instanceof Va),Rn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=(0,u.MMx)(s.providers,e,`Route: ${s.path}`));const c=s._injector??e,h=s._loadedInjector??c;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(c,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(h,s.children??s._loadedRoutes))}return(0,mn.D)(i).pipe((0,Zo.J)())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):qe(null);const s=i.pipe((0,Xr.z)(c=>null===c?qe(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??e,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,mn.D)([s,c]).pipe((0,Zo.J)())}return s})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(es),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(U0),u.LFG(Nm))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const j0=new u.OlP("");let cN=(()=>{class n{constructor(e,r,i={}){this.router=e,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Cd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Va&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof bm&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new bm(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const OT=new u.OlP("ROUTER_FORROOT_GUARD"),aa=new u.OlP(""),Zy=[Le,{provide:_d,useClass:Wn},{provide:es,useFactory:Yy},mc,{provide:lt,useFactory:function Qy(n){return n.routerState.root},deps:[es]},Nm];function PT(){return new u.PXZ("Router",es)}let Xy=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[Zy,[],Lm(e),{provide:OT,useFactory:$0,deps:[[es,new u.FiY,new u.tp0]]},{provide:Gy,useValue:r||{}},r?.useHash?{provide:Ie,useClass:rt}:{provide:Ie,useClass:nt},{provide:j0,useFactory:()=>{const n=(0,u.f3M)(es),t=(0,u.f3M)(Qh),e=(0,u.f3M)(Gy);return e.scrollOffset&&t.setOffset(e.scrollOffset),new cN(n,t,e)}},r?.preloadingStrategy?VT(r.preloadingStrategy):[],{provide:u.PXZ,multi:!0,useFactory:PT},r?.initialNavigation?uN(r):[],[{provide:ev,useFactory:Jy},{provide:u.tb,multi:!0,useExisting:ev}]]}}static forChild(e){return{ngModule:n,providers:[Lm(e)]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(OT,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function $0(n){return"guarded"}function Lm(n){return[{provide:Df,multi:!0,useValue:n}]}function Jy(){const n=(0,u.f3M)(u.zs3);return t=>{const e=n.get(u.z2F);if(t!==e.components[0])return;const r=n.get(es),i=n.get(Vm);1===n.get(tv)&&r.initialNavigation(),n.get(aa,null,u.XFs.Optional)?.setUpPreloading(),n.get(j0,null,u.XFs.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.next(),i.complete()}}const ev=new u.OlP("");function uN(n){return["disabled"===n.initialNavigation?[{provide:u.ip1,multi:!0,useFactory:()=>{const n=(0,u.f3M)(es);return()=>{n.setUpLocationChangeListener()}}},{provide:tv,useValue:2}]:[],"enabledBlocking"===n.initialNavigation?[{provide:tv,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:n=>{const t=n.get(W,Promise.resolve(null));let e=!1;return()=>t.then(()=>new Promise(i=>{const s=n.get(es),c=n.get(Vm);(function r(i){n.get(es).events.pipe(kn(c=>c instanceof Va||c instanceof bs||c instanceof gm),(0,ht.U)(c=>c instanceof Va||c instanceof bs&&(0===c.code||1===c.code)&&null),kn(c=>null!==c),nr(1)).subscribe(()=>{i()})})(()=>{i(!0),e=!0}),s.afterPreactivation=()=>(i(!0),e||c.closed?qe(void 0):c),s.initialNavigation()}))}}]:[]]}const Vm=new u.OlP("",{factory:()=>new yt.x}),tv=new u.OlP("",{providedIn:"root",factory:()=>1});function VT(n){return[H0,{provide:aa,useExisting:H0},{provide:U0,useExisting:n}]}let rv,G0=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(e,r){1&e&&(u.TgZ(0,"p"),u._uU(1,"dashboard works!"),u.qZA())}}),n})();class W0{constructor(t){this.firstName=t?t.firstName:"",this.lastName=t?t.lastName:"",this.birthDate=t?t.birthDate:"",this.street=t?t.street:"",this.zipCode=t?t.zipCode:"",this.city=t?t.city:""}toJSON(){return{firstName:this.firstName,lastName:this.lastName,birthDate:this.birthDate,street:this.street,zipCode:this.zipCode,city:this.city}}}try{rv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{rv=!1}let yu,zr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function ci(n){return n===fs}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!rv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bm=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Y0(){if(yu)return yu;if("object"!=typeof document||!document)return yu=new Set(Bm),yu;let n=document.createElement("input");return yu=new Set(Bm.filter(t=>(n.setAttribute("type",t),n.type===t))),yu}let Tf,Ba,vc,Z0;function Nd(n){return function K0(){if(null==Tf&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Tf=!0}))}finally{Tf=Tf||!1}return Tf}()?n:!!n.capture}function iv(){if(null==vc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return vc=!1,vc;if("scrollBehavior"in document.documentElement.style)vc=!0;else{const n=Element.prototype.scrollTo;vc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return vc}function Af(){if("object"!=typeof document||!document)return 0;if(null==Ba){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),r=e.style;r.width="2px",r.height="1px",n.appendChild(e),document.body.appendChild(n),Ba=0,0===n.scrollLeft&&(n.scrollLeft=1,Ba=0===n.scrollLeft?1:2),n.remove()}return Ba}function Fd(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function bc(n){return n.composedPath?n.composedPath()[0]:n.target}function Hm(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Hd(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function cA(n){return kn((t,e)=>n<=e)}function dC(n,t=Ls.y){return n=n??Cc,(0,gn.e)((e,r)=>{let i,s=!0;e.subscribe((0,Nn.x)(r,c=>{const h=t(c);(s||!n(i,h))&&(s=!1,i=h,r.next(c))}))})}function Cc(n,t){return n===t}var pv=F(5032);function ir(n){return(0,gn.e)((t,e)=>{(0,go.Xf)(n).subscribe((0,Nn.x)(e,()=>e.complete(),pv.Z)),!e.closed&&t.subscribe(e)})}function hr(n){return null!=n&&"false"!=`${n}`}function jd(n,t=0){return function hC(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function $d(n){return Array.isArray(n)?n:[n]}function Gr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Hi(n){return n instanceof u.SBq?n.nativeElement:n}var Wm=F(4986);function Of(n,t=Wm.z){return(0,gn.e)((e,r)=>{let i=null,s=null,c=null;const h=()=>{if(i){i.unsubscribe(),i=null;const _=s;s=null,r.next(_)}};function p(){const _=c+n,w=t.now();if(w<_)return i=this.schedule(void 0,_-w),void r.add(i);h()}e.subscribe((0,Nn.x)(r,_=>{s=_,c=t.now(),i||(i=t.schedule(p,n),r.add(i))},()=>{h(),r.complete()},void 0,()=>{s=i=null}))})}let pC=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mC=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){const r=Hi(e);return new tr.y(i=>{const c=this._observeElement(r).subscribe(i);return()=>{c.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const r=new yt.x,i=this._mutationObserverFactory.create(s=>r.next(s));i&&i.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:i,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:r,stream:i}=this._observedElements.get(e);r&&r.disconnect(),i.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(pC))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uA=(()=>{class n{constructor(e,r,i){this._contentObserver=e,this._elementRef=r,this._ngZone=i,this.event=new u.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=hr(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=jd(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Of(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(mC),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),gC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[pC]}),n})();const wu=new Set;let Ec,zd=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Pf}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function qm(n){if(!wu.has(n))try{Ec||(Ec=document.createElement("style"),Ec.setAttribute("type","text/css"),document.head.appendChild(Ec)),Ec.sheet&&(Ec.sheet.insertRule(`@media ${n} {body{ }}`,0),wu.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(zr))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Pf(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let _C=(()=>{class n{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new yt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return gv($d(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let s=mo(gv($d(e)).map(c=>this._registerQuery(c).observable));return s=Qo(s.pipe(nr(1)),s.pipe(cA(1),Of(0))),s.pipe((0,ht.U)(c=>{const h={matches:!1,breakpoints:{}};return c.forEach(({matches:p,query:_})=>{h.matches=h.matches||p,h.breakpoints[_]=p}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),s={observable:new tr.y(c=>{const h=p=>this._zone.run(()=>c.next(p));return r.addListener(h),()=>{r.removeListener(h)}}).pipe(vi(r),(0,ht.U)(({matches:c})=>({query:e,matches:c})),ir(this._destroySubject)),mql:r};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(zd),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gv(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function Gd(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const dA="cdk-describedby-message",Km="cdk-describedby-host";let Zm=0,hA=(()=>{class n{constructor(e,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Zm++,this._document=e,this._id=(0,u.f3M)(u.AFp)+"-"+Zm++}describe(e,r,i){if(!this._canBeDescribed(e,r))return;const s=Qm(r,i);"string"!=typeof r?(yv(r,this._id),this._messageRegistry.set(s,{messageElement:r,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(r,i),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,r,i){if(!r||!this._isElementNode(e))return;const s=Qm(r,i);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),"string"==typeof r){const c=this._messageRegistry.get(s);c&&0===c.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${Km}="${this._id}"]`);for(let r=0;r<e.length;r++)this._removeCdkDescribedByReferenceIds(e[r]),e[r].removeAttribute(Km);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,r){const i=this._document.createElement("div");yv(i,this._id),i.textContent=e,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(Qm(e,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let s=0;s<r.length;s++)r[s].remove();const i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(e),i.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(e){const r=Gd(e,"aria-describedby").filter(i=>0!=i.indexOf(dA));e.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(e,r){const i=this._messageRegistry.get(r);(function _v(n,t,e){const r=Gd(n,t);r.some(i=>i.trim()==e.trim())||(r.push(e.trim()),n.setAttribute(t,r.join(" ")))})(e,"aria-describedby",i.messageElement.id),e.setAttribute(Km,this._id),i.referenceCount++}_removeMessageReference(e,r){const i=this._messageRegistry.get(r);i.referenceCount--,function vC(n,t,e){const i=Gd(n,t).filter(s=>s!=e.trim());i.length?n.setAttribute(t,i.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",i.messageElement.id),e.removeAttribute(Km)}_isElementDescribedByMessage(e,r){const i=Gd(e,"aria-describedby"),s=this._messageRegistry.get(r),c=s&&s.messageElement.id;return!!c&&-1!=i.indexOf(c)}_canBeDescribed(e,r){if(!this._isElementNode(e))return!1;if(r&&"object"==typeof r)return!0;const i=null==r?"":`${r}`.trim(),s=e.getAttribute("aria-label");return!(!i||s&&s.trim()===i)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oe),u.LFG(zr))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Qm(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function yv(n,t){n.id||(n.id=`${dA}-${t}-${Zm++}`)}let Xm=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function vv(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function pA(n){try{return n.frameElement}catch{return null}}(function EC(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(r&&(-1===bv(r)||!this.isVisible(r)))return!1;let i=e.nodeName.toLowerCase(),s=bv(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function yA(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===i?!!e.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function vA(n){return!function mA(n){return function _A(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function bC(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function gA(n){return function wC(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||CC(n))}(e)&&!this.isDisabled(e)&&(r?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(zr))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function CC(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function bv(n){if(!CC(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class DC{constructor(t,e,r,i,s=!1){this._element=t,this._checker=e,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const r=this._getFirstTabbableElement(e);return r?.focus(t),!!r}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=0;r<e.length;r++){const i=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(i)return i}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=e.length-1;r>=0;r--){const i=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(i)return i}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(nr(1)).subscribe(t)}}let Nf=(()=>{class n{constructor(e,r,i){this._checker=e,this._ngZone=r,this._document=i}create(e,r=!1){return new DC(e,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Xm),u.LFG(u.R0b),u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ja=(()=>{class n{constructor(e,r,i){this._elementRef=e,this._focusTrapFactory=r,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=hr(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=hr(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const r=e.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Fd(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(Nf),u.Y36(oe))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[u.TTD]}),n})();function SC(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function TC(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const wA=new u.OlP("cdk-input-modality-detector-options"),wv={ignoreKeys:[18,17,224,91,16]},Wd=Nd({passive:!0,capture:!0});let Jm=(()=>{class n{constructor(e,r,i,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Hr(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(h=>h===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=bc(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(SC(c)?"keyboard":"mouse"),this._mostRecentTarget=bc(c))},this._onTouchstart=c=>{TC(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=bc(c))},this._options={...wv,...s},this.modalityDetected=this._modality.pipe(cA(1)),this.modalityChanged=this.modalityDetected.pipe(dC()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Wd),i.addEventListener("mousedown",this._onMousedown,Wd),i.addEventListener("touchstart",this._onTouchstart,Wd)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Wd),document.removeEventListener("mousedown",this._onMousedown,Wd),document.removeEventListener("touchstart",this._onTouchstart,Wd))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(zr),u.LFG(u.R0b),u.LFG(oe),u.LFG(wA,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const e1=new u.OlP("cdk-focus-monitor-default-options"),Cv=Nd({passive:!0,capture:!0});let xl=(()=>{class n{constructor(e,r,i,s,c){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new yt.x,this._rootNodeFocusAndBlurListener=h=>{for(let _=bc(h);_;_=_.parentElement)"focus"===h.type?this._onFocus(h,_):this._onBlur(h,_)},this._document=s,this._detectionMode=c?.detectionMode||0}monitor(e,r=!1){const i=Hi(e);if(!this._platform.isBrowser||1!==i.nodeType)return qe(null);const s=function BT(n){if(function Um(){if(null==Z0){const n=typeof document<"u"?document.head:null;Z0=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Z0}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(i)||this._getDocument(),c=this._elementInfo.get(i);if(c)return r&&(c.checkChildren=!0),c.subject;const h={checkChildren:r,subject:new yt.x,rootNode:s};return this._elementInfo.set(i,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const r=Hi(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const s=Hi(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,p])=>this._originChanged(h,r,p)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),s=bc(e);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Cv),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Cv)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ir(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Cv),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Cv),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,s)=>{(s===e||i.checkChildren&&s.contains(e))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let c=0;c<s.length;c++)if(s[c].contains(r))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.R0b),u.LFG(zr),u.LFG(Jm),u.LFG(oe,8),u.LFG(e1,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),t1=(()=>{class n{constructor(e,r){this._elementRef=e,this._focusMonitor=r,this.cdkFocusChange=new u.vpe}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>this.cdkFocusChange.emit(r))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(xl))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const kC="cdk-high-contrast-black-on-white",Ev="cdk-high-contrast-white-on-black",eg="cdk-high-contrast-active";let Dv=(()=>{class n{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=(0,u.f3M)(_C).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(eg,kC,Ev),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?e.add(eg,kC):2===r&&e.add(eg,Ev)}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(zr),u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tg=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Dv))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[gC]}),n})();var Iv=F(1144);const kl=["addListener","removeListener"],ng=["addEventListener","removeEventListener"],rg=["on","off"];function la(n,t,e,r){if((0,xn.m)(e)&&(r=e,e=void 0),r)return la(n,t,e).pipe(_s(r));const[i,s]=function IA(n){return(0,xn.m)(n.addEventListener)&&(0,xn.m)(n.removeEventListener)}(n)?ng.map(c=>h=>n[c](t,h,e)):function Sv(n){return(0,xn.m)(n.addListener)&&(0,xn.m)(n.removeListener)}(n)?kl.map(RC(n,t)):function OC(n){return(0,xn.m)(n.on)&&(0,xn.m)(n.off)}(n)?rg.map(RC(n,t)):[];if(!i&&(0,Iv.z)(n))return(0,Xr.z)(c=>la(c,t,e))((0,go.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new tr.y(c=>{const h=(...p)=>c.next(1<p.length?p:p[0]);return i(h),()=>s(h)})}function RC(n,t){return e=>r=>n[e](t,r)}var PC=F(4408);const Rl={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=Rl;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=t(s=>{e=void 0,n(s)});return new jr.w0(()=>e?.(i))},requestAnimationFrame(...n){const{delegate:t}=Rl;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Rl;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var TA=F(7565);new class AA extends TA.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class SA extends PC.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=Rl.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(t,e,r);t.actions.some(i=>i.id===e)||(Rl.cancelAnimationFrame(e),t._scheduled=void 0)}});let Tv,MA=1;const ig={};function xA(n){return n in ig&&(delete ig[n],!0)}const NC={setImmediate(n){const t=MA++;return ig[t]=!0,Tv||(Tv=Promise.resolve()),Tv.then(()=>xA(t)&&n()),t},clearImmediate(n){xA(n)}},{setImmediate:kA,clearImmediate:Av}=NC,sg={setImmediate(...n){const{delegate:t}=sg;return(t?.setImmediate||kA)(...n)},clearImmediate(n){const{delegate:t}=sg;return(t?.clearImmediate||Av)(n)},delegate:void 0};new class OA extends TA.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class RA extends PC.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=sg.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(t,e,r);t.actions.some(i=>i.id===e)||(sg.clearImmediate(e),t._scheduled=void 0)}});var og=F(3532);function qd(n,t=Wm.z){return function NA(n){return(0,gn.e)((t,e)=>{let r=!1,i=null,s=null,c=!1;const h=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const _=i;i=null,e.next(_)}c&&e.complete()},p=()=>{s=null,c&&e.complete()};t.subscribe((0,Nn.x)(e,_=>{r=!0,i=_,s||(0,go.Xf)(n(_)).subscribe(s=(0,Nn.x)(e,h,p))},()=>{c=!0,(!r||!s||s.closed)&&e.complete()}))})}(()=>function o1(n=0,t,e=Wm.P){let r=-1;return null!=t&&((0,og.K)(t)?e=t:r=t),new tr.y(i=>{let s=function Cu(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let c=0;return e.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,t))}const FA=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function LA(){return(0,u.f3M)(oe)}}),Mv=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Wr=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new u.vpe,e){const i=e.documentElement?e.documentElement.dir:null;this.value=function VA(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Mv.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(FA,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),Ol=(()=>{class n{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new yt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new tr.y(r=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(qd(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):qe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(kn(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,e)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=Hi(r),s=e.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>la(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.R0b),u.LFG(zr),u.LFG(oe,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Dc=(()=>{class n{constructor(e,r,i,s){this.elementRef=e,this.scrollDispatcher=r,this.ngZone=i,this.dir=s,this._destroyed=new yt.x,this._elementScrolled=new tr.y(c=>this.ngZone.runOutsideAngular(()=>la(this.elementRef.nativeElement,"scroll").pipe(ir(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=i?e.end:e.start),null==e.right&&(e.right=i?e.start:e.end),null!=e.bottom&&(e.top=r.scrollHeight-r.clientHeight-e.bottom),i&&0!=Af()?(null!=e.left&&(e.right=r.scrollWidth-r.clientWidth-e.left),2==Af()?e.left=e.right:1==Af()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=r.scrollWidth-r.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const r=this.elementRef.nativeElement;iv()?r.scrollTo(e):(null!=e.top&&(r.scrollTop=e.top),null!=e.left&&(r.scrollLeft=e.left))}measureScrollOffset(e){const r="left",i="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==e?e=c?i:r:"end"==e&&(e=c?r:i),c&&2==Af()?e==r?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:c&&1==Af()?e==r?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==r?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(Ol),u.Y36(u.R0b),u.Y36(Wr,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),Ic=(()=>{class n{constructor(e,r,i){this._platform=e,this._change=new yt.x,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,s=i.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(qd(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(zr),u.LFG(u.R0b),u.LFG(oe,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Eu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),kv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[qr,Eu,qr,Eu]}),n})();class Uf{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Sc extends Uf{constructor(t,e,r,i){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i}}class VC extends Uf{constructor(t,e,r,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class lg extends Uf{constructor(t){super(),this.element=t instanceof u.SBq?t.nativeElement:t}}class Qd{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Sc?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof VC?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof lg?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class YA extends Qd{constructor(t,e,r,i,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=c=>{const h=c.element,p=this._document.createComment("dom-portal");h.parentNode.insertBefore(p,h),this.outletElement.appendChild(h),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=s}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(t.injector||this._defaultInjector||u.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);-1!==i&&e.remove(i)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Xd=(()=>{class n extends Qd{constructor(e,r,i){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new u.vpe,this.attachDomPortal=s=>{const c=s.element,h=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(h,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(c,h)})},this._document=i}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),c=r.createComponent(s,r.length,e.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=e,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u._Vd),u.Y36(u.s_b),u.Y36(oe))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[u.qOj]}),n})(),Jd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var $a=F(6451);const cg=iv();class QA{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Gr(-this._previousScrollPosition.left),t.style.top=Gr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,i=this._document.body.style,s=r.scrollBehavior||"",c=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),cg&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),cg&&(r.scrollBehavior=s,i.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class HC{constructor(t,e,r,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Pv{enable(){}disable(){}attach(){}}function ug(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function jC(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class $C{constructor(t,e,r,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();ug(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let zC=(()=>{class n{constructor(e,r,i,s){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new Pv,this.close=c=>new HC(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new QA(this._viewportRuler,this._document),this.reposition=c=>new $C(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Ol),u.LFG(Ic),u.LFG(u.R0b),u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class dg{constructor(t){if(this.scrollStrategy=new Pv,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class WC{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Nv=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qC=(()=>{class n extends Nv{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){const h=s[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(i)):h.next(i);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oe),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YC=(()=>{class n extends Nv{constructor(e,r,i){super(e),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=bc(s)},this._clickListener=s=>{const c=bc(s),h="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let _=p.length-1;_>-1;_--){const w=p[_];if(w._outsidePointerEvents.observers.length<1||!w.hasAttached())continue;if(w.overlayElement.contains(c)||w.overlayElement.contains(h))break;const I=w._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>I.next(s)):I.next(s)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oe),u.LFG(zr),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hf=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Hm()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(e),Hm()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oe),u.LFG(zr))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class hg{constructor(t,e,r,i,s,c,h,p,_,w=!1){this._portalOutlet=t,this._host=e,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=c,this._document=h,this._location=p,this._outsideClickDispatcher=_,this._animationsDisabled=w,this._backdropElement=null,this._backdropClick=new yt.x,this._attachments=new yt.x,this._detachments=new yt.x,this._locationChanges=jr.w0.EMPTY,this._backdropClickHandler=I=>this._backdropClick.next(I),this._backdropTransitionendHandler=I=>{this._disposeBackdrop(I.target)},this._keydownEvents=new yt.x,this._outsidePointerEvents=new yt.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(nr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Gr(this._config.width),t.height=Gr(this._config.height),t.minWidth=Gr(this._config.minWidth),t.minHeight=Gr(this._config.minHeight),t.maxWidth=Gr(this._config.maxWidth),t.maxHeight=Gr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,r){const i=$d(e||[]).filter(s=>!!s);i.length&&(r?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(ir((0,$a.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const KC="cdk-overlay-connected-position-bounding-box",nM=/([A-Za-z%]+)$/;class Fv{constructor(t,e,r,i,s){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new yt.x,this._resizeSubscription=jr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(KC),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let c;for(let h of this._preferredPositions){let p=this._getOriginPoint(t,i,h),_=this._getOverlayPoint(p,e,h),w=this._getOverlayFit(_,e,r,h);if(w.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,p);this._canFitWithFlexibleDimensions(w,_,r)?s.push({position:h,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,h)}):(!c||c.overlayFit.visibleArea<w.visibleArea)&&(c={overlayFit:w,overlayPoint:_,originPoint:p,position:h,overlayRect:e})}if(s.length){let h=null,p=-1;for(const _ of s){const w=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);w>p&&(p=w,h=_)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Du(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(KC),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,r){let i,s;if("center"==r.originX)i=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;i="start"==r.originX?c:h}return e.left<0&&(i-=e.left),s="center"==r.originY?t.top+t.height/2:"top"==r.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:i,y:s}}_getOverlayPoint(t,e,r){let i,s;return i="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+i,y:t.y+s}}_getOverlayFit(t,e,r,i){const s=Lv(e);let{x:c,y:h}=t,p=this._getOffset(i,"x"),_=this._getOffset(i,"y");p&&(c+=p),_&&(h+=_);let x=0-h,L=h+s.height-r.height,B=this._subtractOverflows(s.width,0-c,c+s.width-r.width),X=this._subtractOverflows(s.height,x,L),ve=B*X;return{visibleArea:ve,isCompletelyWithinViewport:s.width*s.height===ve,fitsInViewportVertically:X===s.height,fitsInViewportHorizontally:B==s.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const i=r.bottom-e.y,s=r.right-e.x,c=Yr(this._overlayRef.getConfig().minHeight),h=Yr(this._overlayRef.getConfig().minWidth),_=t.fitsInViewportHorizontally||null!=h&&h<=s;return(t.fitsInViewportVertically||null!=c&&c<=i)&&_}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=Lv(e),s=this._viewportRect,c=Math.max(t.x+i.width-s.width,0),h=Math.max(t.y+i.height-s.height,0),p=Math.max(s.top-r.top-t.y,0),_=Math.max(s.left-r.left-t.x,0);let w=0,I=0;return w=i.width<=s.width?_||-c:t.x<this._viewportMargin?s.left-r.left-t.x:0,I=i.height<=s.height?p||-h:t.y<this._viewportMargin?s.top-r.top-t.y:0,this._previousPushAmount={x:w,y:I},{x:t.x+w,y:t.y+I}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new WC(t,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,i=this._isRtl();let s,c,h,w,I,x;if("top"===e.overlayY)c=t.y,s=r.height-c+this._viewportMargin;else if("bottom"===e.overlayY)h=r.height-t.y+2*this._viewportMargin,s=r.height-h+this._viewportMargin;else{const L=Math.min(r.bottom-t.y+r.top,t.y),B=this._lastBoundingBoxSize.height;s=2*L,c=t.y-L,s>B&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-B/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)x=r.width-t.x+this._viewportMargin,w=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)I=t.x,w=r.right-t.x;else{const L=Math.min(r.right-t.x+r.left,t.x),B=this._lastBoundingBoxSize.width;w=2*L,I=t.x-L,w>B&&!this._isInitialRender&&!this._growAfterOpen&&(I=t.x-B/2)}return{top:c,left:I,bottom:h,right:x,width:w,height:s}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;i.height=Gr(r.height),i.top=Gr(r.top),i.bottom=Gr(r.bottom),i.width=Gr(r.width),i.left=Gr(r.left),i.right=Gr(r.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=Gr(s)),c&&(i.maxWidth=Gr(c))}this._lastBoundingBoxSize=r,Du(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Du(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Du(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(i){const w=this._viewportRuler.getViewportScrollPosition();Du(r,this._getExactOverlayY(e,t,w)),Du(r,this._getExactOverlayX(e,t,w))}else r.position="static";let h="",p=this._getOffset(e,"x"),_=this._getOffset(e,"y");p&&(h+=`translateX(${p}px) `),_&&(h+=`translateY(${_}px)`),r.transform=h.trim(),c.maxHeight&&(i?r.maxHeight=Gr(c.maxHeight):s&&(r.maxHeight="")),c.maxWidth&&(i?r.maxWidth=Gr(c.maxWidth):s&&(r.maxWidth="")),Du(this._pane.style,r)}_getExactOverlayY(t,e,r){let i={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=Gr(s.y),i}_getExactOverlayX(t,e,r){let c,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),c=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===c?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Gr(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:jC(t,r),isOriginOutsideView:ug(t,r),isOverlayClipped:jC(e,r),isOverlayOutsideView:ug(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&$d(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof u.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function Du(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Yr(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(nM);return e&&"px"!==e?null:parseFloat(t)}return n||null}function Lv(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Vv="cdk-global-overlay-wrapper";class rM{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Vv),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:c,maxHeight:h}=r,p=!("100%"!==i&&"100vw"!==i||c&&"100%"!==c&&"100vw"!==c),_=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h),w=this._xPosition,I=this._xOffset,x="rtl"===this._overlayRef.getConfig().direction;let L="",B="",X="";p?X="flex-start":"center"===w?(X="center",x?B=I:L=I):x?"left"===w||"end"===w?(X="flex-end",L=I):("right"===w||"start"===w)&&(X="flex-start",B=I):"left"===w||"start"===w?(X="flex-start",L=I):("right"===w||"end"===w)&&(X="flex-end",B=I),t.position=this._cssPosition,t.marginLeft=p?"0":L,t.marginTop=_?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=p?"0":B,e.justifyContent=X,e.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(Vv),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let ZC=(()=>{class n{constructor(e,r,i,s){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new rM}flexibleConnectedTo(e){return new Fv(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Ic),u.LFG(oe),u.LFG(zr),u.LFG(Hf))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QC=0,ts=(()=>{class n{constructor(e,r,i,s,c,h,p,_,w,I,x,L){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=h,this._ngZone=p,this._document=_,this._directionality=w,this._location=I,this._outsideClickDispatcher=x,this._animationsModuleType=L}create(e){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),c=new dg(e);return c.direction=c.direction||this._directionality.value,new hg(s,r,i,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+QC++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(u.z2F)),new YA(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(zC),u.LFG(Hf),u.LFG(u._Vd),u.LFG(ZC),u.LFG(qC),u.LFG(u.zs3),u.LFG(u.R0b),u.LFG(oe),u.LFG(Wr),u.LFG(Le),u.LFG(YC),u.LFG(u.QbO,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const m1={provide:new u.OlP("cdk-connected-overlay-scroll-strategy"),deps:[ts],useFactory:function XC(n){return()=>n.scrollStrategies.reposition()}};let eh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[ts,m1],imports:[qr,Jd,kv,kv]}),n})();function za(n,t){}class fg{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let ua=(()=>{class n extends Qd{constructor(e,r,i,s,c,h,p,_){super(),this._elementRef=e,this._focusTrapFactory=r,this._config=s,this._interactivityChecker=c,this._ngZone=h,this._overlayRef=p,this._focusMonitor=_,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=w=>{this._portalOutlet.hasAttached();const I=this._portalOutlet.attachDomPortal(w);return this._contentAttached(),I},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=i}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),r}attachTemplatePortal(e){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{e.removeEventListener("blur",i),e.removeEventListener("mousedown",i),e.removeAttribute("tabindex")};e.addEventListener("blur",i),e.addEventListener("mousedown",i)})),e.focus(r)}_focusByCssSelector(e,r){let i=this._elementRef.nativeElement.querySelector(e);i&&this._forceFocus(i,r)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let r=null;if("string"==typeof e?r=this._document.querySelector(e):"boolean"==typeof e?r=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(r=e),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=Fd(),s=this._elementRef.nativeElement;(!i||i===this._document.body||i===s||s.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,r=Fd();return e===r||e.contains(r)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Fd())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(Nf),u.Y36(oe,8),u.Y36(fg),u.Y36(Xm),u.Y36(u.R0b),u.Y36(hg),u.Y36(xl))},n.\u0275cmp=u.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,r){if(1&e&&u.Gf(Xd,7),2&e){let i;u.iGM(i=u.CRH())&&(r._portalOutlet=i.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,r){2&e&&u.uIk("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[u.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,r){1&e&&u.YNc(0,za,0,0,"ng-template",0)},dependencies:[Xd],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class $s{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new yt.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!Hd(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),r.next(t),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const Io=new u.OlP("DialogScrollStrategy"),eE=new u.OlP("DialogData"),tE=new u.OlP("DefaultDialogConfig"),aM={provide:Io,deps:[ts],useFactory:function oM(n){return()=>n.scrollStrategies.block()}};let lM=0,nE=(()=>{class n{constructor(e,r,i,s,c,h){this._overlay=e,this._injector=r,this._defaultOptions=i,this._parentDialog=s,this._overlayContainer=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new yt.x,this._afterOpenedAtThisLevel=new yt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=_o(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(vi(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,r){(r={...this._defaultOptions||new fg,...r}).id=r.id||"cdk-dialog-"+lM++,r.id&&this.getDialogById(r.id);const s=this._getOverlayConfig(r),c=this._overlay.create(s),h=new $s(c,r),p=this._attachContainer(c,h,r);return h.containerInstance=p,this._attachDialogContent(e,h,p,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.closed.subscribe(()=>this._removeOpenDialog(h,!0)),this.afterOpened.next(h),h}closeAll(){jf(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){jf(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),jf(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const r=new dg({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(r.backdropClass=e.backdropClass),r}_attachContainer(e,r,i){const s=i.injector??i.viewContainerRef?.injector,c=[{provide:fg,useValue:i},{provide:$s,useValue:r},{provide:hg,useValue:e}];let h;i.container?"function"==typeof i.container?h=i.container:(h=i.container.type,c.push(...i.container.providers(i))):h=ua;const p=new Sc(h,i.viewContainerRef,u.zs3.create({parent:s||this._injector,providers:c}),i.componentFactoryResolver);return e.attach(p).instance}_attachDialogContent(e,r,i,s){const c=this._createInjector(s,r,i);if(e instanceof u.Rgc){let h={$implicit:s.data,dialogRef:r};s.templateContext&&(h={...h,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),i.attachTemplatePortal(new VC(e,null,h,c))}else{const h=i.attachComponentPortal(new Sc(e,s.viewContainerRef,c,s.componentFactoryResolver));r.componentInstance=h.instance}}_createInjector(e,r,i){const s=e&&e.viewContainerRef&&e.viewContainerRef.injector,c=[{provide:eE,useValue:e.data},{provide:$s,useValue:r}];return e.providers&&("function"==typeof e.providers?c.push(...e.providers(r,e,i)):c.push(...e.providers)),e.direction&&(!s||!s.get(Wr,null,u.XFs.Optional))&&c.push({provide:Wr,useValue:{value:e.direction,change:qe()}}),u.zs3.create({parent:e.injector||s||this._injector,providers:c})}_removeOpenDialog(e,r){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,c)=>{s?c.setAttribute("aria-hidden",s):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const r=e.parentElement.children;for(let i=r.length-1;i>-1;i--){const s=r[i];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ts),u.LFG(u.zs3),u.LFG(tE,8),u.LFG(n,12),u.LFG(Hf),u.LFG(Io))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function jf(n,t){let e=n.length;for(;e--;)t(n[e])}let $f=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[nE,aM],imports:[eh,Jd,tg,Jd]}),n})();const pg=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function Uv(){return!0}});let fr=(()=>{class n{constructor(e,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Hm()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Dv),u.LFG(pg,8),u.LFG(oe))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[qr,qr]}),n})();function sE(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=hr(t)}}}function Iu(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function oE(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=hr(t)}}}function yM(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}const vM=new u.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function bM(){return(0,u.f3M)(u.soG)}});class Ei{constructor(){this._localeChanges=new yt.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let r=this.isValid(t),i=this.isValid(e);return r&&i?!this.compareDate(t,e):r==i}return t==e}clampDate(t,e,r){return e&&this.compareDate(t,e)<0?e:r&&this.compareDate(t,r)>0?r:t}}const Su=new u.OlP("mat-date-formats"),wM=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Hv(n,t){const e=Array(n);for(let r=0;r<n;r++)e[r]=t(r);return e}let CM=(()=>{class n extends Ei{constructor(e,r){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const r=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return Hv(12,i=>this._format(r,new Date(2017,i,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Hv(31,r=>this._format(e,new Date(2017,0,r+1)))}getDayOfWeekNames(e){const r=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return Hv(7,i=>this._format(r,new Date(2017,0,i+1)))}getYearName(e){const r=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(r,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,r,i){let s=this._createDateWithOverflow(e,r,i);return s.getMonth(),s}today(){return new Date}parse(e,r){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,r){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const i=new Intl.DateTimeFormat(this.locale,{...r,timeZone:"utc"});return this._format(i,e)}addCalendarYears(e,r){return this.addCalendarMonths(e,12*r)}addCalendarMonths(e,r){let i=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+r,this.getDate(e));return this.getMonth(i)!=((this.getMonth(e)+r)%12+12)%12&&(i=this._createDateWithOverflow(this.getYear(i),this.getMonth(i),0)),i}addCalendarDays(e,r){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+r)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(wM.test(e)){let r=new Date(e);if(this.isValid(r))return r}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,r,i){const s=new Date;return s.setFullYear(e,r,i),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,r){const i=new Date;return i.setUTCFullYear(r.getFullYear(),r.getMonth(),r.getDate()),i.setUTCHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),e.format(i)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(vM,8),u.LFG(zr))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const EM={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let DM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:Ei,useClass:CM}]}),n})(),IM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:Su,useValue:EM}],imports:[DM]}),n})(),aE=(()=>{class n{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class lE{constructor(t,e,r,i=!1){this._renderer=t,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const jv={enterDuration:225,exitDuration:150},mg=Nd({passive:!0}),$v=["mousedown","touchstart"],zv=["mouseup","mouseleave","touchend","touchcancel"];class uE{constructor(t,e,r,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Hi(r))}fadeInRipple(t,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...jv,...r.animation};r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const c=r.radius||function dE(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),i=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),h=t-i.left,p=e-i.top,_=s.enterDuration,w=document.createElement("div");w.classList.add("mat-ripple-element"),w.style.left=h-c+"px",w.style.top=p-c+"px",w.style.height=2*c+"px",w.style.width=2*c+"px",null!=r.color&&(w.style.backgroundColor=r.color),w.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(w);const I=window.getComputedStyle(w),L=I.transitionDuration,B="none"===I.transitionProperty||"0s"===L||"0s, 0s"===L,X=new lE(this,w,r,B);w.style.transform="scale3d(1, 1, 1)",X.state=0,r.persistent||(this._mostRecentTransientRipple=X);let ve=null;return!B&&(_||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Xe=()=>this._finishRippleTransition(X),ut=()=>this._destroyRipple(X);w.addEventListener("transitionend",Xe),w.addEventListener("transitioncancel",ut),ve={onTransitionEnd:Xe,onTransitionCancel:ut}}),this._activeRipples.set(X,ve),(B||!_)&&this._finishRippleTransition(X),X}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,r={...jv,...t.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Hi(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents($v))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(zv),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=1,!r&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=SC(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!TC(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,mg)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&($v.forEach(t=>{this._triggerElement.removeEventListener(t,this,mg)}),this._pointerUpEventsRegistered&&zv.forEach(t=>{this._triggerElement.removeEventListener(t,this,mg)}))}}const hE=new u.OlP("mat-ripple-global-options");let gg=(()=>{class n{constructor(e,r,i,s,c){this._elementRef=e,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new uE(this,r,e,i)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(zr),u.Y36(hE,8),u.Y36(u.QbO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&u.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Gv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[fr,fr]}),n})();class pE{}const So="*";function $n(n,t){return{type:7,name:n,definitions:t,options:{}}}function Ga(n,t=null){return{type:4,styles:t,timings:n}}function Wv(n,t=null){return{type:3,steps:n,options:t}}function qv(n,t=null){return{type:2,steps:n,options:t}}function pr(n){return{type:6,styles:n,offset:null}}function Wa(n,t,e){return{type:0,name:n,styles:t,options:e}}function yg(n){return{type:5,steps:n}}function To(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function mE(n=null){return{type:9,options:n}}function gE(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function _E(n){Promise.resolve(null).then(n)}class qf{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){_E(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class yE{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,i=0;const s=this.players.length;0==s?_E(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==s&&this._onFinish()}),c.onDestroy(()=>{++r==s&&this._onDestroy()}),c.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function vE(n,t){}const Tu={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},bE={dialogContainer:$n("dialogContainer",[Wa("void, exit",pr({opacity:0,transform:"scale(0.7)"})),Wa("enter",pr({transform:"none"})),To("* => enter",Wv([Ga("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",pr({transform:"none",opacity:1})),gE("@*",mE(),{optional:!0})]),Tu),To("* => void, * => exit",Wv([Ga("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",pr({opacity:0})),gE("@*",mE(),{optional:!0})]),Tu)])};class bg{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=Tu.params.enterAnimationDuration,this.exitAnimationDuration=Tu.params.exitAnimationDuration}}let Yf=(()=>{class n extends ua{constructor(e,r,i,s,c,h,p,_){super(e,r,i,s,c,h,p,_),this._animationStateChanged=new u.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(Nf),u.Y36(oe,8),u.Y36(bg),u.Y36(Xm),u.Y36(u.R0b),u.Y36(hg),u.Y36(xl))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],features:[u.qOj],decls:0,vars:0,template:function(e,r){},encapsulation:2}),n})(),Kf=(()=>{class n extends Yf{constructor(e,r,i,s,c,h,p,_,w){super(e,r,i,s,c,h,p,w),this._changeDetectorRef=_,this._state="enter"}_onAnimationDone({toState:e,totalTime:r}){"enter"===e?this._openAnimationDone(r):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:r})}_onAnimationStart({toState:e,totalTime:r}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Tu.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Tu.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(Nf),u.Y36(oe,8),u.Y36(bg),u.Y36(Xm),u.Y36(u.R0b),u.Y36(hg),u.Y36(u.sBO),u.Y36(xl))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,r){1&e&&u.WFA("@dialogContainer.start",function(s){return r._onAnimationStart(s)})("@dialogContainer.done",function(s){return r._onAnimationDone(s)}),2&e&&(u.Ikx("id",r._config.id),u.uIk("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),u.d8E("@dialogContainer",r._getAnimationState()))},features:[u.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,r){1&e&&u.YNc(0,vE,0,0,"ng-template",0)},dependencies:[Xd],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[bE.dialogContainer]}}),n})();class Yv{constructor(t,e,r){this._ref=t,this._containerInstance=r,this._afterOpened=new yt.x,this._beforeClosed=new yt.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,r._animationStateChanged.pipe(kn(i=>"opened"===i.state),nr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(kn(i=>"closed"===i.state),nr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,$a.T)(this.backdropClick(),this.keydownEvents().pipe(kn(i=>27===i.keyCode&&!this.disableClose&&!Hd(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),function MM(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===i.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(kn(e=>"closing"===e.state),nr(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const xM=new u.OlP("MatDialogData"),wE=new u.OlP("mat-dialog-default-options"),Kv=new u.OlP("mat-dialog-scroll-strategy"),CE={provide:Kv,deps:[ts],useFactory:function RM(n){return()=>n.scrollStrategies.block()}};let OM=0,PM=(()=>{class n{constructor(e,r,i,s,c,h,p,_,w,I){this._overlay=e,this._defaultOptions=i,this._parentDialog=s,this._dialogRefConstructor=p,this._dialogContainerType=_,this._dialogDataToken=w,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new yt.x,this._afterOpenedAtThisLevel=new yt.x,this._idPrefix="mat-dialog-",this.afterAllClosed=_o(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(vi(void 0))),this._scrollStrategy=h,this._dialog=r.get(nE)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,r){let i;(r={...this._defaultOptions||new bg,...r}).id=r.id||`${this._idPrefix}${OM++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:bg,useValue:r},{provide:fg,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(c,h,p)=>(i=new this._dialogRefConstructor(c,r,p),i.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:p},{provide:this._dialogDataToken,useValue:h.data},{provide:this._dialogRefConstructor,useValue:i}])});return i.componentInstance=s.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{const c=this.openDialogs.indexOf(i);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let r=e.length;for(;r--;)e[r].close()}}return n.\u0275fac=function(e){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),EE=(()=>{class n extends PM{constructor(e,r,i,s,c,h,p,_){super(e,r,s,h,p,c,Yv,Kf,xM,_)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ts),u.LFG(u.zs3),u.LFG(Le,8),u.LFG(wE,8),u.LFG(Kv),u.LFG(n,12),u.LFG(Hf),u.LFG(u.QbO,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),M1=0,x1=(()=>{class n{constructor(e,r,i){this._dialogRef=e,this._elementRef=r,this._dialog=i,this.id="mat-dialog-title-"+M1++}ngOnInit(){this._dialogRef||(this._dialogRef=function NM(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(r=>r.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Yv,8),u.Y36(u.SBq),u.Y36(EE))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,r){2&e&&u.Ikx("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),DE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),wg=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(e,r){2&e&&u.ekj("mat-dialog-actions-align-center","center"===r.align)("mat-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"}}),n})(),FM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[EE,CE],imports:[$f,eh,Jd,fr,fr]}),n})();var on=F(5813);function Au(){return(0,gn.e)((n,t)=>{let e,r=!1;n.subscribe((0,Nn.x)(t,i=>{const s=e;e=i,r&&t.next([s,i]),r=!0}))})}var ft,da=F(2011),LM=(F(5881),F(3942)),Te=F(5861),ns=F(9681),rh=F(4859),qa=F(1877),re=F(2090),ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pl={},Zv=Zv||{},Gt=ih||self;function Cg(){}function Eg(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Zf(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Xv="closure_uid_"+(1e9*Math.random()>>>0),IE=0;function SE(n,t,e){return n.call.apply(n.bind,arguments)}function VM(n,t,e){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(t,i)}}return function(){return n.apply(t,arguments)}}function Di(n,t,e){return(Di=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?SE:VM).apply(null,arguments)}function Dg(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var r=e.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ti(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(r,i,s){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return t.prototype[i].apply(r,c)}}function Tc(){this.s=this.s,this.o=this.o}var BM={};Tc.prototype.s=!1,Tc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Qv(n){return Object.prototype.hasOwnProperty.call(n,Xv)&&n[Xv]||(n[Xv]=++IE)}(this);delete BM[n]}},Tc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const AE=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},ME=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const r=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<r;s++)s in i&&t.call(e,i[s],s,n)};function xE(n){return Array.prototype.concat.apply([],arguments)}function Jv(n){const t=n.length;if(0<t){const e=Array(t);for(let r=0;r<t;r++)e[r]=n[r];return e}return[]}function Ig(n){return/^[\s\xa0]*$/.test(n)}var rs,kE=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ji(n,t){return-1!=n.indexOf(t)}function Sg(n,t){return n<t?-1:n>t?1:0}e:{var RE=Gt.navigator;if(RE){var eb=RE.userAgent;if(eb){rs=eb;break e}}rs=""}function tb(n,t,e){for(const r in n)t.call(e,n[r],r,n)}function OE(n){const t={};for(const e in n)t[e]=n[e];return t}var PE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tg(n,t){let e,r;for(let i=1;i<arguments.length;i++){for(e in r=arguments[i],r)n[e]=r[e];for(let s=0;s<PE.length;s++)e=PE[s],Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}}function Qf(n){return Qf[" "](n),n}Qf[" "]=Cg;var Jf,n,nb=ji(rs,"Opera"),sh=ji(rs,"Trident")||ji(rs,"MSIE"),FE=ji(rs,"Edge"),Xf=FE||sh,LE=ji(rs,"Gecko")&&!(ji(rs.toLowerCase(),"webkit")&&!ji(rs,"Edge"))&&!(ji(rs,"Trident")||ji(rs,"MSIE"))&&!ji(rs,"Edge"),VE=ji(rs.toLowerCase(),"webkit")&&!ji(rs,"Edge");function Mu(){var n=Gt.document;return n?n.documentMode:void 0}e:{var rb="",BE=(n=rs,LE?/rv:([^\);]+)(\)|;)/.exec(n):FE?/Edge\/([\d\.]+)/.exec(n):sh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):VE?/WebKit\/(\S+)/.exec(n):nb?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(BE&&(rb=BE?BE[1]:""),sh){var Ag=Mu();if(null!=Ag&&Ag>parseFloat(rb)){Jf=String(Ag);break e}}Jf=rb}var ib={};var jM=Gt.document&&sh&&(Mu()||parseInt(Jf,10))||void 0,sb=function(){if(!Gt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Gt.addEventListener("test",Cg,t),Gt.removeEventListener("test",Cg,t)}catch{}return n}();function Ii(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function oh(n,t){if(Ii.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(LE){e:{try{Qf(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:HE[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&oh.Z.h.call(this)}}Ii.prototype.h=function(){this.defaultPrevented=!0},ti(oh,Ii);var HE={2:"touch",3:"pen",4:"mouse"};oh.prototype.h=function(){oh.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ah="closure_listenable_"+(1e6*Math.random()|0),$M=0;function zM(n,t,e,r,i){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!r,this.ia=i,this.key=++$M,this.ca=this.fa=!1}function Mg(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function xg(n){this.src=n,this.g={},this.h=0}function kg(n,t){var e=t.type;if(e in n.g){var s,r=n.g[e],i=AE(r,t);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Mg(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function jE(n,t,e,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ca&&s.listener==t&&s.capture==!!e&&s.ia==r)return i}return-1}xg.prototype.add=function(n,t,e,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=jE(n,t,r,i);return-1<c?(t=n[c],e||(t.fa=!1)):((t=new zM(t,this.src,s,!!r,i)).fa=e,n.push(t)),t};var Rg="closure_lm_"+(1e6*Math.random()|0),ob={};function $E(n,t,e,r,i){if(r&&r.once)return zE(n,t,e,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)$E(n,t[s],e,r,i);return null}return e=ub(e),n&&n[ah]?n.N(t,e,Zf(r)?!!r.capture:!!r,i):GM(n,t,e,!1,r,i)}function GM(n,t,e,r,i,s){if(!t)throw Error("Invalid event type");var c=Zf(i)?!!i.capture:!!i,h=lb(n);if(h||(n[Rg]=h=new xg(n)),(e=h.add(t,e,r,c,s)).proxy)return e;if(r=function R1(){var t=WM;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=r,r.src=n,r.listener=e,n.addEventListener)sb||(i=c),void 0===i&&(i=!1),n.addEventListener(t.toString(),r,i);else if(n.attachEvent)n.attachEvent(WE(t.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return e}function zE(n,t,e,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)zE(n,t[s],e,r,i);return null}return e=ub(e),n&&n[ah]?n.O(t,e,Zf(r)?!!r.capture:!!r,i):GM(n,t,e,!0,r,i)}function GE(n,t,e,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)GE(n,t[s],e,r,i);else r=Zf(r)?!!r.capture:!!r,e=ub(e),n&&n[ah]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=jE(s=n.g[t],e,r,i))&&(Mg(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=lb(n))&&(t=n.g[t.toString()],n=-1,t&&(n=jE(t,e,r,i)),(e=-1<n?t[n]:null)&&ab(e))}function ab(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[ah])kg(t.i,n);else{var e=n.type,r=n.proxy;t.removeEventListener?t.removeEventListener(e,r,n.capture):t.detachEvent?t.detachEvent(WE(e),r):t.addListener&&t.removeListener&&t.removeListener(r),(e=lb(t))?(kg(e,n),0==e.h&&(e.src=null,t[Rg]=null)):Mg(n)}}}function WE(n){return n in ob?ob[n]:ob[n]="on"+n}function WM(n,t){if(n.ca)n=!0;else{t=new oh(t,this);var e=n.listener,r=n.ia||n.src;n.fa&&ab(n),n=e.call(r,t)}return n}function lb(n){return(n=n[Rg])instanceof xg?n:null}var cb="__closure_events_fn_"+(1e9*Math.random()>>>0);function ub(n){return"function"==typeof n?n:(n[cb]||(n[cb]=function(t){return n.handleEvent(t)}),n[cb])}function pi(){Tc.call(this),this.i=new xg(this),this.P=this,this.I=null}function Si(n,t){var e,r=n.I;if(r)for(e=[];r;r=r.I)e.push(r);if(n=n.P,r=t.type||t,"string"==typeof t)t=new Ii(t,n);else if(t instanceof Ii)t.target=t.target||n;else{var i=t;Tg(t=new Ii(r,n),i)}if(i=!0,e)for(var s=e.length-1;0<=s;s--){var c=t.g=e[s];i=Og(c,r,!0,t)&&i}if(i=Og(c=t.g=n,r,!0,t)&&i,i=Og(c,r,!1,t)&&i,e)for(s=0;s<e.length;s++)i=Og(c=t.g=e[s],r,!1,t)&&i}function Og(n,t,e,r){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var c=t[s];if(c&&!c.ca&&c.capture==e){var h=c.listener,p=c.ia||c.src;c.fa&&kg(n.i,c),i=!1!==h.call(p,r)&&i}}return i&&!r.defaultPrevented}ti(pi,Tc),pi.prototype[ah]=!0,pi.prototype.removeEventListener=function(n,t,e,r){GE(this,n,t,e,r)},pi.prototype.M=function(){if(pi.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],r=0;r<e.length;r++)Mg(e[r]);delete n.g[t],n.h--}}this.I=null},pi.prototype.N=function(n,t,e,r){return this.i.add(String(n),t,!1,e,r)},pi.prototype.O=function(n,t,e,r){return this.i.add(String(n),t,!0,e,r)};var db=Gt.JSON.stringify;function tp(){var n=fb;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var Ng,hb=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new YE,n=>n.reset());class YE{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function KE(n){Gt.setTimeout(()=>{throw n},0)}function Pg(n,t){Ng||function qM(){var n=Gt.Promise.resolve(void 0);Ng=function(){n.then(YM)}}(),ZE||(Ng(),ZE=!0),fb.add(n,t)}var ZE=!1,fb=new class qE{constructor(){this.h=this.g=null}add(t,e){const r=hb.get();r.set(t,e),this.h?this.h.next=r:this.g=r,this.h=r}};function YM(){for(var n;n=tp();){try{n.h.call(n.g)}catch(e){KE(e)}var t=hb;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}ZE=!1}function Fg(n,t){pi.call(this),this.h=n||1,this.g=t||Gt,this.j=Di(this.kb,this),this.l=Date.now()}function pb(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function mb(n,t,e){if("function"==typeof n)e&&(n=Di(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Di(n.handleEvent,n)}return 2147483647<Number(t)?-1:Gt.setTimeout(n,t||0)}function lh(n){n.g=mb(()=>{n.g=null,n.i&&(n.i=!1,lh(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}ti(Fg,pi),(ft=Fg.prototype).da=!1,ft.S=null,ft.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Si(this,"tick"),this.da&&(pb(this),this.start()))}},ft.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ft.M=function(){Fg.Z.M.call(this),pb(this),delete this.g};class KM extends Tc{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:lh(this)}M(){super.M(),this.g&&(Gt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xu(n){Tc.call(this),this.h=n,this.g={}}ti(xu,Tc);var ha=[];function QE(n,t,e,r){Array.isArray(e)||(e&&(ha[0]=e.toString()),e=ha);for(var i=0;i<e.length;i++){var s=$E(t,e[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function np(n){tb(n.g,function(t,e){this.g.hasOwnProperty(e)&&ab(t)},n),n.g={}}function Ac(){this.g=!0}function ch(n,t,e,r){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function Vg(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var r=e[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<i.length;c++)i[c]=""}}}return db(e)}catch{return t}}(n,e)+(r?" "+r:"")})}xu.prototype.M=function(){xu.Z.M.call(this),np(this)},xu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ac.prototype.Aa=function(){this.g=!1},Ac.prototype.info=function(){};var ku={},XE=null;function rp(){return XE=XE||new pi}function gb(n){Ii.call(this,ku.Ma,n)}function Ru(n){const t=rp();Si(t,new gb(t,n))}function _b(n,t){Ii.call(this,ku.STAT_EVENT,n),this.stat=t}function is(n){const t=rp();Si(t,new _b(t,n))}function JE(n,t){Ii.call(this,ku.Na,n),this.size=t}function Bg(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Gt.setTimeout(function(){n()},t)}ku.Ma="serverreachability",ti(gb,Ii),ku.STAT_EVENT="statevent",ti(_b,Ii),ku.Na="timingevent",ti(JE,Ii);var uh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ug={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Hg(){}function $g(){}Hg.prototype.h=null;var bb,ip={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function yb(){Ii.call(this,"d")}function vb(){Ii.call(this,"c")}function sp(){}function Ou(n,t,e,r){this.l=n,this.j=t,this.m=e,this.X=r||1,this.V=new xu(this),this.P=eD,this.W=new Fg(n=Xf?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new wb}function wb(){this.i=null,this.g="",this.h=!1}ti(yb,Ii),ti(vb,Ii),ti(sp,Hg),sp.prototype.g=function(){return new XMLHttpRequest},sp.prototype.i=function(){return{}},bb=new sp;var eD=45e3,zg={},op={};function Cb(n,t,e){n.K=1,n.v=cp(Fl(t)),n.s=e,n.U=!0,Eb(n,null)}function Eb(n,t){n.F=Date.now(),ap(n),n.A=Fl(n.v);var e=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),oD(e.h,"t",r),n.C=0,e=n.l.H,n.h=new wb,n.g=TD(n.l,e?t:null,!n.s),0<n.O&&(n.L=new KM(Di(n.Ia,n,n.g),n.O)),QE(n.V,n.g,"readystatechange",n.gb),t=n.H?OE(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Ru(1),function ZM(n,t,e,r,i,s){n.info(function(){if(n.g)if(s)for(var c="",h=s.split("&"),p=0;p<h.length;p++){var _=h[p].split("=");if(1<_.length){var w=_[0];_=_[1];var I=w.split("_");c=2<=I.length&&"type"==I[1]?c+(w+"=")+_+"&":c+(w+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Db(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function tD(n,t,e){let i,r=!0;for(;!n.I&&n.C<e.length;){if(i=nD(n,e),i==op){4==t&&(n.o=4,is(14),r=!1),ch(n.j,n.m,null,"[Incomplete Response]");break}if(i==zg){n.o=4,is(15),ch(n.j,n.m,e,"[Invalid Chunk]"),r=!1;break}ch(n.j,n.m,i,null),rD(n,i)}Db(n)&&i!=op&&i!=zg&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,is(16),r=!1),n.i=n.i&&r,r?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),a_(t),t.L=!0,is(11))):(ch(n.j,n.m,e,"[Invalid Chunked Response]"),Pu(n),lp(n))}function nD(n,t){var e=n.C,r=t.indexOf("\n",e);return-1==r?op:(e=Number(t.substring(e,r)),isNaN(e)?zg:(r+=1)+e>t.length?op:(t=t.substr(r,e),n.C=r+e,t))}function ap(n){n.Y=Date.now()+n.P,$i(n,n.P)}function $i(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Bg(Di(n.eb,n),t)}function Nl(n){n.B&&(Gt.clearTimeout(n.B),n.B=null)}function lp(n){0==n.l.G||n.I||Ao(n.l,n)}function Pu(n){Nl(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,pb(n.W),np(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function rD(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||Mb(e.i,n)))if(e.I=n.N,!n.J&&Mb(e.i,n)&&3==e.G){try{var r=e.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;Vb(e),Vu(e)}Fb(e),is(18)}}else e.ta=i[1],0<e.ta-e.U&&37500>i[2]&&e.N&&0==e.A&&!e.v&&(e.v=Bg(Di(e.ab,e),6e3));if(1>=dD(e.i)&&e.ka){try{e.ka()}catch{}e.ka=void 0}}else Vl(e,11)}else if((n.J||e.g==n)&&Vb(e),!Ig(t))for(i=e.Ca.g.parse(t),t=0;t<i.length;t++){let _=i[t];if(e.U=_[0],_=_[1],2==e.G)if("c"==_[0]){e.J=_[1],e.la=_[2];const w=_[3];null!=w&&(e.ma=w,e.h.info("VER="+e.ma));const I=_[4];null!=I&&(e.za=I,e.h.info("SVER="+e.za));const x=_[5];null!=x&&"number"==typeof x&&0<x&&(e.K=r=1.5*x,e.h.info("backChannelRequestTimeoutMs_="+r)),r=e;const L=n.g;if(L){const B=L.g?L.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(B){var s=r.i;!s.g&&(ji(B,"spdy")||ji(B,"quic")||ji(B,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Jg(s,s.h),s.h=null))}if(r.D){const X=L.g?L.g.getResponseHeader("X-HTTP-Session-Id"):null;X&&(r.sa=X,Qn(r.F,r.D,X))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var c=n;if((r=e).oa=ws(r,r.H?r.la:null,r.W),c.J){hD(r.i,c);var h=c,p=r.K;p&&h.setTimeout(p),h.B&&(Nl(h),ap(h)),r.g=c}else sx(r);0<e.l.length&&Nb(e)}else"stop"!=_[0]&&"close"!=_[0]||Vl(e,7);else 3==e.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?Vl(e,7):Pb(e):"noop"!=_[0]&&e.j&&e.j.wa(_),e.A=0)}Ru(4)}catch{}}function Gg(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Eg(n)||"string"==typeof n)ME(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(Eg(n)||"string"==typeof n){e=[];for(var r=n.length,i=0;i<r;i++)e.push(i)}else for(i in e=[],r=0,n)e[r++]=i;r=function O1(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Eg(n)){for(var t=[],e=n.length,r=0;r<e;r++)t.push(n[r]);return t}for(r in t=[],e=0,n)t[e++]=n[r];return t}(n),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],e&&e[s],n)}}function Nu(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var r=0;r<e;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Nu)for(e=n.T(),r=0;r<e.length;r++)this.set(e[r],n.get(e[r]));else for(r in n)this.set(r,n[r])}function Fu(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var r=n.g[t];Lu(n.h,r)&&(n.g[e++]=r),t++}n.g.length=e}if(n.i!=n.g.length){var i={};for(e=t=0;t<n.g.length;)Lu(i,r=n.g[t])||(n.g[e++]=r,i[r]=1),t++;n.g.length=e}}function Lu(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(ft=Ou.prototype).setTimeout=function(n){this.P=n},ft.gb=function(n){n=n.target;const t=this.L;t&&3==Ya(n)?t.l():this.Ia(n)},ft.Ia=function(n){try{if(n==this.g)e:{const w=Ya(this.g);var t=this.g.Da();const I=this.g.ba();if(!(3>w)&&(3!=w||Xf||this.g&&(this.h.h||this.g.ga()||_D(this.g)))){this.I||4!=w||7==t||Ru(8==t||0>=I?3:2),Nl(this);var e=this.g.ba();this.N=e;t:if(Db(this)){var r=_D(this.g);n="";var i=r.length,s=4==Ya(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Pu(this),lp(this);var c="";break t}this.h.i=new Gt.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,n+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==e,function QM(n,t,e,r,i,s,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+e+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.X,w,e),this.i){if(this.$&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ig(h)){var _=h;break t}}_=null}if(!(e=_)){this.i=!1,this.o=3,is(12),Pu(this),lp(this);break e}ch(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,rD(this,e)}this.U?(tD(this,w,c),Xf&&this.i&&3==w&&(QE(this.V,this.W,"tick",this.fb),this.W.start())):(ch(this.j,this.m,c,null),rD(this,c)),4==w&&Pu(this),this.i&&!this.I&&(4==w?Ao(this.l,this):(this.i=!1,ap(this)))}else 400==e&&0<c.indexOf("Unknown SID")?(this.o=3,is(12)):(this.o=0,is(13)),Pu(this),lp(this)}}}catch{}},ft.fb=function(){if(this.g){var n=Ya(this.g),t=this.g.ga();this.C<t.length&&(Nl(this),tD(this,n,t),this.i&&4!=n&&ap(this))}},ft.cancel=function(){this.I=!0,Pu(this)},ft.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Lg(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Ru(3),is(17)),Pu(this),this.o=2,lp(this)):$i(this,this.Y-n)},(ft=Nu.prototype).R=function(){Fu(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},ft.T=function(){return Fu(this),this.g.concat()},ft.get=function(n,t){return Lu(this.h,n)?this.h[n]:t},ft.set=function(n,t){Lu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},ft.forEach=function(n,t){for(var e=this.T(),r=0;r<e.length;r++){var i=e[r],s=this.get(i);n.call(t,s,i,this)}};var Wg=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mc(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Mc){this.g=void 0!==t?t:n.g,qg(this,n.j),this.s=n.s,Ll(this,n.i),Yg(this,n.m),this.l=n.l,t=n.h;var e=new Xg;e.i=t.i,t.g&&(e.g=new Nu(t.g),e.h=t.h),Kg(this,e),this.o=n.o}else n&&(e=String(n).match(Wg))?(this.g=!!t,qg(this,e[1]||"",!0),this.s=Qg(e[2]||""),Ll(this,e[3]||"",!0),Yg(this,e[4]),this.l=Qg(e[5]||"",!0),Kg(this,e[6]||"",!0),this.o=Qg(e[7]||"")):(this.g=!!t,this.h=new Xg(null,this.g))}function Fl(n){return new Mc(n)}function qg(n,t,e){n.j=e?Qg(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Ll(n,t,e){n.i=e?Qg(t,!0):t}function Yg(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function Kg(n,t,e){t instanceof Xg?(n.h=t,function aD(n,t){t&&!n.j&&(xc(n),n.i=null,n.g.forEach(function(e,r){var i=r.toLowerCase();r!=i&&(tx(this,r),oD(this,i,e))},n)),n.j=t}(n.h,n.g)):(e||(t=dh(t,iD)),n.h=new Xg(t,n.g))}function Qn(n,t,e){n.h.set(t,e)}function cp(n){return Qn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Qg(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function dh(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,JM),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function JM(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Mc.prototype.toString=function(){var n=[],t=this.j;t&&n.push(dh(t,Sb,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(dh(t,Sb,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(dh(e,"/"==e.charAt(0)?ex:hh,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",dh(e,Tb)),n.join("")};var Sb=/[#\/\?@]/g,hh=/[#\?:]/g,ex=/[#\?]/g,iD=/[#\?@]/g,Tb=/#/g;function Xg(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function xc(n){n.g||(n.g=new Nu,n.h=0,n.i&&function XM(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var r=n[e].indexOf("="),i=null;if(0<=r){var s=n[e].substring(0,r);i=n[e].substring(r+1)}else s=n[e];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function tx(n,t){xc(n),t=fh(n,t),Lu(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,Lu((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&Fu(n)))}function sD(n,t){return xc(n),t=fh(n,t),Lu(n.g.h,t)}function oD(n,t,e){tx(n,t),0<e.length&&(n.i=null,n.g.set(fh(n,t),Jv(e)),n.h+=e.length)}function fh(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function cD(n){this.l=n||uD,n=Gt.PerformanceNavigationTiming?0<(n=Gt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Gt.g&&Gt.g.Ea&&Gt.g.Ea()&&Gt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ft=Xg.prototype).add=function(n,t){xc(this),this.i=null,n=fh(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},ft.forEach=function(n,t){xc(this),this.g.forEach(function(e,r){ME(e,function(i){n.call(t,i,r,this)},this)},this)},ft.T=function(){xc(this);for(var n=this.g.R(),t=this.g.T(),e=[],r=0;r<t.length;r++)for(var i=n[r],s=0;s<i.length;s++)e.push(t[r]);return e},ft.R=function(n){xc(this);var t=[];if("string"==typeof n)sD(this,n)&&(t=xE(t,this.g.get(fh(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=xE(t,n[e])}return t},ft.set=function(n,t){return xc(this),this.i=null,sD(this,n=fh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},ft.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},ft.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var r=t[e],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var c=i;""!==r[s]&&(c+="="+encodeURIComponent(String(r[s]))),n.push(c)}}return this.i=n.join("&")};var uD=10;function Ab(n){return!!n.h||!!n.g&&n.g.size>=n.j}function dD(n){return n.h?1:n.g?n.g.size:0}function Mb(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function Jg(n,t){n.g?n.g.add(t):n.h=t}function hD(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function xb(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Jv(n.i)}function e_(){}function fD(){this.g=new e_}function pD(n,t,e){const r=e||"";try{Gg(n,function(i,s){let c=i;Zf(i)&&(c=db(i)),t.push(r+s+"="+encodeURIComponent(c))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function t_(n,t,e,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function n_(n){this.l=n.$b||null,this.j=n.ib||!1}function up(n,t){pi.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=mD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cD.prototype.cancel=function(){if(this.i=xb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},e_.prototype.stringify=function(n){return Gt.JSON.stringify(n,void 0)},e_.prototype.parse=function(n){return Gt.JSON.parse(n,void 0)},ti(n_,Hg),n_.prototype.g=function(){return new up(this.l,this.j)},n_.prototype.i=function(n){return function(){return n}}({}),ti(up,pi);var mD=0;function rx(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function r_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,i_(n)}function i_(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ft=up.prototype).open=function(n,t){if(this.readyState!=mD)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,i_(this)},ft.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Gt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ft.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,r_(this)),this.readyState=mD},ft.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,i_(this)),this.g&&(this.readyState=3,i_(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Gt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rx(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ft.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?r_(this):i_(this),3==this.readyState&&rx(this)}},ft.Ua=function(n){this.g&&(this.response=this.responseText=n,r_(this))},ft.Ta=function(n){this.g&&(this.response=n,r_(this))},ft.ha=function(){this.g&&r_(this)},ft.setRequestHeader=function(n,t){this.v.append(n,t)},ft.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ft.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(up.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var P1=Gt.JSON.parse;function ni(n){pi.call(this),this.headers=new Nu,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ix,this.K=this.L=!1}ti(ni,pi);var ix="",N1=/^https?$/i,s_=["POST","PUT"];function gD(n){return"content-type"==n.toLowerCase()}function dp(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,kb(n),Ob(n)}function kb(n){n.D||(n.D=!0,Si(n,"complete"),Si(n,"error"))}function Rb(n){if(n.h&&typeof Zv<"u"&&(!n.C[1]||4!=Ya(n)||2!=n.ba()))if(n.v&&4==Ya(n))mb(n.Fa,0,n);else if(Si(n,"readystatechange"),4==Ya(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var r;if(r=0===h){var i=String(n.H).match(Wg)[1]||null;if(!i&&Gt.self&&Gt.self.location){var s=Gt.self.location.protocol;i=s.substr(0,s.length-1)}r=!N1.test(i?i.toLowerCase():"")}e=r}if(e)Si(n,"complete"),Si(n,"success");else{n.m=6;try{var c=2<Ya(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.ba()+"]",kb(n)}}finally{Ob(n)}}}function Ob(n,t){if(n.g){o_(n);const e=n.g,r=n.C[0]?Cg:null;n.g=null,n.C=null,t||Si(n,"ready");try{e.onreadystatechange=r}catch{}}}function o_(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Gt.clearTimeout(n.A),n.A=null)}function Ya(n){return n.g?n.g.readyState:0}function _D(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case ix:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function vD(n,t,e){e:{for(r in e){var r=!1;break e}r=!0}r||(e=function yD(n){let t="";return tb(n,function(e,r){t+=r,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Qn(n,t,e))}function hp(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function bD(n){this.za=0,this.l=[],this.h=new Ac,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=hp("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=hp("baseRetryDelayMs",5e3,n),this.$a=hp("retryDelaySeedMs",1e4,n),this.Ya=hp("forwardChannelMaxRetries",2,n),this.ra=hp("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new cD(n&&n.concurrentRequestLimit),this.Ca=new fD,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Pb(n){if(wD(n),3==n.G){var t=n.V++,e=Fl(n.F);Qn(e,"SID",n.J),Qn(e,"RID",t),Qn(e,"TYPE","terminate"),fp(n,e),(t=new Ou(n,n.h,t,void 0)).K=2,t.v=cp(Fl(e)),e=!1,Gt.navigator&&Gt.navigator.sendBeacon&&(e=Gt.navigator.sendBeacon(t.v.toString(),"")),!e&&Gt.Image&&((new Image).src=t.v,e=!0),e||(t.g=TD(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ap(t)}SD(n)}function Vu(n){n.g&&(a_(n),n.g.cancel(),n.g=null)}function wD(n){Vu(n),n.u&&(Gt.clearTimeout(n.u),n.u=null),Vb(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Gt.clearTimeout(n.m),n.m=null)}function CD(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&Nb(n)}function Nb(n){Ab(n.i)||n.m||(n.m=!0,Pg(n.Ha,n),n.C=0)}function ED(n,t){var e;e=t?t.m:n.V++;const r=Fl(n.F);Qn(r,"SID",n.J),Qn(r,"RID",e),Qn(r,"AID",n.U),fp(n,r),n.o&&n.s&&vD(r,n.o,n.s),e=new Ou(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=DD(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Jg(n.i,e),Cb(e,r,t)}function fp(n,t){n.j&&Gg({},function(e,r){Qn(t,r,e)})}function DD(n,t,e){e=Math.min(n.l.length,e);var r=n.j?Di(n.j.Oa,n.j,n):null;e:{var i=n.l;let s=-1;for(;;){const c=["count="+e];-1==s?0<e?(s=i[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let h=!0;for(let p=0;p<e;p++){let _=i[p].h;const w=i[p].g;if(_-=s,0>_)s=Math.max(0,i[p].h-100),h=!1;else try{pD(w,c,"req"+_+"_")}catch{r&&r(w)}}if(h){r=c.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,r}function sx(n){n.g||n.u||(n.Y=1,Pg(n.Ga,n),n.A=0)}function Fb(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Bg(Di(n.Ga,n),ID(n,n.A)),n.A++,0))}function a_(n){null!=n.B&&(Gt.clearTimeout(n.B),n.B=null)}function Lb(n){n.g=new Ou(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=Fl(n.oa);Qn(t,"RID","rpc"),Qn(t,"SID",n.J),Qn(t,"CI",n.N?"0":"1"),Qn(t,"AID",n.U),fp(n,t),Qn(t,"TYPE","xmlhttp"),n.o&&n.s&&vD(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=cp(Fl(t)),e.s=null,e.U=!0,Eb(e,n)}function Vb(n){null!=n.v&&(Gt.clearTimeout(n.v),n.v=null)}function Ao(n,t){var e=null;if(n.g==t){Vb(n),a_(n),n.g=null;var r=2}else{if(!Mb(n.i,t))return;e=t.D,hD(n.i,t),r=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==r){e=t.s?t.s.length:0,t=Date.now()-t.F;var i=n.C;Si(r=rp(),new JE(r,e,t,i)),Nb(n)}else sx(n);else if(3==(i=t.o)||0==i&&0<n.I||!(1==r&&function L1(n,t){return!(dD(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Bg(Di(n.Ha,n,t),ID(n,n.C)),n.C++,0)))}(n,t)||2==r&&Fb(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),i){case 1:Vl(n,5);break;case 4:Vl(n,10);break;case 3:Vl(n,6);break;default:Vl(n,2)}}function ID(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function Vl(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var r=Di(n.jb,n);e||(e=new Mc("//www.google.com/images/cleardot.gif"),Gt.location&&"http"==Gt.location.protocol||qg(e,"https"),cp(e)),function nx(n,t){const e=new Ac;if(Gt.Image){const r=new Image;r.onload=Dg(t_,e,r,"TestLoadImage: loaded",!0,t),r.onerror=Dg(t_,e,r,"TestLoadImage: error",!1,t),r.onabort=Dg(t_,e,r,"TestLoadImage: abort",!1,t),r.ontimeout=Dg(t_,e,r,"TestLoadImage: timeout",!1,t),Gt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else t(!1)}(e.toString(),r)}else is(2);n.G=0,n.j&&n.j.va(t),SD(n),wD(n)}function SD(n){n.G=0,n.I=-1,n.j&&((0!=xb(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Jv(n.l),n.l.length=0),n.j.ua())}function ws(n,t,e){let r=function Zg(n){return n instanceof Mc?Fl(n):new Mc(n,void 0)}(e);if(""!=r.i)t&&Ll(r,t+"."+r.i),Yg(r,r.m);else{const i=Gt.location;r=function Ib(n,t,e,r){var i=new Mc(null,void 0);return n&&qg(i,n),t&&Ll(i,t),e&&Yg(i,e),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,e)}return n.aa&&tb(n.aa,function(i,s){Qn(r,s,i)}),e=n.sa,(t=n.D)&&e&&Qn(r,t,e),Qn(r,"VER",n.ma),fp(n,r),r}function TD(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ni(e&&n.Ba&&!n.qa?new n_({ib:!0}):n.qa)).L=n.H,t}function l_(){}function c_(){if(sh&&!(10<=Number(jM)))throw Error("Environmental error: no available transport.")}function zs(n,t){pi.call(this),this.g=new bD(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!Ig(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ig(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Bu(this)}function u_(n){yb.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function Bb(){vb.call(this),this.status=1}function Bu(n){this.g=n}(ft=ni.prototype).ea=function(n,t,e,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():bb.g(),this.C=function jg(n){return n.h||(n.h=n.i())}(this.u?this.u:bb),this.g.onreadystatechange=Di(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void dp(this,s)}n=e||"";const i=new Nu(this.headers);r&&Gg(r,function(s,c){i.set(c,s)}),r=function UM(n){e:{var t=gD;const e=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<e;i++)if(i in r&&t.call(void 0,r[i],i,n)){t=i;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(i.T()),e=Gt.FormData&&n instanceof Gt.FormData,!(0<=AE(s_,t))||r||e||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,c){this.g.setRequestHeader(c,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{o_(this),0<this.B&&((this.K=function F1(n){return sh&&function HM(){return function NE(n){var t=ib;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=kE(String(Jf)).split("."),e=kE("9").split("."),r=Math.max(t.length,e.length);for(let c=0;0==n&&c<r;c++){var i=t[c]||"",s=e[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=Sg(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||Sg(0==i[2].length,0==s[2].length)||Sg(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Di(this.pa,this)):this.A=mb(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){dp(this,s)}},ft.pa=function(){typeof Zv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Si(this,"timeout"),this.abort(8))},ft.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Si(this,"complete"),Si(this,"abort"),Ob(this))},ft.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ob(this,!0)),ni.Z.M.call(this)},ft.Fa=function(){this.s||(this.F||this.v||this.l?Rb(this):this.cb())},ft.cb=function(){Rb(this)},ft.ba=function(){try{return 2<Ya(this)?this.g.status:-1}catch{return-1}},ft.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},ft.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),P1(t)}},ft.Da=function(){return this.m},ft.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ft=bD.prototype).ma=8,ft.G=1,ft.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},ft.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Ou(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=OE(s),Tg(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var r=this.l[e];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=DD(this,i,t),Qn(e=Fl(this.F),"RID",n),Qn(e,"CVER",22),this.D&&Qn(e,"X-HTTP-Session-Id",this.D),fp(this,e),this.o&&s&&vD(e,this.o,s),Jg(this.i,i),this.Ra&&Qn(e,"TYPE","init"),this.ja?(Qn(e,"$req",t),Qn(e,"SID","null"),i.$=!0,Cb(i,e,null)):Cb(i,e,t),this.G=2}}else 3==this.G&&(n?ED(this,n):0==this.l.length||Ab(this.i)||ED(this))},ft.Ga=function(){if(this.u=null,Lb(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Bg(Di(this.bb,this),n)}},ft.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,is(10),Vu(this),Lb(this))},ft.ab=function(){null!=this.v&&(this.v=null,Vu(this),Fb(this),is(19))},ft.jb=function(n){n?(this.h.info("Successfully pinged google.com"),is(2)):(this.h.info("Failed to ping google.com"),is(1))},(ft=l_.prototype).xa=function(){},ft.wa=function(){},ft.va=function(){},ft.ua=function(){},ft.Oa=function(){},c_.prototype.g=function(n,t){return new zs(n,t)},ti(zs,pi),zs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Pg(Di(n.hb,n,t))),is(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=ws(n,null,n.W),Nb(n)},zs.prototype.close=function(){Pb(this.g)},zs.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,CD(this.g,t)}else this.v?((t={}).__data__=db(n),CD(this.g,t)):CD(this.g,n)},zs.prototype.M=function(){this.g.j=null,delete this.j,Pb(this.g),delete this.g,zs.Z.M.call(this)},ti(u_,yb),ti(Bb,vb),ti(Bu,l_),Bu.prototype.xa=function(){Si(this.g,"a")},Bu.prototype.wa=function(n){Si(this.g,new u_(n))},Bu.prototype.va=function(n){Si(this.g,new Bb(n))},Bu.prototype.ua=function(){Si(this.g,"b")},c_.prototype.createWebChannel=c_.prototype.g,zs.prototype.send=zs.prototype.u,zs.prototype.open=zs.prototype.m,zs.prototype.close=zs.prototype.close,uh.NO_ERROR=0,uh.TIMEOUT=8,uh.HTTP_ERROR=6,Ug.COMPLETE="complete",$g.EventType=ip,ip.OPEN="a",ip.CLOSE="b",ip.ERROR="c",ip.MESSAGE="d",pi.prototype.listen=pi.prototype.N,ni.prototype.listenOnce=ni.prototype.O,ni.prototype.getLastError=ni.prototype.La,ni.prototype.getLastErrorCode=ni.prototype.Da,ni.prototype.getStatus=ni.prototype.ba,ni.prototype.getResponseJson=ni.prototype.Qa,ni.prototype.getResponseText=ni.prototype.ga,ni.prototype.send=ni.prototype.ea;var ox=Pl.createWebChannelTransport=function(){return new c_},AD=Pl.getStatEventTarget=function(){return rp()},d_=Pl.ErrorCode=uh,ax=Pl.EventType=Ug,MD=Pl.Event=ku,xD=Pl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ub=Pl.FetchXmlHttpFactory=n_,fa=Pl.WebChannel=$g,kD=Pl.XhrIo=ni;const h_="@firebase/firestore";class qn{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");let ph="9.9.2";const Uu=new qa.Yd("@firebase/firestore");function Hb(){return Uu.logLevel}function ze(n,...t){if(Uu.logLevel<=qa.in.DEBUG){const e=t.map(RD);Uu.debug(`Firestore (${ph}): ${n}`,...e)}}function Or(n,...t){if(Uu.logLevel<=qa.in.ERROR){const e=t.map(RD);Uu.error(`Firestore (${ph}): ${n}`,...e)}}function kc(n,...t){if(Uu.logLevel<=qa.in.WARN){const e=t.map(RD);Uu.warn(`Firestore (${ph}): ${n}`,...e)}}function RD(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function mt(n="Unexpected state"){const t=`FIRESTORE (${ph}) INTERNAL ASSERTION FAILED: `+n;throw Or(t),new Error(t)}function Bt(n,t){n||mt()}function it(n,t){return n}const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends re.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ri{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class PD{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ND{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(qn.UNAUTHENTICATED))}shutdown(){}}class FD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class f_{constructor(t){this.t=t,this.currentUser=qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var r=this;let i=this.i;const s=_=>this.i!==i?(i=this.i,e(_)):Promise.resolve();let c=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ri,t.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const _=c;t.enqueueRetryable((0,Te.Z)(function*(){yield _.promise,yield s(r.currentUser)}))},p=_=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ri)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Bt("string"==typeof r.accessToken),new PD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Bt(null===t||"string"==typeof t),new qn(t)}}class p_{constructor(t,e,r){this.type="FirstParty",this.user=qn.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class LD{constructor(t,e,r){this.h=t,this.l=e,this.m=r}getToken(){return Promise.resolve(new p_(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VD{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BD{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const r=s=>{null!=s.error&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.p;return this.p=s.token,ze("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Bt("string"==typeof e.token),this.p=e.token,new VD(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ux(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}class UD{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=ux(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<e&&(r+=t.charAt(i[s]%t.length))}return r}}function Zt(n,t){return n<t?-1:n>t?1:0}function pp(n,t,e){return n.length===t.length&&n.every((r,i)=>e(r,t[i]))}function jb(n){return n+"\0"}class sr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ue(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ue(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ue(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ue(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return sr.fromMillis(Date.now())}static fromDate(t){return sr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*e));return new sr(e,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Zt(this.nanoseconds,t.nanoseconds):Zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ft{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ft(t)}static min(){return new Ft(new sr(0,0))}static max(){return new Ft(new sr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class mp{constructor(t,e,r){void 0===e?e=0:e>t.length&&mt(),void 0===r?r=t.length-e:r>t.length-e&&mt(),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return 0===mp.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof mp?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let i=0;i<r;i++){const s=t.get(i),c=e.get(i);if(s<c)return-1;if(s>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class _n extends mp{construct(t,e,r){return new _n(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new Ue(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(i=>i.length>0))}return new _n(e)}static emptyPath(){return new _n([])}}const V1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pr extends mp{construct(t,e,r){return new Pr(t,e,r)}static isValidIdentifier(t){return V1.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Pr(["__name__"])}static fromServerFormat(t){const e=[];let r="",i=0;const s=()=>{if(0===r.length)throw new Ue(ye.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;i<t.length;){const h=t[i];if("\\"===h){if(i+1===t.length)throw new Ue(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[i+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Ue(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,i+=2}else"`"===h?(c=!c,i++):"."!==h||c?(r+=h,i++):(s(),i++)}if(s(),c)throw new Ue(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Pr(e)}static emptyPath(){return new Pr([])}}class et{constructor(t){this.path=t}static fromPath(t){return new et(_n.fromString(t))}static fromName(t){return new et(_n.fromString(t).popFirst(5))}static empty(){return new et(_n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===_n.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return _n.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new et(new _n(t.slice()))}}class $b{constructor(t,e,r,i){this.indexId=t,this.collectionGroup=e,this.fields=r,this.indexState=i}}function zb(n){return n.fields.find(t=>2===t.kind)}function Ka(n){return n.fields.filter(t=>2!==t.kind)}$b.UNKNOWN_ID=-1;class m_{constructor(t,e){this.fieldPath=t,this.kind=e}}class pa{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new pa(0,ss.min())}}function Gb(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ft.fromTimestamp(1e9===r?new sr(e+1,0):new sr(e,r));return new ss(i,et.empty(),t)}function g_(n){return new ss(n.readTime,n.key,-1)}class ss{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new ss(Ft.min(),et.empty(),-1)}static max(){return new ss(Ft.max(),et.empty(),-1)}}function Wb(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=et.comparator(n.documentKey,t.documentKey),0!==e?e:Zt(n.largestBatchId,t.largestBatchId))}const __="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function ma(n){return jD.apply(this,arguments)}function jD(){return jD=(0,Te.Z)(function*(n){if(n.code!==ye.FAILED_PRECONDITION||n.message!==__)throw n;ze("LocalStore","Unexpectedly lost primary lease")}),jD.apply(this,arguments)}class me{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new me((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(e,s).next(r,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof me?e:me.resolve(e)}catch(e){return me.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):me.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):me.reject(e)}static resolve(t){return new me((e,r)=>{e(t)})}static reject(t){return new me((e,r)=>{r(t)})}static waitFor(t){return new me((e,r)=>{let i=0,s=0,c=!1;t.forEach(h=>{++i,h.next(()=>{++s,c&&s===i&&e()},p=>r(p))}),c=!0,s===i&&e()})}static or(t){let e=me.resolve(!1);for(const r of t)e=e.next(i=>i?me.resolve(i):r());return e}static forEach(t,e){const r=[];return t.forEach((i,s)=>{r.push(e.call(this,i,s))}),this.waitFor(r)}static mapArray(t,e){return new me((r,i)=>{const s=t.length,c=new Array(s);let h=0;for(let p=0;p<s;p++){const _=p;e(t[_]).next(w=>{c[_]=w,++h,h===s&&r(c)},w=>i(w))}})}static doWhile(t,e){return new me((r,i)=>{const s=()=>{!0===t()?e().next(()=>{s()},i):r()};s()})}}class qb{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.T=new ri,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{e.error?this.T.reject(new gp(t,e.error)):this.T.resolve()},this.transaction.onerror=r=>{const i=v_(r.target.error);this.T.reject(new gp(t,i))}}static open(t,e,r,i){try{return new qb(e,t.transaction(i,r))}catch(s){throw new gp(e,s)}}get A(){return this.T.promise}abort(t){t&&this.T.reject(t),this.aborted||(ze("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new hx(e)}}class Za{constructor(t,e,r){this.name=t,this.version=e,this.P=r,12.2===Za.v((0,re.z$)())&&Or("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return ze("SimpleDb","Removing database:",t),Hu(window.indexedDB.deleteDatabase(t)).toPromise()}static V(){if(!(0,re.hl)())return!1;if(Za.S())return!0;const t=(0,re.z$)(),e=Za.v(t),r=0<e&&e<10,i=Za.D(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)}static S(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.C)}static N(t,e){return t.store(e)}static v(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static D(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}k(t){var e=this;return(0,Te.Z)(function*(){return e.db||(ze("SimpleDb","Opening database:",e.name),e.db=yield new Promise((r,i)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=c=>{r(c.target.result)},s.onblocked=()=>{i(new gp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const h=c.target.error;i("VersionError"===h.name?new Ue(ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Ue(ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new gp(t,h))},s.onupgradeneeded=c=>{ze("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',c.oldVersion),e.P.M(c.target.result,s.transaction,c.oldVersion,e.version).next(()=>{ze("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.O&&(e.db.onversionchange=r=>e.O(r)),e.db})()}F(t){this.O=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,r,i){var s=this;return(0,Te.Z)(function*(){const c="readonly"===e;let h=0;for(;;){++h;try{s.db=yield s.k(t);const p=qb.open(s.db,t,c?"readonly":"readwrite",r),_=i(p).next(w=>(p.R(),w)).catch(w=>(p.abort(w),me.reject(w))).toPromise();return _.catch(()=>{}),yield p.A,_}catch(p){const _=p,w="FirebaseError"!==_.name&&h<3;if(ze("SimpleDb","Transaction failed with error:",_.message,"Retrying:",w),s.close(),!w)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class $D{constructor(t){this.$=t,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(t){this.$=t}done(){this.B=!0}q(t){this.L=t}delete(){return Hu(this.$.delete())}}class gp extends Ue{constructor(t,e){super(ye.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Rc(n){return"IndexedDbTransactionError"===n.name}class hx{constructor(t){this.store=t}put(t,e){let r;return void 0!==e?(ze("SimpleDb","PUT",this.store.name,t,e),r=this.store.put(e,t)):(ze("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Hu(r)}add(t){return ze("SimpleDb","ADD",this.store.name,t,t),Hu(this.store.add(t))}get(t){return Hu(this.store.get(t)).next(e=>(void 0===e&&(e=null),ze("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return ze("SimpleDb","DELETE",this.store.name,t),Hu(this.store.delete(t))}count(){return ze("SimpleDb","COUNT",this.store.name),Hu(this.store.count())}K(t,e){const r=this.options(t,e);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.G(i,(c,h)=>{s.push(h)}).next(()=>s)}{const i=this.store.getAll(r.range);return new me((s,c)=>{i.onerror=h=>{c(h.target.error)},i.onsuccess=h=>{s(h.target.result)}})}}j(t,e){const r=this.store.getAll(t,null===e?void 0:e);return new me((i,s)=>{r.onerror=c=>{s(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}W(t,e){ze("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,e);r.H=!1;const i=this.cursor(r);return this.G(i,(s,c,h)=>h.delete())}J(t,e){let r;e?r=t:(r={},e=t);const i=this.cursor(r);return this.G(i,e)}Y(t){const e=this.cursor({});return new me((r,i)=>{e.onerror=s=>{const c=v_(s.target.error);i(c)},e.onsuccess=s=>{const c=s.target.result;c?t(c.primaryKey,c.value).next(h=>{h?c.continue():r()}):r()}})}G(t,e){const r=[];return new me((i,s)=>{t.onerror=c=>{s(c.target.error)},t.onsuccess=c=>{const h=c.target.result;if(!h)return void i();const p=new $D(h),_=e(h.primaryKey,h.value,p);if(_ instanceof me){const w=_.catch(I=>(p.done(),me.reject(I)));r.push(w)}p.isDone?i():null===p.U?h.continue():h.continue(p.U)}}).next(()=>me.waitFor(r))}options(t,e){let r;return void 0!==t&&("string"==typeof t?r=t:e=t),{index:r,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const r=this.store.index(t.index);return t.H?r.openKeyCursor(t.range,e):r.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Hu(n){return new me((t,e)=>{n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{const i=v_(r.target.error);e(i)}})}let Yb=!1;function v_(n){const t=Za.v((0,re.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const r=new Ue("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Yb||(Yb=!0,setTimeout(()=>{throw r},0)),r}}return n}class zD{constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){this.Z(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(t){var e=this;ze("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Te.Z)(function*(){e.task=null;try{ze("IndexBackiller",`Documents written: ${yield e.X.tt()}`)}catch(r){Rc(r)?ze("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield ma(r)}yield e.Z(1)}))}}class fx{constructor(t,e){this.localStore=t,this.persistence=e}tt(t=50){var e=this;return(0,Te.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>e.et(r,t))})()}et(t,e){const r=new Set;let i=e,s=!0;return me.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(c=>{if(null!==c&&!r.has(c))return ze("IndexBackiller",`Processing collection: ${c}`),this.nt(t,c,i).next(h=>{i-=h,r.add(c)});s=!1})).next(()=>e-i)}nt(t,e,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(i=>this.localStore.localDocuments.getNextDocuments(t,e,i,r).next(s=>{const c=s.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next(()=>this.st(i,s)).next(h=>(ze("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h))).next(()=>c.size)}))}st(t,e){let r=t;return e.changes.forEach((i,s)=>{const c=g_(s);Wb(c,r)>0&&(r=c)}),new ss(r.readTime,r.documentKey,Math.max(e.batchId,t.largestBatchId))}}class Cs{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.it(r),this.rt=r=>e.writeSequenceNumber(r))}it(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.rt&&this.rt(t),t}}function Kb(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Bl(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function px(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}Cs.ot=-1;class mr{constructor(t,e){this.comparator=t,this.root=e||Ti.EMPTY}insert(t,e){return new mr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ti.BLACK,null,null))}remove(t){return new mr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ti.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(0===r)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(0===i)return e+r.left.size;i<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new mh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new mh(this.root,t,this.comparator,!1)}getReverseIterator(){return new mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new mh(this.root,t,this.comparator,!0)}}class mh{constructor(t,e,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?r(t.key,e):1,e&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ti{constructor(t,e,r,i,s){this.key=t,this.value=e,this.color=r??Ti.RED,this.left=i??Ti.EMPTY,this.right=s??Ti.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,i,s){return new Ti(t??this.key,e??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,e,r),null):0===s?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ti.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return Ti.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ti.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ti.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const t=this.left.check();if(t!==this.right.check())throw mt();return t+(this.isRed()?0:1)}}Ti.EMPTY=null,Ti.RED=!0,Ti.BLACK=!1,Ti.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(n,t,e,r,i){return this}insert(n,t,e){return new Ti(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fn{constructor(t){this.comparator=t,this.data=new mr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let r;for(r=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new mx(this.data.getIterator())}getIteratorFrom(t){return new mx(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof Fn)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const i=e.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Fn(this.comparator);return e.data=t,e}}class mx{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _p(n){return n.hasNext()?n.getNext():void 0}class Gs{constructor(t){this.fields=t,t.sort(Pr.comparator)}static empty(){return new Gs([])}unionWith(t){let e=new Fn(Pr.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Gs(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return pp(this.fields,t.fields,(e,r)=>e.isEqual(r))}}class ii{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new ii(e)}static fromUint8Array(t){const e=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(t);return new ii(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ii.EMPTY_BYTE_STRING=new ii("");const B1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ju(n){if(Bt(!!n),"string"==typeof n){let t=0;const e=B1.exec(n);if(Bt(!!e),e[1]){let i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Nr(n.seconds),nanos:Nr(n.nanos)}}function Nr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function gh(n){return"string"==typeof n?ii.fromBase64String(n):ii.fromUint8Array(n)}function GD(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function WD(n){const t=n.mapValue.fields.__previous_value__;return GD(t)?WD(t):t}function b_(n){const t=ju(n.mapValue.fields.__local_write_time__.timestampValue);return new sr(t.seconds,t.nanos)}class U1{constructor(t,e,r,i,s,c,h,p){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.useFetchStreams=p}}class Oc{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Oc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Oc&&t.projectId===this.projectId&&t.database===this.database}}function w_(n){return null==n}function C_(n){return 0===n&&1/n==-1/0}function _x(n){return"number"==typeof n&&Number.isInteger(n)&&!C_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const o={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},a={nullValue:"NULL_VALUE"};function l(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?GD(n)?4:Je(n)?9007199254740991:10:mt()}function d(n,t){if(n===t)return!0;const e=l(n);if(e!==l(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return b_(n).isEqual(b_(t));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ju(r.timestampValue),c=ju(i.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return i=t,gh(n.bytesValue).isEqual(gh(i.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,i){return Nr(r.geoPointValue.latitude)===Nr(i.geoPointValue.latitude)&&Nr(r.geoPointValue.longitude)===Nr(i.geoPointValue.longitude)}(n,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Nr(r.integerValue)===Nr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Nr(r.doubleValue),c=Nr(i.doubleValue);return s===c?C_(s)===C_(c):isNaN(s)&&isNaN(c)}return!1}(n,t);case 9:return pp(n.arrayValue.values||[],t.arrayValue.values||[],d);case 10:return function(r,i){const s=r.mapValue.fields||{},c=i.mapValue.fields||{};if(Kb(s)!==Kb(c))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===c[h]||!d(s[h],c[h])))return!1;return!0}(n,t);default:return mt()}var i}function f(n,t){return void 0!==(n.values||[]).find(e=>d(e,t))}function m(n,t){if(n===t)return 0;const e=l(n),r=l(t);if(e!==r)return Zt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Zt(n.booleanValue,t.booleanValue);case 2:return function(i,s){const c=Nr(i.integerValue||i.doubleValue),h=Nr(s.integerValue||s.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,t);case 3:return v(n.timestampValue,t.timestampValue);case 4:return v(b_(n),b_(t));case 5:return Zt(n.stringValue,t.stringValue);case 6:return function(i,s){const c=gh(i),h=gh(s);return c.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(i,s){const c=i.split("/"),h=s.split("/");for(let p=0;p<c.length&&p<h.length;p++){const _=Zt(c[p],h[p]);if(0!==_)return _}return Zt(c.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(i,s){const c=Zt(Nr(i.latitude),Nr(s.latitude));return 0!==c?c:Zt(Nr(i.longitude),Nr(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(i,s){const c=i.values||[],h=s.values||[];for(let p=0;p<c.length&&p<h.length;++p){const _=m(c[p],h[p]);if(_)return _}return Zt(c.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(i,s){if(i===o.mapValue&&s===o.mapValue)return 0;if(i===o.mapValue)return 1;if(s===o.mapValue)return-1;const c=i.fields||{},h=Object.keys(c),p=s.fields||{},_=Object.keys(p);h.sort(),_.sort();for(let w=0;w<h.length&&w<_.length;++w){const I=Zt(h[w],_[w]);if(0!==I)return I;const x=m(c[h[w]],p[_[w]]);if(0!==x)return x}return Zt(h.length,_.length)}(n.mapValue,t.mapValue);default:throw mt()}}function v(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Zt(n,t);const e=ju(n),r=ju(t),i=Zt(e.seconds,r.seconds);return 0!==i?i:Zt(e.nanos,r.nanos)}function C(n){return D(n)}function D(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=ju(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?gh(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const c of r.values||[])s?s=!1:i+=",",i+=D(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",c=!0;for(const h of i)c?c=!1:s+=",",s+=`${h}:${D(r.fields[h])}`;return s+"}"}(n.mapValue):mt();var t}function M(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function O(n){return!!n&&"integerValue"in n}function V(n){return!!n&&"arrayValue"in n}function Q(n){return!!n&&"nullValue"in n}function le(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Me(n){return!!n&&"mapValue"in n}function je(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Bl(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=je(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=je(n.arrayValue.values[e]);return t}return Object.assign({},n)}function Je(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function pt(n){return"nullValue"in n?a:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?M(Oc.empty(),et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:mt()}function Ot(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?M(Oc.empty(),et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?o:mt()}function Be(n,t){const e=m(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function At(n,t){const e=m(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class kt{constructor(t){this.value=t}static empty(){return new kt({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!Me(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=je(e)}setAll(t){let e=Pr.emptyPath(),r={},i=[];t.forEach((c,h)=>{if(!e.isImmediateParentOf(h)){const p=this.getFieldsMap(e);this.applyChanges(p,r,i),r={},i=[],e=h.popLast()}c?r[h.lastSegment()]=je(c):i.push(h.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,r,i)}delete(t){const e=this.field(t.popLast());Me(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return d(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=e.mapValue.fields[t.get(r)];Me(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,r){Bl(e,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new kt(je(this.value))}}function Yn(n){const t=[];return Bl(n.fields,(e,r)=>{const i=new Pr([e]);if(Me(r)){const s=Yn(r.mapValue).fields;if(0===s.length)t.push(i);else for(const c of s)t.push(i.child(c))}else t.push(i)}),new Gs(t)}class wn{constructor(t,e,r,i,s,c){this.key=t,this.documentType=e,this.version=r,this.readTime=i,this.data=s,this.documentState=c}static newInvalidDocument(t){return new wn(t,0,Ft.min(),Ft.min(),kt.empty(),0)}static newFoundDocument(t,e,r){return new wn(t,1,e,Ft.min(),r,0)}static newNoDocument(t,e){return new wn(t,2,e,Ft.min(),kt.empty(),0)}static newUnknownDocument(t,e){return new wn(t,3,e,Ft.min(),kt.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=kt.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ft.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof wn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zb{constructor(t,e=null,r=[],i=[],s=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=c,this.endAt=h,this.ut=null}}function E_(n,t=null,e=[],r=[],i=null,s=null,c=null){return new Zb(n,t,e,r,i,s,c)}function Ul(n){const t=it(n);if(null===t.ut){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+C(i.value);var i}).join(","),e+="|ob:",e+=t.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),w_(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>C(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>C(r)).join(",")),t.ut=e}return t.ut}function $u(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!N$(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((e=n.filters[i]).op!==(r=t.filters[i]).op||!e.field.isEqual(r.field)||!d(e.value,r.value))return!1;var e,r;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!$1(n.startAt,t.startAt)&&$1(n.endAt,t.endAt)}function _h(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function yh(n,t){return n.filters.filter(e=>e instanceof os&&e.field.isEqual(t))}function D_(n,t,e){let r=a,i=!0;for(const s of yh(n,t)){let c=a,h=!0;switch(s.op){case"<":case"<=":c=pt(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,h=!1;break;case"!=":case"not-in":c=a}Be({value:r,inclusive:i},{value:c,inclusive:h})<0&&(r=c,i=h)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const c=e.position[s];Be({value:r,inclusive:i},{value:c,inclusive:e.inclusive})<0&&(r=c,i=e.inclusive);break}return{value:r,inclusive:i}}function I_(n,t,e){let r=o,i=!0;for(const s of yh(n,t)){let c=o,h=!0;switch(s.op){case">=":case">":c=Ot(s.value),h=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,h=!1;break;case"!=":case"not-in":c=o}At({value:r,inclusive:i},{value:c,inclusive:h})>0&&(r=c,i=h)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const c=e.position[s];At({value:r,inclusive:i},{value:c,inclusive:e.inclusive})>0&&(r=c,i=e.inclusive);break}return{value:r,inclusive:i}}class os extends class{}{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?"in"===e||"not-in"===e?this.ct(t,e,r):new A$(t,e,r):"array-contains"===e?new k$(t,r):"in"===e?new R$(t,r):"not-in"===e?new O$(t,r):"array-contains-any"===e?new P$(t,r):new os(t,e,r)}static ct(t,e,r){return"in"===e?new M$(t,r):new x$(t,r)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.at(m(e,this.value)):null!==e&&l(this.value)===l(e)&&this.at(m(e,this.value))}at(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return mt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class A$ extends os{constructor(t,e,r){super(t,e,r),this.key=et.fromName(r.referenceValue)}matches(t){const e=et.comparator(t.key,this.key);return this.at(e)}}class M$ extends os{constructor(t,e){super(t,"in",e),this.keys=H1(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class x$ extends os{constructor(t,e){super(t,"not-in",e),this.keys=H1(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function H1(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(r=>et.fromName(r.referenceValue))}class k$ extends os{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return V(e)&&f(e.arrayValue,this.value)}}class R$ extends os{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&f(this.value.arrayValue,e)}}class O$ extends os{constructor(t,e){super(t,"not-in",e)}matches(t){if(f(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!f(this.value.arrayValue,e)}}class P$ extends os{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!V(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>f(this.value.arrayValue,r))}}class vh{constructor(t,e){this.position=t,this.inclusive=e}}class S_{constructor(t,e="asc"){this.field=t,this.dir=e}}function N$(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function j1(n,t,e){let r=0;for(let i=0;i<n.position.length;i++){const s=t[i],c=n.position[i];if(r=s.field.isKeyField()?et.comparator(et.fromName(c.referenceValue),e.key):m(c,e.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function $1(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!d(n.position[e],t.position[e]))return!1;return!0}class zu{constructor(t,e=null,r=[],i=[],s=null,c="F",h=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=c,this.startAt=h,this.endAt=p,this.lt=null,this.ft=null}}function z1(n,t,e,r,i,s,c,h){return new zu(n,t,e,r,i,s,c,h)}function T_(n){return new zu(n)}function G1(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function yx(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function vx(n){for(const t of n.filters)if(t.ht())return t.field;return null}function bx(n){return null!==n.collectionGroup}function A_(n){const t=it(n);if(null===t.lt){t.lt=[];const e=vx(t),r=yx(t);if(null!==e&&null===r)e.isKeyField()||t.lt.push(new S_(e)),t.lt.push(new S_(Pr.keyField(),"asc"));else{let i=!1;for(const s of t.explicitOrderBy)t.lt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new S_(Pr.keyField(),s))}}}return t.lt}function Mo(n){const t=it(n);if(!t.ft)if("F"===t.limitType)t.ft=E_(t.path,t.collectionGroup,A_(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of A_(t))e.push(new S_(s.field,"desc"===s.dir?"asc":"desc"));const r=t.endAt?new vh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new vh(t.startAt.position,t.startAt.inclusive):null;t.ft=E_(t.path,t.collectionGroup,e,t.filters,t.limit,r,i)}return t.ft}function qD(n,t,e){return new zu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Xb(n,t){return $u(Mo(n),Mo(t))&&n.limitType===t.limitType}function W1(n){return`${Ul(Mo(n))}|lt:${n.limitType}`}function wx(n){return`Query(target=${function Qb(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(r=e).field.canonicalString()} ${r.op} ${C(r.value)}`;var r}).join(", ")}]`),w_(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(r=e).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>C(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>C(e)).join(",")),`Target(${t})`}(Mo(n))}; limitType=${n.limitType})`}function Cx(n,t){return t.isFoundDocument()&&function(e,r){const i=r.key.path;return null!==e.collectionGroup?r.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(i):et.isDocumentKey(e.path)?e.path.isEqual(i):e.path.isImmediateParentOf(i)}(n,t)&&function(e,r){for(const i of e.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,t)&&function(e,r){for(const i of e.filters)if(!i.matches(r))return!1;return!0}(n,t)&&(r=t,!((e=n).startAt&&!function(i,s,c){const h=j1(i,s,c);return i.inclusive?h<=0:h<0}(e.startAt,A_(e),r)||e.endAt&&!function(i,s,c){const h=j1(i,s,c);return i.inclusive?h>=0:h>0}(e.endAt,A_(e),r)));var e,r}function q1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Y1(n){return(t,e)=>{let r=!1;for(const i of A_(n)){const s=F$(i,t,e);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function F$(n,t,e){const r=n.field.isKeyField()?et.comparator(t.key,e.key):function(i,s,c){const h=s.data.field(i),p=c.data.field(i);return null!==h&&null!==p?m(h,p):mt()}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return mt()}}function K1(n,t){if(n.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:C_(t)?"-0":t}}function Z1(n){return{integerValue:""+n}}function Q1(n,t){return _x(t)?Z1(t):K1(n,t)}class YD{constructor(){this._=void 0}}function L$(n,t,e){return n instanceof M_?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(e,t):n instanceof yp?J1(n,t):n instanceof vp?eF(n,t):function(r,i){const s=X1(r,i),c=tF(s)+tF(r._t);return O(s)&&O(r._t)?Z1(c):K1(r.wt,c)}(n,t)}function V$(n,t,e){return n instanceof yp?J1(n,t):n instanceof vp?eF(n,t):e}function X1(n,t){return n instanceof x_?O(e=t)||(r=e)&&"doubleValue"in r?t:{integerValue:0}:null;var r,e}class M_ extends YD{}class yp extends YD{constructor(t){super(),this.elements=t}}function J1(n,t){const e=nF(t);for(const r of n.elements)e.some(i=>d(i,r))||e.push(r);return{arrayValue:{values:e}}}class vp extends YD{constructor(t){super(),this.elements=t}}function eF(n,t){let e=nF(t);for(const r of n.elements)e=e.filter(i=>!d(i,r));return{arrayValue:{values:e}}}class x_ extends YD{constructor(t,e){super(),this.wt=t,this._t=e}}function tF(n){return Nr(n.integerValue||n.doubleValue)}function nF(n){return V(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Jb{constructor(t,e){this.field=t,this.transform=e}}class U${constructor(t,e){this.version=t,this.transformResults=e}}class Fr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Fr}static exists(t){return new Fr(void 0,t)}static updateTime(t){return new Fr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function KD(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class ZD{}function rF(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new R_(n.key,Fr.none()):new k_(n.key,n.data,Fr.none());{const e=n.data,r=kt.empty();let i=new Fn(Pr.comparator);for(let s of t.fields)if(!i.has(s)){let c=e.field(s);null===c&&s.length>1&&(s=s.popLast(),c=e.field(s)),null===c?r.delete(s):r.set(s,c),i=i.add(s)}return new Gu(n.key,r,new Gs(i.toArray()),Fr.none())}}function H$(n,t,e){n instanceof k_?function(r,i,s){const c=r.value.clone(),h=oF(r.fieldTransforms,i,s.transformResults);c.setAll(h),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,t,e):n instanceof Gu?function(r,i,s){if(!KD(r.precondition,i))return void i.convertToUnknownDocument(s.version);const c=oF(r.fieldTransforms,i,s.transformResults),h=i.data;h.setAll(sF(r)),h.setAll(c),i.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function ew(n,t,e,r){return n instanceof k_?function(i,s,c,h){if(!KD(i.precondition,s))return c;const p=i.value.clone(),_=aF(i.fieldTransforms,h,s);return p.setAll(_),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,t,e,r):n instanceof Gu?function(i,s,c,h){if(!KD(i.precondition,s))return c;const p=aF(i.fieldTransforms,h,s),_=s.data;return _.setAll(sF(i)),_.setAll(p),s.convertToFoundDocument(s.version,_).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(w=>w.field))}(n,t,e,r):(c=e,KD(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function j$(n,t){let e=null;for(const r of n.fieldTransforms){const i=t.data.field(r.field),s=X1(r.transform,i||null);null!=s&&(null===e&&(e=kt.empty()),e.set(r.field,s))}return e||null}function iF(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===r||e&&r&&pp(e,r,(i,s)=>function B$(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(e=n.transform)instanceof yp&&r instanceof yp||e instanceof vp&&r instanceof vp?pp(e.elements,r.elements,d):e instanceof x_&&r instanceof x_?d(e._t,r._t):e instanceof M_&&r instanceof M_);var e,r}(i,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,r}class k_ extends ZD{constructor(t,e,r,i=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Gu extends ZD{constructor(t,e,r,i,s=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function sF(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function oF(n,t,e){const r=new Map;Bt(n.length===e.length);for(let i=0;i<e.length;i++){const s=n[i],c=s.transform,h=t.data.field(s.field);r.set(s.field,V$(c,h,e[i]))}return r}function aF(n,t,e){const r=new Map;for(const i of n){const s=i.transform,c=e.data.field(i.field);r.set(i.field,L$(s,c,t))}return r}class R_ extends ZD{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ex extends ZD{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $${constructor(t){this.count=t}}var mi,Cn;function lF(n){switch(n){default:return mt();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}function cF(n){if(void 0===n)return Or("GRPC error has no .code"),ye.UNKNOWN;switch(n){case mi.OK:return ye.OK;case mi.CANCELLED:return ye.CANCELLED;case mi.UNKNOWN:return ye.UNKNOWN;case mi.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case mi.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case mi.INTERNAL:return ye.INTERNAL;case mi.UNAVAILABLE:return ye.UNAVAILABLE;case mi.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case mi.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case mi.NOT_FOUND:return ye.NOT_FOUND;case mi.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case mi.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case mi.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case mi.ABORTED:return ye.ABORTED;case mi.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case mi.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case mi.DATA_LOSS:return ye.DATA_LOSS;default:return mt()}}(Cn=mi||(mi={}))[Cn.OK=0]="OK",Cn[Cn.CANCELLED=1]="CANCELLED",Cn[Cn.UNKNOWN=2]="UNKNOWN",Cn[Cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cn[Cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cn[Cn.NOT_FOUND=5]="NOT_FOUND",Cn[Cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cn[Cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cn[Cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cn[Cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cn[Cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cn[Cn.ABORTED=10]="ABORTED",Cn[Cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cn[Cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cn[Cn.INTERNAL=13]="INTERNAL",Cn[Cn.UNAVAILABLE=14]="UNAVAILABLE",Cn[Cn.DATA_LOSS=15]="DATA_LOSS";class bh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const r=this.mapKeyFn(t),i=this.inner[r];if(void 0===i)return this.inner[r]=[[t,e]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return 1===r.length?delete this.inner[e]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Bl(this.inner,(e,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return px(this.inner)}size(){return this.innerSize}}const z$=new mr(et.comparator);function xo(){return z$}const uF=new mr(et.comparator);function tw(...n){let t=uF;for(const e of n)t=t.insert(e.key,e);return t}function dF(n){let t=uF;return n.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function Pc(){return nw()}function hF(){return nw()}function nw(){return new bh(n=>n.toString(),(n,t)=>n.isEqual(t))}const G$=new mr(et.comparator),W$=new Fn(et.comparator);function nn(...n){let t=W$;for(const e of n)t=t.add(e);return t}const q$=new Fn(Zt);function QD(){return q$}class rw{constructor(t,e,r,i,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e){const r=new Map;return r.set(t,iw.createSynthesizedTargetChangeForCurrentChange(t,e)),new rw(Ft.min(),r,QD(),xo(),nn())}}class iw{constructor(t,e,r,i,s){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e){return new iw(ii.EMPTY_BYTE_STRING,e,nn(),nn(),nn())}}class XD{constructor(t,e,r,i){this.gt=t,this.removedTargetIds=e,this.key=r,this.yt=i}}class fF{constructor(t,e){this.targetId=t,this.It=e}}class pF{constructor(t,e,r=ii.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=i}}class mF{constructor(){this.Tt=0,this.Et=_F(),this.At=ii.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(t){t.approximateByteSize()>0&&(this.bt=!0,this.At=t)}St(){let t=nn(),e=nn(),r=nn();return this.Et.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:r=r.add(i);break;default:mt()}}),new iw(this.At,this.Rt,t,e,r)}Dt(){this.bt=!1,this.Et=_F()}Ct(t,e){this.bt=!0,this.Et=this.Et.insert(t,e)}xt(t){this.bt=!0,this.Et=this.Et.remove(t)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class Y${constructor(t){this.Ot=t,this.Ft=new Map,this.$t=xo(),this.Bt=gF(),this.Lt=new Fn(Zt)}Ut(t){for(const e of t.gt)t.yt&&t.yt.isFoundDocument()?this.qt(e,t.yt):this.Kt(e,t.key,t.yt);for(const e of t.removedTargetIds)this.Kt(e,t.key,t.yt)}Gt(t){this.forEachTarget(t,e=>{const r=this.Qt(e);switch(t.state){case 0:this.jt(e)&&r.Vt(t.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(t.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(e);break;case 3:this.jt(e)&&(r.Mt(),r.Vt(t.resumeToken));break;case 4:this.jt(e)&&(this.Wt(e),r.Vt(t.resumeToken));break;default:mt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ft.forEach((r,i)=>{this.jt(i)&&e(i)})}zt(t){const e=t.targetId,r=t.It.count,i=this.Ht(e);if(i){const s=i.target;if(_h(s))if(0===r){const c=new et(s.path);this.Kt(e,c,wn.newNoDocument(c,Ft.min()))}else Bt(1===r);else this.Jt(e)!==r&&(this.Wt(e),this.Lt=this.Lt.add(e))}}Yt(t){const e=new Map;this.Ft.forEach((s,c)=>{const h=this.Ht(c);if(h){if(s.current&&_h(h.target)){const p=new et(h.target.path);null!==this.$t.get(p)||this.Xt(c,p)||this.Kt(c,p,wn.newNoDocument(p,t))}s.vt&&(e.set(c,s.St()),s.Dt())}});let r=nn();this.Bt.forEach((s,c)=>{let h=!0;c.forEachWhile(p=>{const _=this.Ht(p);return!_||2===_.purpose||(h=!1,!1)}),h&&(r=r.add(s))}),this.$t.forEach((s,c)=>c.setReadTime(t));const i=new rw(t,e,this.Lt,this.$t,r);return this.$t=xo(),this.Bt=gF(),this.Lt=new Fn(Zt),i}qt(t,e){if(!this.jt(t))return;const r=this.Xt(t,e.key)?2:0;this.Qt(t).Ct(e.key,r),this.$t=this.$t.insert(e.key,e),this.Bt=this.Bt.insert(e.key,this.Zt(e.key).add(t))}Kt(t,e,r){if(!this.jt(t))return;const i=this.Qt(t);this.Xt(t,e)?i.Ct(e,1):i.xt(e),this.Bt=this.Bt.insert(e,this.Zt(e).delete(t)),r&&(this.$t=this.$t.insert(e,r))}removeTarget(t){this.Ft.delete(t)}Jt(t){const e=this.Qt(t).St();return this.Ot.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Nt(t){this.Qt(t).Nt()}Qt(t){let e=this.Ft.get(t);return e||(e=new mF,this.Ft.set(t,e)),e}Zt(t){let e=this.Bt.get(t);return e||(e=new Fn(Zt),this.Bt=this.Bt.insert(t,e)),e}jt(t){const e=null!==this.Ht(t);return e||ze("WatchChangeAggregator","Detected inactive target",t),e}Ht(t){const e=this.Ft.get(t);return e&&e.Pt?null:this.Ot.te(t)}Wt(t){this.Ft.set(t,new mF),this.Ot.getRemoteKeysForTarget(t).forEach(e=>{this.Kt(t,e,null)})}Xt(t,e){return this.Ot.getRemoteKeysForTarget(t).has(e)}}function gF(){return new mr(et.comparator)}function _F(){return new mr(et.comparator)}const K$={asc:"ASCENDING",desc:"DESCENDING"},Z$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Q${constructor(t,e){this.databaseId=t,this.dt=e}}function sw(n,t){return n.dt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function yF(n,t){return n.dt?t.toBase64():t.toUint8Array()}function X$(n,t){return sw(n,t.toTimestamp())}function zi(n){return Bt(!!n),Ft.fromTimestamp(function(t){const e=ju(t);return new sr(e.seconds,e.nanos)}(n))}function Dx(n,t){return(e=n,new _n(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function vF(n){const t=_n.fromString(n);return Bt(AF(t)),t}function ow(n,t){return Dx(n.databaseId,t.path)}function Nc(n,t){const e=vF(t);if(e.get(1)!==n.databaseId.projectId)throw new Ue(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ue(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new et(wF(e))}function Ix(n,t){return Dx(n.databaseId,t)}function bF(n){const t=vF(n);return 4===t.length?_n.emptyPath():wF(t)}function aw(n){return new _n(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wF(n){return Bt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function CF(n,t,e){return{name:ow(n,t),fields:e.value.mapValue.fields}}function EF(n,t,e){const r=Nc(n,t.name),i=zi(t.updateTime),s=new kt({mapValue:{fields:t.fields}}),c=wn.newFoundDocument(r,i,s);return e&&c.setHasCommittedMutations(),e?c.setHasCommittedMutations():c}function lw(n,t){let e;if(t instanceof k_)e={update:CF(n,t.key,t.value)};else if(t instanceof R_)e={delete:ow(n,t.key)};else if(t instanceof Gu)e={update:CF(n,t.key,t.data),updateMask:az(t.fieldMask)};else{if(!(t instanceof Ex))return mt();e={verify:ow(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(i,s){const c=s.transform;if(c instanceof M_)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof yp)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof vp)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof x_)return{fieldPath:s.field.canonicalString(),increment:c._t};throw mt()}(0,r))),t.precondition.isNone||(e.currentDocument=void 0!==(i=t.precondition).updateTime?{updateTime:X$(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:mt()),e;var i}function Sx(n,t){const e=t.currentDocument?void 0!==(i=t.currentDocument).updateTime?Fr.updateTime(zi(i.updateTime)):void 0!==i.exists?Fr.exists(i.exists):Fr.none():Fr.none(),r=t.updateTransforms?t.updateTransforms.map(i=>function(s,c){let h=null;"setToServerValue"in c?(Bt("REQUEST_TIME"===c.setToServerValue),h=new M_):"appendMissingElements"in c?h=new yp(c.appendMissingElements.values||[]):"removeAllFromArray"in c?h=new vp(c.removeAllFromArray.values||[]):"increment"in c?h=new x_(s,c.increment):mt();const p=Pr.fromServerFormat(c.fieldPath);return new Jb(p,h)}(n,i)):[];var i;if(t.update){const i=Nc(n,t.update.name),s=new kt({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=new Gs((t.updateMask.fieldPaths||[]).map(_=>Pr.fromServerFormat(_)));return new Gu(i,s,c,e,r)}return new k_(i,s,e,r)}if(t.delete){const i=Nc(n,t.delete);return new R_(i,e)}if(t.verify){const i=Nc(n,t.verify);return new Ex(i,e)}return mt()}function DF(n,t){return{documents:[Ix(n,t.path)]}}function IF(n,t){const e={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(e.parent=Ix(n,r),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=Ix(n,r.popLast()),e.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(p){if(0===p.length)return;const _=p.map(w=>function(I){if("=="===I.op){if(le(I.value))return{unaryFilter:{field:O_(I.field),op:"IS_NAN"}};if(Q(I.value))return{unaryFilter:{field:O_(I.field),op:"IS_NULL"}}}else if("!="===I.op){if(le(I.value))return{unaryFilter:{field:O_(I.field),op:"IS_NOT_NAN"}};if(Q(I.value))return{unaryFilter:{field:O_(I.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:O_(I.field),op:iz(I.op),value:I.value}}}(w));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(t.filters);i&&(e.structuredQuery.where=i);const s=function(p){if(0!==p.length)return p.map(_=>{return{field:O_((w=_).field),direction:rz(w.dir)};var w})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const c=(_=t.limit,n.dt||w_(_)?_:{value:_});var _,h,p;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(p=t.endAt).inclusive,values:p.position}),e}function SF(n){let t=bF(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let i=null;if(r>0){Bt(1===r);const w=e.from[0];w.allDescendants?i=w.collectionId:t=t.child(w.collectionId)}let s=[];e.where&&(s=TF(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(w=>{return new S_(P_((I=w).field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let h=null;e.limit&&(h=function(w){let I;return I="object"==typeof w?w.value:w,w_(I)?null:I}(e.limit));let p=null;var w;e.startAt&&(p=new vh((w=e.startAt).values||[],!!w.before));let _=null;return e.endAt&&(_=function(w){return new vh(w.values||[],!w.before)}(e.endAt)),z1(t,i,c,s,h,"F",p,_)}function TF(n){return n?void 0!==n.unaryFilter?[oz(n)]:void 0!==n.fieldFilter?[sz(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>TF(t)).reduce((t,e)=>t.concat(e)):mt():[]}function rz(n){return K$[n]}function iz(n){return Z$[n]}function O_(n){return{fieldPath:n.canonicalString()}}function P_(n){return Pr.fromServerFormat(n.fieldPath)}function sz(n){return os.create(P_(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(n.fieldFilter.op),n.fieldFilter.value)}function oz(n){switch(n.unaryFilter.op){case"IS_NAN":const t=P_(n.unaryFilter.field);return os.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=P_(n.unaryFilter.field);return os.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=P_(n.unaryFilter.field);return os.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=P_(n.unaryFilter.field);return os.create(i,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}function az(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function AF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ws(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=MF(t)),t=lz(n.get(e),t);return MF(t)}function lz(n,t){let e=t;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function MF(n){return n+"\x01\x01"}function Fc(n){const t=n.length;if(Bt(t>=2),2===t)return Bt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),_n.emptyPath();const e=t-2,r=[];let i="";for(let s=0;s<t;){const c=n.indexOf("\x01",s);switch((c<0||c>e)&&mt(),n.charAt(c+1)){case"\x01":const h=n.substring(s,c);let p;0===i.length?p=h:(i+=h,p=i,i=""),r.push(p);break;case"\x10":i+=n.substring(s,c),i+="\0";break;case"\x11":i+=n.substring(s,c+1);break;default:mt()}s=c+2}return new _n(r)}const xF=["userId","batchId"];function JD(n,t){return[n,Ws(t)]}function kF(n,t,e){return[n,Ws(t),e]}const cz={},uz=["prefixPath","collectionGroup","readTime","documentId"],dz=["prefixPath","collectionGroup","documentId"],hz=["collectionGroup","readTime","prefixPath","documentId"],fz=["canonicalId","targetId"],pz=["targetId","path"],mz=["path","targetId"],gz=["collectionId","parent"],_z=["indexId","uid"],yz=["uid","sequenceNumber"],vz=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bz=["indexId","uid","orderedDocumentKey"],wz=["userId","collectionPath","documentId"],Cz=["userId","collectionPath","largestBatchId"],Ez=["userId","collectionGroup","largestBatchId"],RF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Dz=[...RF,"documentOverlays"],OF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],PF=OF,Iz=[...PF,"indexConfiguration","indexState","indexEntries"];class Tx extends y_{constructor(t,e){super(),this.ee=t,this.currentSequenceNumber=e}}function Gi(n,t){const e=it(n);return Za.N(e.ee,t)}class Ax{constructor(t,e,r,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&H$(s,t,r[i])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=ew(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=ew(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=hF();return this.mutations.forEach(i=>{const s=t.get(i.key),c=s.overlayedDocument;let h=this.applyToLocalView(c,s.mutatedFields);h=e.has(i.key)?null:h;const p=rF(c,h);null!==p&&r.set(i.key,p),c.isValidDocument()||c.convertToNoDocument(Ft.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),nn())}isEqual(t){return this.batchId===t.batchId&&pp(this.mutations,t.mutations,(e,r)=>iF(e,r))&&pp(this.baseMutations,t.baseMutations,(e,r)=>iF(e,r))}}class Mx{constructor(t,e,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=i}static from(t,e,r){Bt(t.mutations.length===r.length);let i=G$;const s=t.mutations;for(let c=0;c<s.length;c++)i=i.insert(s[c].key,r[c].version);return new Mx(t,e,r,i)}}class xx{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class wh{constructor(t,e,r,i,s=Ft.min(),c=Ft.min(),h=ii.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h}withSequenceNumber(t){return new wh(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new wh(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new wh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class NF{constructor(t){this.ne=t}}function FF(n,t){const e=t.key,r={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:eI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document={name:ow(i=n.ne,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:sw(i,s.version.toTimestamp())};else if(t.isNoDocument())r.noDocument={path:e.path.toArray(),readTime:bp(t.version)};else{if(!t.isUnknownDocument())return mt();r.unknownDocument={path:e.path.toArray(),version:bp(t.version)}}var i,s;return r}function eI(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function bp(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function wp(n){const t=new sr(n.seconds,n.nanoseconds);return Ft.fromTimestamp(t)}function Cp(n,t){const e=(t.baseMutations||[]).map(s=>Sx(n.ne,s));for(let s=0;s<t.mutations.length-1;++s){const c=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(c.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const r=t.mutations.map(s=>Sx(n.ne,s)),i=sr.fromMillis(t.localWriteTimeMs);return new Ax(t.batchId,i,e,r)}function cw(n){const t=wp(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?wp(n.lastLimboFreeSnapshotVersion):Ft.min();let r;var i;return void 0!==n.query.documents?(Bt(1===(i=n.query).documents.length),r=Mo(T_(bF(i.documents[0])))):r=Mo(SF(n.query)),new wh(r,n.targetId,0,n.lastListenSequenceNumber,t,e,ii.fromBase64String(n.resumeToken))}function LF(n,t){const e=bp(t.snapshotVersion),r=bp(t.lastLimboFreeSnapshotVersion);let i;i=_h(t.target)?DF(n.ne,t.target):IF(n.ne,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ul(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function kx(n){const t=SF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?qD(t,t.limit,"L"):t}function Rx(n,t){return new xx(t.largestBatchId,Sx(n.ne,t.overlayMutation))}function VF(n,t){const e=t.path.lastSegment();return[n,Ws(t.path.popLast()),e]}function BF(n,t,e,r){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:bp(r.readTime),documentKey:Ws(r.documentKey.path),largestBatchId:r.largestBatchId}}class Tz{getBundleMetadata(t,e){return UF(t).get(e).next(r=>{if(r)return{id:(i=r).bundleId,createTime:wp(i.createTime),version:i.version};var i})}saveBundleMetadata(t,e){return UF(t).put({bundleId:(r=e).id,createTime:bp(zi(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return HF(t).get(e).next(r=>{if(r)return{name:(i=r).name,query:kx(i.bundledQuery),readTime:wp(i.readTime)};var i})}saveNamedQuery(t,e){return HF(t).put({name:(r=e).name,readTime:bp(zi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function UF(n){return Gi(n,"bundles")}function HF(n){return Gi(n,"namedQueries")}class tI{constructor(t,e){this.wt=t,this.userId=e}static se(t,e){return new tI(t,e.uid||"")}getOverlay(t,e){return uw(t).get(VF(this.userId,e)).next(r=>r?Rx(this.wt,r):null)}getOverlays(t,e){const r=Pc();return me.forEach(e,i=>this.getOverlay(t,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(t,e,r){const i=[];return r.forEach((s,c)=>{const h=new xx(e,c);i.push(this.ie(t,h))}),me.waitFor(i)}removeOverlaysForBatchId(t,e,r){const i=new Set;e.forEach(c=>i.add(Ws(c.getCollectionPath())));const s=[];return i.forEach(c=>{const h=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);s.push(uw(t).W("collectionPathOverlayIndex",h))}),me.waitFor(s)}getOverlaysForCollection(t,e,r){const i=Pc(),s=Ws(e),c=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return uw(t).K("collectionPathOverlayIndex",c).next(h=>{for(const p of h){const _=Rx(this.wt,p);i.set(_.getKey(),_)}return i})}getOverlaysForCollectionGroup(t,e,r,i){const s=Pc();let c;const h=IDBKeyRange.bound([this.userId,e,r],[this.userId,e,Number.POSITIVE_INFINITY],!0);return uw(t).J({index:"collectionGroupOverlayIndex",range:h},(p,_,w)=>{const I=Rx(this.wt,_);s.size()<i||I.largestBatchId===c?(s.set(I.getKey(),I),c=I.largestBatchId):w.done()}).next(()=>s)}ie(t,e){return uw(t).put(function(r,i,s){const[c,h,p]=VF(i,s.mutation.key);return{userId:i,collectionPath:h,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:lw(r.ne,s.mutation)}}(this.wt,this.userId,e))}}function uw(n){return Gi(n,"documentOverlays")}class Ep{constructor(){}re(t,e){this.oe(t,e),e.ue()}oe(t,e){if("nullValue"in t)this.ce(e,5);else if("booleanValue"in t)this.ce(e,10),e.ae(t.booleanValue?1:0);else if("integerValue"in t)this.ce(e,15),e.ae(Nr(t.integerValue));else if("doubleValue"in t){const r=Nr(t.doubleValue);isNaN(r)?this.ce(e,13):(this.ce(e,15),C_(r)?e.ae(0):e.ae(r))}else if("timestampValue"in t){const r=t.timestampValue;this.ce(e,20),"string"==typeof r?e.he(r):(e.he(`${r.seconds||""}`),e.ae(r.nanos||0))}else if("stringValue"in t)this.le(t.stringValue,e),this.fe(e);else if("bytesValue"in t)this.ce(e,30),e.de(gh(t.bytesValue)),this.fe(e);else if("referenceValue"in t)this._e(t.referenceValue,e);else if("geoPointValue"in t){const r=t.geoPointValue;this.ce(e,45),e.ae(r.latitude||0),e.ae(r.longitude||0)}else"mapValue"in t?Je(t)?this.ce(e,Number.MAX_SAFE_INTEGER):(this.we(t.mapValue,e),this.fe(e)):"arrayValue"in t?(this.me(t.arrayValue,e),this.fe(e)):mt()}le(t,e){this.ce(e,25),this.ge(t,e)}ge(t,e){e.he(t)}we(t,e){const r=t.fields||{};this.ce(e,55);for(const i of Object.keys(r))this.le(i,e),this.oe(r[i],e)}me(t,e){const r=t.values||[];this.ce(e,50);for(const i of r)this.oe(i,e)}_e(t,e){this.ce(e,37),et.fromName(t).path.forEach(r=>{this.ce(e,60),this.ge(r,e)})}ce(t,e){t.ae(e)}fe(t){t.ae(2)}}function Az(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function jF(n){const t=64-function(e){let r=0;for(let i=0;i<8;++i){const s=Az(255&e[i]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(t/8)}Ep.ye=new Ep;class Mz{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.Ie(r.value),r=e.next();this.Te()}Ee(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.Ae(r.value),r=e.next();this.Re()}be(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.Ie(r);else if(r<2048)this.Ie(960|r>>>6),this.Ie(128|63&r);else if(e<"\ud800"||"\udbff"<e)this.Ie(480|r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r);else{const i=e.codePointAt(0);this.Ie(240|i>>>18),this.Ie(128|63&i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i)}}this.Te()}Pe(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=e.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}ve(t){const e=this.Ve(t),r=jF(e);this.Se(1+r),this.buffer[this.position++]=255&r;for(let i=e.length-r;i<e.length;++i)this.buffer[this.position++]=255&e[i]}De(t){const e=this.Ve(t),r=jF(e);this.Se(1+r),this.buffer[this.position++]=~(255&r);for(let i=e.length-r;i<e.length;++i)this.buffer[this.position++]=~(255&e[i])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(t){this.Se(t.length),this.buffer.set(t,this.position),this.position+=t.length}Me(){return this.buffer.slice(0,this.position)}Ve(t){const e=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(t),r=0!=(128&e[0]);e[0]^=r?255:128;for(let i=1;i<e.length;++i)e[i]^=r?255:0;return e}Ie(t){const e=255&t;0===e?(this.xe(0),this.xe(255)):255===e?(this.xe(255),this.xe(0)):this.xe(e)}Ae(t){const e=255&t;0===e?(this.ke(0),this.ke(255)):255===e?(this.ke(255),this.ke(0)):this.ke(t)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(t){this.Se(1),this.buffer[this.position++]=t}ke(t){this.Se(1),this.buffer[this.position++]=~t}Se(t){const e=t+this.position;if(e<=this.buffer.length)return;let r=2*this.buffer.length;r<e&&(r=e);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class xz{constructor(t){this.Oe=t}de(t){this.Oe.pe(t)}he(t){this.Oe.be(t)}ae(t){this.Oe.ve(t)}ue(){this.Oe.Ce()}}class kz{constructor(t){this.Oe=t}de(t){this.Oe.Ee(t)}he(t){this.Oe.Pe(t)}ae(t){this.Oe.De(t)}ue(){this.Oe.Ne()}}class dw{constructor(){this.Oe=new Mz,this.Fe=new xz(this.Oe),this.$e=new kz(this.Oe)}seed(t){this.Oe.seed(t)}Be(t){return 0===t?this.Fe:this.$e}Me(){return this.Oe.Me()}reset(){this.Oe.reset()}}class Dp{constructor(t,e,r,i){this.indexId=t,this.documentKey=e,this.arrayValue=r,this.directionalValue=i}Le(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(e);return r.set(this.directionalValue,0),e!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new Dp(this.indexId,this.documentKey,this.arrayValue,r)}}function Ip(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=$F(n.arrayValue,t.arrayValue),0!==e?e:(e=$F(n.directionalValue,t.directionalValue),0!==e?e:et.comparator(n.documentKey,t.documentKey)))}function $F(n,t){for(let e=0;e<n.length&&e<t.length;++e){const r=n[e]-t[e];if(0!==r)return r}return n.length-t.length}class Rz{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];for(const e of t.filters){const r=e;r.ht()?this.Ke=r:this.qe.push(r)}}Ge(t){const e=zb(t);if(void 0!==e&&!this.Qe(e))return!1;const r=Ka(t);let i=0,s=0;for(;i<r.length&&this.Qe(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Ke){const c=r[i];if(!this.je(this.Ke,c)||!this.We(this.Ue[s++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(s>=this.Ue.length||!this.We(this.Ue[s++],c))return!1}return!0}Qe(t){for(const e of this.qe)if(this.je(e,t))return!0;return!1}je(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}We(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class Oz{constructor(){this.ze=new Ox}addToCollectionParentIndex(t,e){return this.ze.add(e),me.resolve()}getCollectionParents(t,e){return me.resolve(this.ze.getEntries(e))}addFieldIndex(t,e){return me.resolve()}deleteFieldIndex(t,e){return me.resolve()}getDocumentsMatchingTarget(t,e){return me.resolve(null)}getIndexType(t,e){return me.resolve(0)}getFieldIndexes(t,e){return me.resolve([])}getNextCollectionGroupToUpdate(t){return me.resolve(null)}getMinOffset(t,e){return me.resolve(ss.min())}getMinOffsetFromCollectionGroup(t,e){return me.resolve(ss.min())}updateCollectionGroup(t,e,r){return me.resolve()}updateIndexEntries(t,e){return me.resolve()}}class Ox{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e]||new Fn(_n.comparator),s=!i.has(r);return this.index[e]=i.add(r),s}has(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Fn(_n.comparator)).toArray()}}const nI=new Uint8Array(0);class Pz{constructor(t,e){this.user=t,this.databaseId=e,this.He=new Ox,this.Je=new bh(r=>Ul(r),(r,i)=>$u(r,i)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.He.has(e)){const r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(()=>{this.He.add(e)});const s={collectionId:r,parent:Ws(i)};return zF(t).put(s)}return me.resolve()}getCollectionParents(t,e){const r=[],i=IDBKeyRange.bound([e,""],[jb(e),""],!1,!0);return zF(t).K(i).next(s=>{for(const c of s){if(c.collectionId!==e)break;r.push(Fc(c.parent))}return r})}addFieldIndex(t,e){const r=rI(t),i={indexId:(c=e).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var c;delete i.indexId;const s=r.add(i);if(e.indexState){const c=fw(t);return s.next(h=>{c.put(BF(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const r=rI(t),i=fw(t),s=hw(t);return r.delete(e.indexId).next(()=>i.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const r=hw(t);let i=!0;const s=new Map;return me.forEach(this.Ye(e),c=>this.Xe(t,c).next(h=>{i&&(i=!!h),s.set(c,h)})).next(()=>{if(i){let c=nn();const h=[];return me.forEach(s,(p,_)=>{var w;ze("IndexedDbIndexManager",`Using index ${w=p,`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(Ct=>`${Ct.fieldPath}:${Ct.kind}`).join(",")}`} to execute ${Ul(e)}`);const I=function(Ct,gt){const Nt=zb(gt);if(void 0===Nt)return null;for(const jt of yh(Ct,Nt.fieldPath))switch(jt.op){case"array-contains-any":return jt.value.arrayValue.values||[];case"array-contains":return[jt.value]}return null}(_,p),x=function(Ct,gt){const Nt=new Map;for(const jt of Ka(gt))for(const vn of yh(Ct,jt.fieldPath))switch(vn.op){case"==":case"in":Nt.set(jt.fieldPath.canonicalString(),vn.value);break;case"not-in":case"!=":return Nt.set(jt.fieldPath.canonicalString(),vn.value),Array.from(Nt.values())}return null}(_,p),L=function(Ct,gt){const Nt=[];let jt=!0;for(const vn of Ka(gt)){const Xs=0===vn.kind?D_(Ct,vn.fieldPath,Ct.startAt):I_(Ct,vn.fieldPath,Ct.startAt);Nt.push(Xs.value),jt&&(jt=Xs.inclusive)}return new vh(Nt,jt)}(_,p),B=function(Ct,gt){const Nt=[];let jt=!0;for(const vn of Ka(gt)){const Xs=0===vn.kind?I_(Ct,vn.fieldPath,Ct.endAt):D_(Ct,vn.fieldPath,Ct.endAt);Nt.push(Xs.value),jt&&(jt=Xs.inclusive)}return new vh(Nt,jt)}(_,p),X=this.Ze(p,_,L),ve=this.Ze(p,_,B),Xe=this.tn(p,_,x),ut=this.en(p.indexId,I,X,L.inclusive,ve,B.inclusive,Xe);return me.forEach(ut,Ct=>r.j(Ct,e.limit).next(gt=>{gt.forEach(Nt=>{const jt=et.fromSegments(Nt.documentKey);c.has(jt)||(c=c.add(jt),h.push(jt))})}))}).next(()=>h)}return me.resolve(null)})}Ye(t){let e=this.Je.get(t);return e||(e=[t],this.Je.set(t,e),e)}en(t,e,r,i,s,c,h){const p=(null!=e?e.length:1)*Math.max(r.length,s.length),_=p/(null!=e?e.length:1),w=[];for(let I=0;I<p;++I){const x=e?this.nn(e[I/_]):nI,L=this.sn(t,x,r[I%_],i),B=this.rn(t,x,s[I%_],c),X=h.map(ve=>this.sn(t,x,ve,!0));w.push(...this.createRange(L,B,X))}return w}sn(t,e,r,i){const s=new Dp(t,et.empty(),e,r);return i?s:s.Le()}rn(t,e,r,i){const s=new Dp(t,et.empty(),e,r);return i?s.Le():s}Xe(t,e){const r=new Rz(e),i=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,i).next(s=>{let c=null;for(const h of s)r.Ge(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c})}getIndexType(t,e){let r=2;return me.forEach(this.Ye(e),i=>this.Xe(t,i).next(s=>{s?0!==r&&s.fields.length<function(c){let h=new Fn(Pr.comparator),p=!1;for(const _ of c.filters){const w=_;w.field.isKeyField()||("array-contains"===w.op||"array-contains-any"===w.op?p=!0:h=h.add(w.field))}for(const _ of c.orderBy)_.field.isKeyField()||(h=h.add(_.field));return h.size+(p?1:0)}(i)&&(r=1):r=0})).next(()=>r)}on(t,e){const r=new dw;for(const i of Ka(t)){const s=e.data.field(i.fieldPath);if(null==s)return null;const c=r.Be(i.kind);Ep.ye.re(s,c)}return r.Me()}nn(t){const e=new dw;return Ep.ye.re(t,e.Be(0)),e.Me()}un(t,e){const r=new dw;return Ep.ye.re(M(this.databaseId,e),r.Be(function(i){const s=Ka(i);return 0===s.length?0:s[s.length-1].kind}(t))),r.Me()}tn(t,e,r){if(null===r)return[];let i=[];i.push(new dw);let s=0;for(const c of Ka(t)){const h=r[s++];for(const p of i)if(this.cn(e,c.fieldPath)&&V(h))i=this.an(i,c,h);else{const _=p.Be(c.kind);Ep.ye.re(h,_)}}return this.hn(i)}Ze(t,e,r){return this.tn(t,e,r.position)}hn(t){const e=[];for(let r=0;r<t.length;++r)e[r]=t[r].Me();return e}an(t,e,r){const i=[...t],s=[];for(const c of r.arrayValue.values||[])for(const h of i){const p=new dw;p.seed(h.Me()),Ep.ye.re(c,p.Be(e.kind)),s.push(p)}return s}cn(t,e){return!!t.filters.find(r=>r instanceof os&&r.field.isEqual(e)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(t,e){const r=rI(t),i=fw(t);return(e?r.K("collectionGroupIndex",IDBKeyRange.bound(e,e)):r.K()).next(s=>{const c=[];return me.forEach(s,h=>i.get([h.indexId,this.uid]).next(p=>{c.push(function(_,w){const I=w?new pa(w.sequenceNumber,new ss(wp(w.readTime),new et(Fc(w.documentKey)),w.largestBatchId)):pa.empty(),x=_.fields.map(([L,B])=>new m_(Pr.fromServerFormat(L),B));return new $b(_.indexId,_.collectionGroup,x,I)}(h,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Zt(r.collectionGroup,i.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,r){const i=rI(t),s=fw(t);return this.ln(t).next(c=>i.K("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>me.forEach(h,p=>s.put(BF(p.indexId,this.user,c,r)))))}updateIndexEntries(t,e){const r=new Map;return me.forEach(e,(i,s)=>{const c=r.get(i.collectionGroup);return(c?me.resolve(c):this.getFieldIndexes(t,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),me.forEach(h,p=>this.fn(t,i,p).next(_=>{const w=this.dn(s,p);return _.isEqual(w)?me.resolve():this._n(t,s,p,_,w)}))))})}wn(t,e,r,i){return hw(t).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.un(r,e.key),documentKey:e.key.path.toArray()})}mn(t,e,r,i){return hw(t).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.un(r,e.key),e.key.path.toArray()])}fn(t,e,r){const i=hw(t);let s=new Fn(Ip);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.un(r,e)])},(c,h)=>{s=s.add(new Dp(r.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>s)}dn(t,e){let r=new Fn(Ip);const i=this.on(e,t);if(null==i)return r;const s=zb(e);if(null!=s){const c=t.data.field(s.fieldPath);if(V(c))for(const h of c.arrayValue.values||[])r=r.add(new Dp(e.indexId,t.key,this.nn(h),i))}else r=r.add(new Dp(e.indexId,t.key,nI,i));return r}_n(t,e,r,i,s){ze("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const c=[];return function(h,p,_,w,I){const x=h.getIterator(),L=p.getIterator();let B=_p(x),X=_p(L);for(;B||X;){let ve=!1,Xe=!1;if(B&&X){const ut=_(B,X);ut<0?Xe=!0:ut>0&&(ve=!0)}else null!=B?Xe=!0:ve=!0;ve?(w(X),X=_p(L)):Xe?(I(B),B=_p(x)):(B=_p(x),X=_p(L))}}(i,s,Ip,h=>{c.push(this.wn(t,e,r,h))},h=>{c.push(this.mn(t,e,r,h))}),me.waitFor(c)}ln(t){let e=1;return fw(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),e=i.sequenceNumber+1}).next(()=>e)}createRange(t,e,r){r=r.sort((c,h)=>Ip(c,h)).filter((c,h,p)=>!h||0!==Ip(c,p[h-1]));const i=[];i.push(t);for(const c of r){const h=Ip(c,t),p=Ip(c,e);if(0===h)i[0]=t.Le();else if(h>0&&p<0)i.push(c),i.push(c.Le());else if(p>0)break}i.push(e);const s=[];for(let c=0;c<i.length;c+=2)s.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,nI,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,nI,[]]));return s}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(GF)}getMinOffset(t,e){return me.mapArray(this.Ye(e),r=>this.Xe(t,r).next(i=>i||mt())).next(GF)}}function zF(n){return Gi(n,"collectionParents")}function hw(n){return Gi(n,"indexEntries")}function rI(n){return Gi(n,"indexConfiguration")}function fw(n){return Gi(n,"indexState")}function GF(n){Bt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Wb(i,t)<0&&(t=i),e<i.largestBatchId&&(e=i.largestBatchId)}return new ss(t.readTime,t.documentKey,e)}const WF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ko{constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new ko(t,ko.DEFAULT_COLLECTION_PERCENTILE,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function qF(n,t,e){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],c=IDBKeyRange.only(e.batchId);let h=0;const p=r.J({range:c},(w,I,x)=>(h++,x.delete()));s.push(p.next(()=>{Bt(1===h)}));const _=[];for(const w of e.mutations){const I=kF(t,w.key.path,e.batchId);s.push(i.delete(I)),_.push(w.key)}return me.waitFor(s).next(()=>_)}function iI(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw mt();t=n.noDocument}return JSON.stringify(t).length}ko.DEFAULT_COLLECTION_PERCENTILE=10,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ko.DEFAULT=new ko(41943040,ko.DEFAULT_COLLECTION_PERCENTILE,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ko.DISABLED=new ko(-1,0,0);class sI{constructor(t,e,r,i){this.userId=t,this.wt=e,this.indexManager=r,this.referenceDelegate=i,this.gn={}}static se(t,e,r,i){Bt(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new sI(s,e,r,i)}checkEmpty(t){let e=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ch(t).J({index:"userMutationsIndex",range:r},(i,s,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,r,i){const s=N_(t),c=Ch(t);return c.add({}).next(h=>{Bt("number"==typeof h);const p=new Ax(h,e,r,i),_=function(x,L,B){const X=B.baseMutations.map(Xe=>lw(x.ne,Xe)),ve=B.mutations.map(Xe=>lw(x.ne,Xe));return{userId:L,batchId:B.batchId,localWriteTimeMs:B.localWriteTime.toMillis(),baseMutations:X,mutations:ve}}(this.wt,this.userId,p),w=[];let I=new Fn((x,L)=>Zt(x.canonicalString(),L.canonicalString()));for(const x of i){const L=kF(this.userId,x.key.path,h);I=I.add(x.key.path.popLast()),w.push(c.put(_)),w.push(s.put(L,cz))}return I.forEach(x=>{w.push(this.indexManager.addToCollectionParentIndex(t,x))}),t.addOnCommittedListener(()=>{this.gn[h]=p.keys()}),me.waitFor(w).next(()=>p)})}lookupMutationBatch(t,e){return Ch(t).get(e).next(r=>r?(Bt(r.userId===this.userId),Cp(this.wt,r)):null)}yn(t,e){return this.gn[e]?me.resolve(this.gn[e]):this.lookupMutationBatch(t,e).next(r=>{if(r){const i=r.keys();return this.gn[e]=i,i}return null})}getNextMutationBatchAfterBatchId(t,e){const r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Ch(t).J({index:"userMutationsIndex",range:i},(c,h,p)=>{h.userId===this.userId&&(Bt(h.batchId>=r),s=Cp(this.wt,h)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ch(t).J({index:"userMutationsIndex",range:e,reverse:!0},(i,s,c)=>{r=s.batchId,c.done()}).next(()=>r)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ch(t).K("userMutationsIndex",e).next(r=>r.map(i=>Cp(this.wt,i)))}getAllMutationBatchesAffectingDocumentKey(t,e){const r=JD(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return N_(t).J({range:i},(c,h,p)=>{const[_,w,I]=c,x=Fc(w);if(_===this.userId&&e.path.isEqual(x))return Ch(t).get(I).next(L=>{if(!L)throw mt();Bt(L.userId===this.userId),s.push(Cp(this.wt,L))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Fn(Zt);const i=[];return e.forEach(s=>{const c=JD(this.userId,s.path),h=IDBKeyRange.lowerBound(c),p=N_(t).J({range:h},(_,w,I)=>{const[x,L,B]=_,X=Fc(L);x===this.userId&&s.path.isEqual(X)?r=r.add(B):I.done()});i.push(p)}),me.waitFor(i).next(()=>this.pn(t,r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,i=r.length+1,s=JD(this.userId,r),c=IDBKeyRange.lowerBound(s);let h=new Fn(Zt);return N_(t).J({range:c},(p,_,w)=>{const[I,x,L]=p,B=Fc(x);I===this.userId&&r.isPrefixOf(B)?B.length===i&&(h=h.add(L)):w.done()}).next(()=>this.pn(t,h))}pn(t,e){const r=[],i=[];return e.forEach(s=>{i.push(Ch(t).get(s).next(c=>{if(null===c)throw mt();Bt(c.userId===this.userId),r.push(Cp(this.wt,c))}))}),me.waitFor(i).next(()=>r)}removeMutationBatch(t,e){return qF(t.ee,this.userId,e).next(r=>(t.addOnCommittedListener(()=>{this.In(e.batchId)}),me.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(t,i))))}In(t){delete this.gn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return me.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return N_(t).J({range:r},(s,c,h)=>{if(s[0]===this.userId){const p=Fc(s[1]);i.push(p)}else h.done()}).next(()=>{Bt(0===i.length)})})}containsKey(t,e){return YF(t,this.userId,e)}Tn(t){return KF(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function YF(n,t,e){const r=JD(t,e.path),i=r[1],s=IDBKeyRange.lowerBound(r);let c=!1;return N_(n).J({range:s,H:!0},(h,p,_)=>{const[w,I,x]=h;w===t&&I===i&&(c=!0),_.done()}).next(()=>c)}function Ch(n){return Gi(n,"mutations")}function N_(n){return Gi(n,"documentMutations")}function KF(n){return Gi(n,"mutationQueues")}class Sp{constructor(t){this.En=t}next(){return this.En+=2,this.En}static An(){return new Sp(0)}static Rn(){return new Sp(-1)}}class Nz{constructor(t,e){this.referenceDelegate=t,this.wt=e}allocateTargetId(t){return this.bn(t).next(e=>{const r=new Sp(e.highestTargetId);return e.highestTargetId=r.next(),this.Pn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.bn(t).next(e=>Ft.fromTimestamp(new sr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.bn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,r){return this.bn(t).next(i=>(i.highestListenSequenceNumber=e,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),this.Pn(t,i)))}addTargetData(t,e){return this.vn(t,e).next(()=>this.bn(t).next(r=>(r.targetCount+=1,this.Vn(e,r),this.Pn(t,r))))}updateTargetData(t,e){return this.vn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>F_(t).delete(e.targetId)).next(()=>this.bn(t)).next(r=>(Bt(r.targetCount>0),r.targetCount-=1,this.Pn(t,r)))}removeTargets(t,e,r){let i=0;const s=[];return F_(t).J((c,h)=>{const p=cw(h);p.sequenceNumber<=e&&null===r.get(p.targetId)&&(i++,s.push(this.removeTargetData(t,p)))}).next(()=>me.waitFor(s)).next(()=>i)}forEachTarget(t,e){return F_(t).J((r,i)=>{const s=cw(i);e(s)})}bn(t){return ZF(t).get("targetGlobalKey").next(e=>(Bt(null!==e),e))}Pn(t,e){return ZF(t).put("targetGlobalKey",e)}vn(t,e){return F_(t).put(LF(this.wt,e))}Vn(t,e){let r=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,r=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.bn(t).next(e=>e.targetCount)}getTargetData(t,e){const r=Ul(e),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return F_(t).J({range:i,index:"queryTargetsIndex"},(c,h,p)=>{const _=cw(h);$u(e,_.target)&&(s=_,p.done())}).next(()=>s)}addMatchingKeys(t,e,r){const i=[],s=Eh(t);return e.forEach(c=>{const h=Ws(c.path);i.push(s.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(t,r,c))}),me.waitFor(i)}removeMatchingKeys(t,e,r){const i=Eh(t);return me.forEach(e,s=>{const c=Ws(s.path);return me.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(t,r,s)])})}removeMatchingKeysForTargetId(t,e){const r=Eh(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(t,e){const r=IDBKeyRange.bound([e],[e+1],!1,!0),i=Eh(t);let s=nn();return i.J({range:r,H:!0},(c,h,p)=>{const _=Fc(c[1]),w=new et(_);s=s.add(w)}).next(()=>s)}containsKey(t,e){const r=Ws(e.path),i=IDBKeyRange.bound([r],[jb(r)],!1,!0);let s=0;return Eh(t).J({index:"documentTargetsIndex",H:!0,range:i},([c,h],p,_)=>{0!==c&&(s++,_.done())}).next(()=>s>0)}te(t,e){return F_(t).get(e).next(r=>r?cw(r):null)}}function F_(n){return Gi(n,"targets")}function ZF(n){return Gi(n,"targetGlobal")}function Eh(n){return Gi(n,"targetDocuments")}function QF([n,t],[e,r]){const i=Zt(n,e);return 0===i?Zt(t,r):i}class Fz{constructor(t){this.Sn=t,this.buffer=new Fn(QF),this.Dn=0}Cn(){return++this.Dn}xn(t){const e=[t,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();QF(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Lz{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(t){var e=this;ze("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Te.Z)(function*(){e.Nn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(r){Rc(r)?ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield ma(r)}yield e.kn(3e5)}))}}class Vz{constructor(t,e){this.Mn=t,this.params=e}calculateTargetCount(t,e){return this.Mn.On(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(0===e)return me.resolve(Cs.ot);const r=new Fz(e);return this.Mn.forEachTarget(t,i=>r.xn(i.sequenceNumber)).next(()=>this.Mn.Fn(t,i=>r.xn(i))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.Mn.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.Mn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(WF)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WF):this.$n(t,e))}getCacheSize(t){return this.Mn.getCacheSize(t)}$n(t,e){let r,i,s,c,h,p,_;const w=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),i=this.params.maximumSequenceNumbersToCollect):i=I,c=Date.now(),this.nthSequenceNumber(t,i))).next(I=>(r=I,h=Date.now(),this.removeTargets(t,r,e))).next(I=>(s=I,p=Date.now(),this.removeOrphanedDocuments(t,r))).next(I=>(_=Date.now(),Hb()<=qa.in.DEBUG&&ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-w}ms\n\tDetermined least recently used ${i} in `+(h-c)+`ms\n\tRemoved ${s} targets in `+(p-h)+`ms\n\tRemoved ${I} documents in `+(_-p)+`ms\nTotal Duration: ${_-w}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:I})))}}class Bz{constructor(t,e){this.db=t,this.garbageCollector=new Vz(this,e)}On(t){const e=this.Bn(t);return this.db.getTargetCache().getTargetCount(t).next(r=>e.next(i=>r+i))}Bn(t){let e=0;return this.Fn(t,r=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Fn(t,e){return this.Ln(t,(r,i)=>e(i))}addReference(t,e,r){return oI(t,r)}removeReference(t,e,r){return oI(t,r)}removeTargets(t,e,r){return this.db.getTargetCache().removeTargets(t,e,r)}markPotentiallyOrphaned(t,e){return oI(t,e)}Un(t,e){return function(r,i){let s=!1;return KF(r).Y(c=>YF(r,c,i).next(h=>(h&&(s=!0),me.resolve(!h)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Ln(t,(c,h)=>{if(h<=e){const p=this.Un(t,c).next(_=>{if(!_)return s++,r.getEntry(t,c).next(()=>(r.removeEntry(c,Ft.min()),Eh(t).delete([0,Ws(c.path)])))});i.push(p)}}).next(()=>me.waitFor(i)).next(()=>r.apply(t)).next(()=>s)}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,e){return oI(t,e)}Ln(t,e){const r=Eh(t);let i,s=Cs.ot;return r.J({index:"documentTargetsIndex"},([c,h],{path:p,sequenceNumber:_})=>{0===c?(s!==Cs.ot&&e(new et(Fc(i)),s),s=_,i=p):s=Cs.ot}).next(()=>{s!==Cs.ot&&e(new et(Fc(i)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function oI(n,t){return Eh(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ws(t.path),sequenceNumber:r}));var r}class XF{constructor(){this.changes=new bh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,wn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return void 0!==r?me.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Uz{constructor(t){this.wt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,r){return Tp(t).put(r)}removeEntry(t,e,r){return Tp(t).delete(function(i,s){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],eI(s),c[c.length-1]]}(e,r))}updateMetadata(t,e){return this.getMetadata(t).next(r=>(r.byteSize+=e,this.qn(t,r)))}getEntry(t,e){let r=wn.newInvalidDocument(e);return Tp(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(pw(e))},(i,s)=>{r=this.Kn(e,s)}).next(()=>r)}Gn(t,e){let r={size:0,document:wn.newInvalidDocument(e)};return Tp(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(pw(e))},(i,s)=>{r={document:this.Kn(e,s),size:iI(s)}}).next(()=>r)}getEntries(t,e){let r=xo();return this.Qn(t,e,(i,s)=>{const c=this.Kn(i,s);r=r.insert(i,c)}).next(()=>r)}jn(t,e){let r=xo(),i=new mr(et.comparator);return this.Qn(t,e,(s,c)=>{const h=this.Kn(s,c);r=r.insert(s,h),i=i.insert(s,iI(c))}).next(()=>({documents:r,Wn:i}))}Qn(t,e,r){if(e.isEmpty())return me.resolve();let i=new Fn(nL);e.forEach(p=>i=i.add(p));const s=IDBKeyRange.bound(pw(i.first()),pw(i.last())),c=i.getIterator();let h=c.getNext();return Tp(t).J({index:"documentKeyIndex",range:s},(p,_,w)=>{const I=et.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;h&&nL(h,I)<0;)r(h,null),h=c.getNext();h&&h.isEqual(I)&&(r(h,_),h=c.hasNext()?c.getNext():null),h?w.q(pw(h)):w.done()}).next(()=>{for(;h;)r(h,null),h=c.hasNext()?c.getNext():null})}getAllFromCollection(t,e,r){const i=[e.popLast().toArray(),e.lastSegment(),eI(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],s=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Tp(t).K(IDBKeyRange.bound(i,s,!0)).next(c=>{let h=xo();for(const p of c){const _=this.Kn(et.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);h=h.insert(_.key,_)}return h})}getAllFromCollectionGroup(t,e,r,i){let s=xo();const c=tL(e,r),h=tL(e,ss.max());return Tp(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,h,!0)},(p,_,w)=>{const I=this.Kn(et.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);s=s.insert(I.key,I),s.size===i&&w.done()}).next(()=>s)}newChangeBuffer(t){return new Hz(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return eL(t).get("remoteDocumentGlobalKey").next(e=>(Bt(!!e),e))}qn(t,e){return eL(t).put("remoteDocumentGlobalKey",e)}Kn(t,e){if(e){const r=function Sz(n,t){let e;if(t.document)e=EF(n.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const r=et.fromSegments(t.noDocument.path),i=wp(t.noDocument.readTime);e=wn.newNoDocument(r,i),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return mt();{const r=et.fromSegments(t.unknownDocument.path),i=wp(t.unknownDocument.version);e=wn.newUnknownDocument(r,i)}}return t.readTime&&e.setReadTime(function(r){const i=new sr(r[0],r[1]);return Ft.fromTimestamp(i)}(t.readTime)),e}(this.wt,e);if(!r.isNoDocument()||!r.version.isEqual(Ft.min()))return r}return wn.newInvalidDocument(t)}}function JF(n){return new Uz(n)}class Hz extends XF{constructor(t,e){super(),this.zn=t,this.trackRemovals=e,this.Hn=new bh(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(t){const e=[];let r=0,i=new Fn((s,c)=>Zt(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const h=this.Hn.get(s);if(e.push(this.zn.removeEntry(t,s,h.readTime)),c.isValidDocument()){const p=FF(this.zn.wt,c);i=i.add(s.path.popLast()),r+=iI(p)-h.size,e.push(this.zn.addEntry(t,s,p))}else if(r-=h.size,this.trackRemovals){const p=FF(this.zn.wt,c.convertToNoDocument(Ft.min()));e.push(this.zn.addEntry(t,s,p))}}),i.forEach(s=>{e.push(this.zn.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.zn.updateMetadata(t,r)),me.waitFor(e)}getFromCache(t,e){return this.zn.Gn(t,e).next(r=>(this.Hn.set(e,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(t,e){return this.zn.jn(t,e).next(({documents:r,Wn:i})=>(i.forEach((s,c)=>{this.Hn.set(s,{size:c,readTime:r.get(s).readTime})}),r))}}function eL(n){return Gi(n,"remoteDocumentGlobal")}function Tp(n){return Gi(n,"remoteDocumentsV14")}function pw(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function tL(n,t){const e=t.documentKey.path.toArray();return[n,eI(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function nL(n,t){const e=n.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<e.length-2&&s<r.length-2;++s)if(i=Zt(e[s],r[s]),i)return i;return i=Zt(e.length,r.length),i||(i=Zt(e[e.length-2],r[r.length-2]),i||Zt(e[e.length-1],r[r.length-1]))}class jz{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class rL{constructor(t,e,r,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(i=>(r=i,this.getBaseDocument(t,e,r))).next(i=>(null!==r&&ew(r.mutation,i,Gs.empty(),sr.now()),i))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,nn()).next(()=>r))}getLocalViewOfDocuments(t,e,r=nn()){const i=Pc();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,r).next(s=>{let c=tw();return s.forEach((h,p)=>{c=c.insert(h,p.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const r=Pc();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,nn()))}populateOverlays(t,e,r){const i=[];return r.forEach(s=>{e.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((c,h)=>{e.set(c,h)})})}computeViews(t,e,r,i){let s=xo();const c=nw(),h=nw();return e.forEach((p,_)=>{const w=r.get(_.key);i.has(_.key)&&(void 0===w||w.mutation instanceof Gu)?s=s.insert(_.key,_):void 0!==w&&(c.set(_.key,w.mutation.getFieldMask()),ew(w.mutation,_,w.mutation.getFieldMask(),sr.now()))}),this.recalculateAndSaveOverlays(t,s).next(p=>(p.forEach((_,w)=>c.set(_,w)),e.forEach((_,w)=>{var I;return h.set(_,new jz(w,null!==(I=c.get(_))&&void 0!==I?I:null))}),h))}recalculateAndSaveOverlays(t,e){const r=nw();let i=new mr((c,h)=>c-h),s=nn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const h of c)h.keys().forEach(p=>{const _=e.get(p);if(null===_)return;let w=r.get(p)||Gs.empty();w=h.applyToLocalView(_,w),r.set(p,w);const I=(i.get(h.batchId)||nn()).add(p);i=i.insert(h.batchId,I)})}).next(()=>{const c=[],h=i.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),_=p.key,w=p.value,I=hF();w.forEach(x=>{if(!s.has(x)){const L=rF(e.get(x),r.get(x));null!==L&&I.set(x,L),s=s.add(x)}}),c.push(this.documentOverlayCache.saveOverlays(t,_,I))}return me.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r){return et.isDocumentKey((i=e).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):bx(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r):this.getDocumentsMatchingCollectionQuery(t,e,r);var i}getNextDocuments(t,e,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,i).next(s=>{const c=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,i-s.size):me.resolve(Pc());let h=-1,p=s;return c.next(_=>me.forEach(_,(w,I)=>(h<I.largestBatchId&&(h=I.largestBatchId),s.get(w)?me.resolve():this.getBaseDocument(t,w,I).next(x=>{p=p.insert(w,x)}))).next(()=>this.populateOverlays(t,_,s)).next(()=>this.computeViews(t,p,_,nn())).next(w=>({batchId:h,changes:dF(w)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new et(e)).next(r=>{let i=tw();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,e,r){const i=e.collectionGroup;let s=tw();return this.indexManager.getCollectionParents(t,i).next(c=>me.forEach(c,h=>{const p=(_=e,w=h.child(i),new zu(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,w;return this.getDocumentsMatchingCollectionQuery(t,p,r).next(_=>{_.forEach((w,I)=>{s=s.insert(w,I)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,r){let i;return this.remoteDocumentCache.getAllFromCollection(t,e.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId))).next(s=>{s.forEach((h,p)=>{const _=p.getKey();null===i.get(_)&&(i=i.insert(_,wn.newInvalidDocument(_)))});let c=tw();return i.forEach((h,p)=>{const _=s.get(h);void 0!==_&&ew(_.mutation,p,Gs.empty(),sr.now()),Cx(e,p)&&(c=c.insert(h,p))}),c})}getBaseDocument(t,e,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(t,e):me.resolve(wn.newInvalidDocument(e))}}class $z{constructor(t){this.wt=t,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(t,e){return me.resolve(this.Jn.get(e))}saveBundleMetadata(t,e){var r;return this.Jn.set(e.id,{id:(r=e).id,version:r.version,createTime:zi(r.createTime)}),me.resolve()}getNamedQuery(t,e){return me.resolve(this.Yn.get(e))}saveNamedQuery(t,e){return this.Yn.set(e.name,{name:(r=e).name,query:kx(r.bundledQuery),readTime:zi(r.readTime)}),me.resolve();var r}}class zz{constructor(){this.overlays=new mr(et.comparator),this.Xn=new Map}getOverlay(t,e){return me.resolve(this.overlays.get(e))}getOverlays(t,e){const r=Pc();return me.forEach(e,i=>this.getOverlay(t,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((i,s)=>{this.ie(t,e,s)}),me.resolve()}removeOverlaysForBatchId(t,e,r){const i=this.Xn.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Xn.delete(r)),me.resolve()}getOverlaysForCollection(t,e,r){const i=Pc(),s=e.length+1,c=new et(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,_=p.getKey();if(!e.isPrefixOf(_.path))break;_.path.length===s&&p.largestBatchId>r&&i.set(p.getKey(),p)}return me.resolve(i)}getOverlaysForCollectionGroup(t,e,r,i){let s=new mr((_,w)=>_-w);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===e&&_.largestBatchId>r){let w=s.get(_.largestBatchId);null===w&&(w=Pc(),s=s.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const h=Pc(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,w)=>h.set(_,w)),!(h.size()>=i)););return me.resolve(h)}ie(t,e,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.Xn.get(i.largestBatchId).delete(r.key);this.Xn.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new xx(e,r));let s=this.Xn.get(e);void 0===s&&(s=nn(),this.Xn.set(e,s)),this.Xn.set(e,s.add(r.key))}}class Px{constructor(){this.Zn=new Fn(Wi.ts),this.es=new Fn(Wi.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const r=new Wi(t,e);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.rs(new Wi(t,e))}os(t,e){t.forEach(r=>this.removeReference(r,e))}us(t){const e=new et(new _n([])),r=new Wi(e,t),i=new Wi(e,t+1),s=[];return this.es.forEachInRange([r,i],c=>{this.rs(c),s.push(c.key)}),s}cs(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new et(new _n([])),r=new Wi(e,t),i=new Wi(e,t+1);let s=nn();return this.es.forEachInRange([r,i],c=>{s=s.add(c.key)}),s}containsKey(t){const e=new Wi(t,0),r=this.Zn.firstAfterOrEqual(e);return null!==r&&t.isEqual(r.key)}}class Wi{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return et.comparator(t.key,e.key)||Zt(t.ls,e.ls)}static ns(t,e){return Zt(t.ls,e.ls)||et.comparator(t.key,e.key)}}class Gz{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.fs=1,this.ds=new Fn(Wi.ts)}checkEmpty(t){return me.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,r,i){const s=this.fs;this.fs++;const c=new Ax(s,e,r,i);this.mutationQueue.push(c);for(const h of i)this.ds=this.ds.add(new Wi(h.key,s)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return me.resolve(c)}lookupMutationBatch(t,e){return me.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const i=this.ws(e+1),s=i<0?0:i;return me.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(t){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Wi(e,0),i=new Wi(e,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([r,i],c=>{const h=this._s(c.ls);s.push(h)}),me.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Fn(Zt);return e.forEach(i=>{const s=new Wi(i,0),c=new Wi(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,c],h=>{r=r.add(h.ls)})}),me.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,i=r.length+1;let s=r;et.isDocumentKey(s)||(s=s.child(""));const c=new Wi(new et(s),0);let h=new Fn(Zt);return this.ds.forEachWhile(p=>{const _=p.key.path;return!!r.isPrefixOf(_)&&(_.length===i&&(h=h.add(p.ls)),!0)},c),me.resolve(this.gs(h))}gs(t){const e=[];return t.forEach(r=>{const i=this._s(r);null!==i&&e.push(i)}),e}removeMutationBatch(t,e){Bt(0===this.ys(e.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return me.forEach(e.mutations,i=>{const s=new Wi(i.key,e.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.ds=r})}In(t){}containsKey(t,e){const r=new Wi(e,0),i=this.ds.firstAfterOrEqual(r);return me.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return me.resolve()}ys(t,e){return this.ws(t)}ws(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}_s(t){const e=this.ws(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Wz{constructor(t){this.ps=t,this.docs=new mr(et.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,i=this.docs.get(r),s=i?i.size:0,c=this.ps(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return me.resolve(r?r.document.mutableCopy():wn.newInvalidDocument(e))}getEntries(t,e){let r=xo();return e.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():wn.newInvalidDocument(i))}),me.resolve(r)}getAllFromCollection(t,e,r){let i=xo();const s=new et(e.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:h,value:{document:p}}=c.getNext();if(!e.isPrefixOf(h.path))break;h.path.length>e.length+1||Wb(g_(p),r)<=0||(i=i.insert(p.key,p.mutableCopy()))}return me.resolve(i)}getAllFromCollectionGroup(t,e,r,i){mt()}Is(t,e){return me.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new qz(this)}getSize(t){return me.resolve(this.size)}}class qz extends XF{constructor(t){super(),this.zn=t}applyChanges(t){const e=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?e.push(this.zn.addEntry(t,i)):this.zn.removeEntry(r)}),me.waitFor(e)}getFromCache(t,e){return this.zn.getEntry(t,e)}getAllFromCache(t,e){return this.zn.getEntries(t,e)}}class Yz{constructor(t){this.persistence=t,this.Ts=new bh(e=>Ul(e),$u),this.lastRemoteSnapshotVersion=Ft.min(),this.highestTargetId=0,this.Es=0,this.As=new Px,this.targetCount=0,this.Rs=Sp.An()}forEachTarget(t,e){return this.Ts.forEach((r,i)=>e(i)),me.resolve()}getLastRemoteSnapshotVersion(t){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return me.resolve(this.Es)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.Es&&(this.Es=e),me.resolve()}vn(t){this.Ts.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new Sp(e),this.highestTargetId=e),t.sequenceNumber>this.Es&&(this.Es=t.sequenceNumber)}addTargetData(t,e){return this.vn(e),this.targetCount+=1,me.resolve()}updateTargetData(t,e){return this.vn(e),me.resolve()}removeTargetData(t,e){return this.Ts.delete(e.target),this.As.us(e.targetId),this.targetCount-=1,me.resolve()}removeTargets(t,e,r){let i=0;const s=[];return this.Ts.forEach((c,h)=>{h.sequenceNumber<=e&&null===r.get(h.targetId)&&(this.Ts.delete(c),s.push(this.removeMatchingKeysForTargetId(t,h.targetId)),i++)}),me.waitFor(s).next(()=>i)}getTargetCount(t){return me.resolve(this.targetCount)}getTargetData(t,e){const r=this.Ts.get(e)||null;return me.resolve(r)}addMatchingKeys(t,e,r){return this.As.ss(e,r),me.resolve()}removeMatchingKeys(t,e,r){this.As.os(e,r);const i=this.persistence.referenceDelegate,s=[];return i&&e.forEach(c=>{s.push(i.markPotentiallyOrphaned(t,c))}),me.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.As.us(e),me.resolve()}getMatchingKeysForTargetId(t,e){const r=this.As.hs(e);return me.resolve(r)}containsKey(t,e){return me.resolve(this.As.containsKey(e))}}class iL{constructor(t,e){this.bs={},this.overlays={},this.Ps=new Cs(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new Yz(this),this.indexManager=new Oz,this.remoteDocumentCache=new Wz(r=>this.referenceDelegate.Ss(r)),this.wt=new NF(e),this.Ds=new $z(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new zz,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.bs[t.toKey()];return r||(r=new Gz(e,this.referenceDelegate),this.bs[t.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(t,e,r){ze("MemoryPersistence","Starting transaction:",t);const i=new Kz(this.Ps.next());return this.referenceDelegate.Cs(),r(i).next(s=>this.referenceDelegate.xs(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ns(t,e){return me.or(Object.values(this.bs).map(r=>()=>r.containsKey(t,e)))}}class Kz extends y_{constructor(t){super(),this.currentSequenceNumber=t}}class aI{constructor(t){this.persistence=t,this.ks=new Px,this.Ms=null}static Os(t){return new aI(t)}get Fs(){if(this.Ms)return this.Ms;throw mt()}addReference(t,e,r){return this.ks.addReference(r,e),this.Fs.delete(r.toString()),me.resolve()}removeReference(t,e,r){return this.ks.removeReference(r,e),this.Fs.add(r.toString()),me.resolve()}markPotentiallyOrphaned(t,e){return this.Fs.add(e.toString()),me.resolve()}removeTarget(t,e){this.ks.us(e.targetId).forEach(i=>this.Fs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(i=>{i.forEach(s=>this.Fs.add(s.toString()))}).next(()=>r.removeTargetData(t,e))}Cs(){this.Ms=new Set}xs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Fs,r=>{const i=et.fromPath(r);return this.$s(t,i).next(s=>{s||e.removeEntry(i,Ft.min())})}).next(()=>(this.Ms=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(r=>{r?this.Fs.delete(e.toString()):this.Fs.add(e.toString())})}Ss(t){return 0}$s(t,e){return me.or([()=>me.resolve(this.ks.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ns(t,e)])}}class Zz{constructor(t){this.wt=t}M(t,e,r,i){const s=new qb("createOrUpgrade",e);var h;r<1&&i>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xF,{unique:!0}),h.createObjectStore("documentMutations"),sL(t),function(h){h.createObjectStore("remoteDocuments")}(t));let c=me.resolve();return r<3&&i>=3&&(0!==r&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),sL(t)),c=c.next(()=>function(h){const p=h.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ft.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",_)}(s))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(h,p){return p.store("mutations").K().next(_=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xF,{unique:!0});const w=p.store("mutations"),I=_.map(x=>w.put(x));return me.waitFor(I)})}(t,s))),c=c.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),r<5&&i>=5&&(c=c.next(()=>this.Bs(s))),r<6&&i>=6&&(c=c.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Ls(s)))),r<7&&i>=7&&(c=c.next(()=>this.Us(s))),r<8&&i>=8&&(c=c.next(()=>this.qs(t,s))),r<9&&i>=9&&(c=c.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),r<10&&i>=10&&(c=c.next(()=>this.Ks(s))),r<11&&i>=11&&(c=c.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),r<12&&i>=12&&(c=c.next(()=>{!function(h){const p=h.createObjectStore("documentOverlays",{keyPath:wz});p.createIndex("collectionPathOverlayIndex",Cz,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",Ez,{unique:!1})}(t)})),r<13&&i>=13&&(c=c.next(()=>function(h){const p=h.createObjectStore("remoteDocumentsV14",{keyPath:uz});p.createIndex("documentKeyIndex",dz),p.createIndex("collectionGroupIndex",hz)}(t)).next(()=>this.Gs(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.Qs(t,s))),r<15&&i>=15&&(c=c.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:_z}).createIndex("sequenceNumberIndex",yz,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:vz}).createIndex("documentKeyIndex",bz,{unique:!1})}(t))),c}Ls(t){let e=0;return t.store("remoteDocuments").J((r,i)=>{e+=iI(i)}).next(()=>{const r={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Bs(t){const e=t.store("mutationQueues"),r=t.store("mutations");return e.K().next(i=>me.forEach(i,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",c).next(h=>me.forEach(h,p=>{Bt(p.userId===s.userId);const _=Cp(this.wt,p);return qF(t,s.userId,_).next(()=>{})}))}))}Us(t){const e=t.store("targetDocuments"),r=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((c,h)=>{const p=new _n(c),_=[0,Ws(p)];s.push(e.get(_).next(w=>w?me.resolve():e.put({targetId:0,path:Ws(p),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>me.waitFor(s))})}qs(t,e){t.createObjectStore("collectionParents",{keyPath:gz});const r=e.store("collectionParents"),i=new Ox,s=c=>{if(i.add(c)){const h=c.lastSegment(),p=c.popLast();return r.put({collectionId:h,parent:Ws(p)})}};return e.store("remoteDocuments").J({H:!0},(c,h)=>{const p=new _n(c);return s(p.popLast())}).next(()=>e.store("documentMutations").J({H:!0},([c,h,p],_)=>{const w=Fc(h);return s(w.popLast())}))}Ks(t){const e=t.store("targets");return e.J((r,i)=>{const s=cw(i),c=LF(this.wt,s);return e.put(c)})}Gs(t,e){const r=e.store("remoteDocuments"),i=[];return r.J((s,c)=>{const h=e.store("remoteDocumentsV14"),p=(_=c,_.document?new et(_n.fromString(_.document.name).popFirst(5)):_.noDocument?et.fromSegments(_.noDocument.path):_.unknownDocument?et.fromSegments(_.unknownDocument.path):mt()).path.toArray();var _;const w={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(h.put(w))}).next(()=>me.waitFor(i))}Qs(t,e){const r=e.store("mutations"),i=JF(this.wt),s=new iL(aI.Os,this.wt.ne);return r.K().next(c=>{const h=new Map;return c.forEach(p=>{var _;let w=null!==(_=h.get(p.userId))&&void 0!==_?_:nn();Cp(this.wt,p).keys().forEach(I=>w=w.add(I)),h.set(p.userId,w)}),me.forEach(h,(p,_)=>{const w=new qn(_),I=tI.se(this.wt,w),x=s.getIndexManager(w),L=sI.se(w,this.wt,x,s.referenceDelegate);return new rL(i,L,I,x).recalculateAndSaveOverlaysForDocumentKeys(new Tx(e,Cs.ot),p).next()})})}}function sL(n){n.createObjectStore("targetDocuments",{keyPath:pz}).createIndex("documentTargetsIndex",mz,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",fz,{unique:!0}),n.createObjectStore("targetGlobal")}const Nx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Fx{constructor(t,e,r,i,s,c,h,p,_,w,I=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=r,this.js=s,this.window=c,this.document=h,this.Ws=_,this.zs=w,this.Hs=I,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=x=>Promise.resolve(),!Fx.V())throw new Ue(ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Bz(this,i),this.ei=e+"main",this.wt=new NF(p),this.ni=new Za(this.ei,this.Hs,new Zz(this.wt)),this.Vs=new Nz(this.referenceDelegate,this.wt),this.remoteDocumentCache=JF(this.wt),this.Ds=new Tz,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===w&&Or("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ue(ye.FAILED_PRECONDITION,Nx);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Vs.getHighestSequenceNumber(t))}).then(t=>{this.Ps=new Cs(t,this.Ws)}).then(()=>{this.vs=!0}).catch(t=>(this.ni&&this.ni.close(),Promise.reject(t)))}ci(t){var e=this;return this.ti=function(){var r=(0,Te.Z)(function*(i){if(e.started)return t(i)});return function(i){return r.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ni.F(function(){var e=(0,Te.Z)(function*(r){null===r.newVersion&&(yield t())});return function(r){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.js.enqueueAndForget((0,Te.Z)(function*(){e.started&&(yield e.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>lI(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(t).next(e=>{e||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(t)).next(e=>this.isPrimary&&!e?this.li(t).next(()=>!1):!!e&&this.fi(t).next(()=>!0))).catch(t=>{if(Rc(t))return ze("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.js.enqueueRetryable(()=>this.ti(t)),this.isPrimary=t})}ai(t){return mw(t).get("owner").next(e=>me.resolve(this.di(e)))}_i(t){return lI(t).delete(this.clientId)}wi(){var t=this;return(0,Te.Z)(function*(){if(t.isPrimary&&!t.mi(t.Zs,18e5)){t.Zs=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Gi(r,"clientMetadata");return i.K().next(s=>{const c=t.gi(s,18e5),h=s.filter(p=>-1===c.indexOf(p));return me.forEach(h,p=>i.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(t.si)for(const r of e)t.si.removeItem(t.yi(r.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(t){return!!t&&t.ownerId===this.clientId}hi(t){return this.zs?me.resolve(!0):mw(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)){if(this.di(e)&&this.networkEnabled)return!0;if(!this.di(e)){if(!e.allowTabSynchronization)throw new Ue(ye.FAILED_PRECONDITION,Nx);return!1}}return!(!this.networkEnabled||!this.inForeground)||lI(t).K().next(r=>void 0===this.gi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&ze("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Te.Z)(function*(){t.vs=!1,t.Ii(),t.Xs&&(t.Xs.cancel(),t.Xs=null),t.Ti(),t.Ei(),yield t.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const r=new Tx(e,Cs.ot);return t.li(r).next(()=>t._i(r))}),t.ni.close(),t.Ai()})()}gi(t,e){return t.filter(r=>this.mi(r.updateTimeMs,e)&&!this.pi(r.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",t=>lI(t).K().next(e=>this.gi(e,18e5).map(r=>r.clientId)))}get started(){return this.vs}getMutationQueue(t,e){return sI.se(t,this.wt,e,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Pz(t,this.wt.ne.databaseId)}getDocumentOverlayCache(t){return tI.se(this.wt,t)}getBundleCache(){return this.Ds}runTransaction(t,e,r){ze("IndexedDbPersistence","Starting transaction:",t);const i="readonly"===e?"readonly":"readwrite",s=15===(c=this.Hs)?Iz:14===c?PF:13===c?OF:12===c?Dz:11===c?RF:void mt();var c;let h;return this.ni.runTransaction(t,i,s,p=>(h=new Tx(p,this.Ps?this.Ps.next():Cs.ot),"readwrite-primary"===e?this.ai(h).next(_=>!!_||this.hi(h)).next(_=>{if(!_)throw Or(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Ue(ye.FAILED_PRECONDITION,__);return r(h)}).next(_=>this.fi(h).next(()=>_)):this.bi(h).next(()=>r(h)))).then(p=>(h.raiseOnCommittedEvent(),p))}bi(t){return mw(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)&&!this.di(e)&&!(this.zs||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ue(ye.FAILED_PRECONDITION,Nx)})}fi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return mw(t).put("owner",e)}static V(){return Za.V()}li(t){const e=mw(t);return e.get("owner").next(r=>this.di(r)?(ze("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):me.resolve())}mi(t,e){const r=Date.now();return!(t<r-e||t>r&&(Or(`Detected an update time that is in the future: ${t} > ${r}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Js=()=>{this.Ii(),(0,re.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(t){var e;try{const r=null!==(null===(e=this.si)||void 0===e?void 0:e.getItem(this.yi(t)));return ze("IndexedDbPersistence",`Client '${t}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Or("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(t){Or("Failed to set zombie client id.",t)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function mw(n){return Gi(n,"owner")}function lI(n){return Gi(n,"clientMetadata")}function Lx(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class Vx{constructor(t,e,r,i){this.targetId=t,this.fromCache=e,this.Pi=r,this.vi=i}static Vi(t,e){let r=nn(),i=nn();for(const s of e.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Vx(t,e.fromCache,r,i)}}class oL{constructor(){this.Si=!1}initialize(t,e){this.Di=t,this.indexManager=e,this.Si=!0}getDocumentsMatchingQuery(t,e,r,i){return this.Ci(t,e).next(s=>s||this.xi(t,e,i,r)).next(s=>s||this.Ni(t,e))}Ci(t,e){if(G1(e))return me.resolve(null);let r=Mo(e);return this.indexManager.getIndexType(t,r).next(i=>0===i?null:(null!==e.limit&&1===i&&(e=qD(e,null,"F"),r=Mo(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const c=nn(...s);return this.Di.getDocuments(t,c).next(h=>this.indexManager.getMinOffset(t,r).next(p=>{const _=this.ki(e,h);return this.Mi(e,_,c,p.readTime)?this.Ci(t,qD(e,null,"F")):this.Oi(t,_,e,p)}))})))}xi(t,e,r,i){return G1(e)||i.isEqual(Ft.min())?this.Ni(t,e):this.Di.getDocuments(t,r).next(s=>{const c=this.ki(e,s);return this.Mi(e,c,r,i)?this.Ni(t,e):(Hb()<=qa.in.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wx(e)),this.Oi(t,c,e,Gb(i,-1)))})}ki(t,e){let r=new Fn(Y1(t));return e.forEach((i,s)=>{Cx(t,s)&&(r=r.add(s))}),r}Mi(t,e,r,i){if(null===t.limit)return!1;if(r.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ni(t,e){return Hb()<=qa.in.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",wx(e)),this.Di.getDocumentsMatchingQuery(t,e,ss.min())}Oi(t,e,r,i){return this.Di.getDocumentsMatchingQuery(t,r,i).next(s=>(e.forEach(c=>{s=s.insert(c.key,c)}),s))}}class Qz{constructor(t,e,r,i){this.persistence=t,this.Fi=e,this.wt=i,this.$i=new mr(Zt),this.Bi=new bh(s=>Ul(s),$u),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new rL(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.$i))}}function aL(n,t,e,r){return new Qz(n,t,e,r)}function lL(n,t){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,Te.Z)(function*(n,t){const e=it(n);return yield e.persistence.runTransaction("Handle user change","readonly",r=>{let i;return e.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,e.qi(t),e.mutationQueue.getAllMutationBatches(r))).next(s=>{const c=[],h=[];let p=nn();for(const _ of i){c.push(_.batchId);for(const w of _.mutations)p=p.add(w.key)}for(const _ of s){h.push(_.batchId);for(const w of _.mutations)p=p.add(w.key)}return e.localDocuments.getDocuments(r,p).next(_=>({Ki:_,removedBatchIds:c,addedBatchIds:h}))})})}),Bx.apply(this,arguments)}function Xz(n,t){const e=it(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=e.Ui.newChangeBuffer({trackRemovals:!0});return function(c,h,p,_){const w=p.batch,I=w.keys();let x=me.resolve();return I.forEach(L=>{x=x.next(()=>_.getEntry(h,L)).next(B=>{const X=p.docVersions.get(L);Bt(null!==X),B.version.compareTo(X)<0&&(w.applyToRemoteDocument(B,p),B.isValidDocument()&&(B.setReadTime(p.commitVersion),_.addEntry(B)))})}),x.next(()=>c.mutationQueue.removeMutationBatch(h,w))}(e,r,t,s).next(()=>s.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=nn();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(t))).next(()=>e.localDocuments.getDocuments(r,i))})}function cL(n){const t=it(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Vs.getLastRemoteSnapshotVersion(e))}function Jz(n,t){const e=it(n),r=t.snapshotVersion;let i=e.$i;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=e.Ui.newChangeBuffer({trackRemovals:!0});i=e.$i;const h=[];t.targetChanges.forEach((w,I)=>{const x=i.get(I);if(!x)return;h.push(e.Vs.removeMatchingKeys(s,w.removedDocuments,I).next(()=>e.Vs.addMatchingKeys(s,w.addedDocuments,I)));let L=x.withSequenceNumber(s.currentSequenceNumber);var B,X,ve;t.targetMismatches.has(I)?L=L.withResumeToken(ii.EMPTY_BYTE_STRING,Ft.min()).withLastLimboFreeSnapshotVersion(Ft.min()):w.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(w.resumeToken,r)),i=i.insert(I,L),X=L,ve=w,(0===(B=x).resumeToken.approximateByteSize()||X.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0)&&h.push(e.Vs.updateTargetData(s,L))});let p=xo(),_=nn();if(t.documentUpdates.forEach(w=>{t.resolvedLimboDocuments.has(w)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(s,w))}),h.push(uL(s,c,t.documentUpdates).next(w=>{p=w.Gi,_=w.Qi})),!r.isEqual(Ft.min())){const w=e.Vs.getLastRemoteSnapshotVersion(s).next(I=>e.Vs.setTargetsMetadata(s,s.currentSequenceNumber,r));h.push(w)}return me.waitFor(h).next(()=>c.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,p,_)).next(()=>p)}).then(s=>(e.$i=i,s))}function uL(n,t,e){let r=nn(),i=nn();return e.forEach(s=>r=r.add(s)),t.getEntries(n,r).next(s=>{let c=xo();return e.forEach((h,p)=>{const _=s.get(h);p.isFoundDocument()!==_.isFoundDocument()&&(i=i.add(h)),p.isNoDocument()&&p.version.isEqual(Ft.min())?(t.removeEntry(h,p.readTime),c=c.insert(h,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||0===p.version.compareTo(_.version)&&_.hasPendingWrites?(t.addEntry(p),c=c.insert(h,p)):ze("LocalStore","Ignoring outdated watch update for ",h,". Current version:",_.version," Watch version:",p.version)}),{Gi:c,Qi:i}})}function e3(n,t){const e=it(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function L_(n,t){const e=it(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return e.Vs.getTargetData(r,t).next(s=>s?(i=s,me.resolve(i)):e.Vs.allocateTargetId(r).next(c=>(i=new wh(t,c,0,r.currentSequenceNumber),e.Vs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=e.$i.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.$i=e.$i.insert(r.targetId,r),e.Bi.set(t,r.targetId)),r})}function V_(n,t,e){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,Te.Z)(function*(n,t,e){const r=it(n),i=r.$i.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield r.persistence.runTransaction("Release target",s,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Rc(c))throw c;ze("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}r.$i=r.$i.remove(t),r.Bi.delete(i.target)}),Ux.apply(this,arguments)}function cI(n,t,e){const r=it(n);let i=Ft.min(),s=nn();return r.persistence.runTransaction("Execute query","readonly",c=>function(h,p,_){const w=it(h),I=w.Bi.get(_);return void 0!==I?me.resolve(w.$i.get(I)):w.Vs.getTargetData(p,_)}(r,c,Mo(t)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(c,h.targetId).next(p=>{s=p})}).next(()=>r.Fi.getDocumentsMatchingQuery(c,t,e?i:Ft.min(),e?s:nn())).next(h=>(fL(r,q1(t),h),{documents:h,ji:s})))}function dL(n,t){const e=it(n),r=it(e.Vs),i=e.$i.get(t);return i?Promise.resolve(i.target):e.persistence.runTransaction("Get target data","readonly",s=>r.te(s,t).next(c=>c?c.target:null))}function hL(n,t){const e=it(n),r=e.Li.get(t)||Ft.min();return e.persistence.runTransaction("Get new document changes","readonly",i=>e.Ui.getAllFromCollectionGroup(i,t,Gb(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(fL(e,t,i),i))}function fL(n,t,e){let r=Ft.min();e.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Li.set(t,r)}function Hx(){return Hx=(0,Te.Z)(function*(n,t,e,r){const i=it(n);let s=nn(),c=xo();for(const _ of e){const w=t.Wi(_.metadata.name);_.document&&(s=s.add(w));const I=t.zi(_);I.setReadTime(t.Hi(_.metadata.readTime)),c=c.insert(w,I)}const h=i.Ui.newChangeBuffer({trackRemovals:!0}),p=yield L_(i,(_=r,Mo(T_(_n.fromString(`__bundle__/docs/${_}`)))));var _;return i.persistence.runTransaction("Apply bundle documents","readwrite",_=>uL(_,h,c).next(w=>(h.apply(_),w)).next(w=>i.Vs.removeMatchingKeysForTargetId(_,p.targetId).next(()=>i.Vs.addMatchingKeys(_,s,p.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(_,w.Gi,w.Qi)).next(()=>w.Gi)))}),Hx.apply(this,arguments)}function n3(n,t){return jx.apply(this,arguments)}function jx(){return jx=(0,Te.Z)(function*(n,t,e=nn()){const r=yield L_(n,Mo(kx(t.bundledQuery))),i=it(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const c=zi(t.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ds.saveNamedQuery(s,t);const h=r.withResumeToken(ii.EMPTY_BYTE_STRING,c);return i.$i=i.$i.insert(h.targetId,h),i.Vs.updateTargetData(s,h).next(()=>i.Vs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Vs.addMatchingKeys(s,e,r.targetId)).next(()=>i.Ds.saveNamedQuery(s,t))})}),jx.apply(this,arguments)}function pL(n,t){return`firestore_clients_${n}_${t}`}function mL(n,t,e){let r=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function $x(n,t){return`firestore_targets_${n}_${t}`}class uI{constructor(t,e,r,i){this.user=t,this.batchId=e,this.state=r,this.error=i}static Ji(t,e,r){const i=JSON.parse(r);let s,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(s=new Ue(i.error.code,i.error.message))),c?new uI(t,e,i.state,s):(Or("SharedClientState",`Failed to parse mutation state for ID '${e}': ${r}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class gw{constructor(t,e,r){this.targetId=t,this.state=e,this.error=r}static Ji(t,e){const r=JSON.parse(e);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Ue(r.error.code,r.error.message))),s?new gw(t,r.state,i):(Or("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class dI{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ji(t,e){const r=JSON.parse(e);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=QD();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=_x(r.activeTargetIds[c]),s=s.add(r.activeTargetIds[c]);return i?new dI(t,s):(Or("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class zx{constructor(t,e){this.clientId=t,this.onlineState=e}static Ji(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new zx(e.clientId,e.onlineState):(Or("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Gx{constructor(){this.activeTargetIds=QD()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Wx{constructor(t,e,r,i,s){this.window=t,this.js=e,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new mr(Zt),this.started=!1,this.ir=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.rr=pL(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new Gx),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Te.Z)(function*(){const e=yield t.syncEngine.Ri();for(const i of e){if(i===t.tr)continue;const s=t.getItem(pL(t.persistenceKey,i));if(s){const c=dI.Ji(i,s);c&&(t.sr=t.sr.insert(c.clientId,c))}}t._r();const r=t.storage.getItem(t.lr);if(r){const i=t.wr(r);i&&t.mr(i)}for(const i of t.ir)t.nr(i);t.ir=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ur,JSON.stringify(t))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(t){let e=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.yr(t,"pending")}updateMutationState(t,e,r){this.yr(t,e,r),this.pr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const r=this.storage.getItem($x(this.persistenceKey,t));if(r){const i=gw.Ji(t,r);i&&(e=i.state)}}return this.Ir.Xi(t),this._r(),e}removeLocalQueryTarget(t){this.Ir.Zi(t),this._r()}isLocalQueryTarget(t){return this.Ir.activeTargetIds.has(t)}clearQueryState(t){this.removeItem($x(this.persistenceKey,t))}updateQueryState(t,e,r){this.Tr(t,e,r)}handleUserChange(t,e,r){e.forEach(i=>{this.pr(i)}),this.currentUser=t,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(t){this.Er(t)}notifyBundleLoaded(t){this.Ar(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return ze("SharedClientState","READ",t,e),e}setItem(t,e){ze("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){ze("SharedClientState","REMOVE",t),this.storage.removeItem(t)}nr(t){var e=this;const r=t;if(r.storageArea===this.storage){if(ze("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void Or("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,Te.Z)(function*(){if(e.started){if(null!==r.key)if(e.cr.test(r.key)){if(null==r.newValue){const i=e.Rr(r.key);return e.br(i,null)}{const i=e.Pr(r.key,r.newValue);if(i)return e.br(i.clientId,i)}}else if(e.ar.test(r.key)){if(null!==r.newValue){const i=e.vr(r.key,r.newValue);if(i)return e.Vr(i)}}else if(e.hr.test(r.key)){if(null!==r.newValue){const i=e.Sr(r.key,r.newValue);if(i)return e.Dr(i)}}else if(r.key===e.lr){if(null!==r.newValue){const i=e.wr(r.newValue);if(i)return e.mr(i)}}else if(r.key===e.ur){const i=function(s){let c=Cs.ot;if(null!=s)try{const h=JSON.parse(s);Bt("number"==typeof h),c=h}catch(h){Or("SharedClientState","Failed to read sequence number from WebStorage",h)}return c}(r.newValue);i!==Cs.ot&&e.sequenceNumberHandler(i)}else if(r.key===e.dr){const i=e.Cr(r.newValue);yield Promise.all(i.map(s=>e.syncEngine.Nr(s)))}}else e.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(t,e,r){const i=new uI(this.currentUser,t,e,r),s=mL(this.persistenceKey,this.currentUser,t);this.setItem(s,i.Yi())}pr(t){const e=mL(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Er(t){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:t}))}Tr(t,e,r){const i=$x(this.persistenceKey,t),s=new gw(t,e,r);this.setItem(i,s.Yi())}Ar(t){const e=JSON.stringify(Array.from(t));this.setItem(this.dr,e)}Rr(t){const e=this.cr.exec(t);return e?e[1]:null}Pr(t,e){const r=this.Rr(t);return dI.Ji(r,e)}vr(t,e){const r=this.ar.exec(t),i=Number(r[1]);return uI.Ji(new qn(void 0!==r[2]?r[2]:null),i,e)}Sr(t,e){const r=this.hr.exec(t),i=Number(r[1]);return gw.Ji(i,e)}wr(t){return zx.Ji(t)}Cr(t){return JSON.parse(t)}Vr(t){var e=this;return(0,Te.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.kr(t.batchId,t.state,t.error);ze("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Dr(t){return this.syncEngine.Mr(t.targetId,t.state,t.error)}br(t,e){const r=e?this.sr.insert(t,e):this.sr.remove(t),i=this.gr(this.sr),s=this.gr(r),c=[],h=[];return s.forEach(p=>{i.has(p)||c.push(p)}),i.forEach(p=>{s.has(p)||h.push(p)}),this.syncEngine.Or(c,h).then(()=>{this.sr=r})}mr(t){this.sr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}gr(t){let e=QD();return t.forEach((r,i)=>{e=e.unionWith(i.activeTargetIds)}),e}}class gL{constructor(){this.Fr=new Gx,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,e,r){this.$r[t]=e}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new Gx,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class r3{Br(t){}shutdown(){}}class _L{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(t){this.Gr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Gr)t(0)}Kr(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Gr)t(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const s3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class o3{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}class a3 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.so=(t.ssl?"https":"http")+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,e,r,i,s){const c=this.oo(t,e);ze("RestConnection","Sending: ",c,r);const h={};return this.uo(h,i,s),this.co(t,c,h,r).then(p=>(ze("RestConnection","Received: ",p),p),p=>{throw kc("RestConnection",`${t} failed with error: `,p,"url: ",c,"request:",r),p})}ao(t,e,r,i,s,c){return this.ro(t,e,r,i,s)}uo(t,e,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+ph,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}oo(t,e){return`${this.so}/v1/${e}:${s3[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}co(t,e,r,i){return new Promise((s,c)=>{const h=new kD;h.listenOnce(ax.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case d_.NO_ERROR:const _=h.getResponseJson();ze("Connection","XHR received:",JSON.stringify(_)),s(_);break;case d_.TIMEOUT:ze("Connection",'RPC "'+t+'" timed out'),c(new Ue(ye.DEADLINE_EXCEEDED,"Request time out"));break;case d_.HTTP_ERROR:const w=h.getStatus();if(ze("Connection",'RPC "'+t+'" failed with status:',w,"response text:",h.getResponseText()),w>0){const I=h.getResponseJson().error;if(I&&I.status&&I.message){const x=function(L){const B=L.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(B)>=0?B:ye.UNKNOWN}(I.status);c(new Ue(x,I.message))}else c(new Ue(ye.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Ue(ye.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{ze("Connection",'RPC "'+t+'" completed.')}});const p=JSON.stringify(i);h.send(e,"POST",p,r,15)})}ho(t,e,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=ox(),c=AD(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new Ub({})),this.uo(h.initMessageHeaders,e,r),(0,re.uI)()||(0,re.b$)()||(0,re.d)()||(0,re.w1)()||(0,re.Mn)()||(0,re.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const p=i.join("");ze("Connection","Creating WebChannel: "+p,h);const _=s.createWebChannel(p,h);let w=!1,I=!1;const x=new o3({jr:B=>{I?ze("Connection","Not sending because WebChannel is closed:",B):(w||(ze("Connection","Opening WebChannel transport."),_.open(),w=!0),ze("Connection","WebChannel sending:",B),_.send(B))},Wr:()=>_.close()}),L=(B,X,ve)=>{B.listen(X,Xe=>{try{ve(Xe)}catch(ut){setTimeout(()=>{throw ut},0)}})};return L(_,fa.EventType.OPEN,()=>{I||ze("Connection","WebChannel transport opened.")}),L(_,fa.EventType.CLOSE,()=>{I||(I=!0,ze("Connection","WebChannel transport closed"),x.eo())}),L(_,fa.EventType.ERROR,B=>{I||(I=!0,kc("Connection","WebChannel transport errored:",B),x.eo(new Ue(ye.UNAVAILABLE,"The operation could not be completed")))}),L(_,fa.EventType.MESSAGE,B=>{var X;if(!I){const ve=B.data[0];Bt(!!ve);const Xe=ve,ut=Xe.error||(null===(X=Xe[0])||void 0===X?void 0:X.error);if(ut){ze("Connection","WebChannel received error:",ut);const Ct=ut.status;let gt=function(jt){const vn=mi[jt];if(void 0!==vn)return cF(vn)}(Ct),Nt=ut.message;void 0===gt&&(gt=ye.INTERNAL,Nt="Unknown error status: "+Ct+" with message "+ut.message),I=!0,x.eo(new Ue(gt,Nt)),_.close()}else ze("Connection","WebChannel received:",ve),x.no(ve)}}),L(c,MD.STAT_EVENT,B=>{B.stat===xD.PROXY?ze("Connection","Detected buffering proxy"):B.stat===xD.NOPROXY&&ze("Connection","Detected no buffering proxy")}),setTimeout(()=>{x.Zr()},0),x}}function yL(){return typeof window<"u"?window:null}function hI(){return typeof document<"u"?document:null}function _w(n){return new Q$(n,!0)}class qx{constructor(t,e,r=1e3,i=1.5,s=6e4){this.js=t,this.timerId=e,this.lo=r,this.fo=i,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const e=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,e-r);i>0&&ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),t())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class vL{constructor(t,e,r,i,s,c,h,p){this.js=t,this.Ao=r,this.Ro=i,this.bo=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new qx(t,e)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var t=this;return(0,Te.Z)(function*(){t.Do()&&(yield t.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(t){this.Fo(),this.stream.send(t)}Mo(){var t=this;return(0,Te.Z)(function*(){if(t.Co())return t.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(t,e){var r=this;return(0,Te.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==t?r.So.reset():e&&e.code===ye.RESOURCE_EXHAUSTED?(Or(e.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):e&&e.code===ye.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=t,yield r.listener.Jr(e)})()}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),e=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===e&&this.Uo(r,i)},r=>{t(()=>{const i=new Ue(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(t,e){const r=this.Lo(this.Po);this.stream=this.Ko(t,e),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var t=this;this.state=5,this.So.Io((0,Te.Z)(function*(){t.state=0,t.start()}))}qo(t){return ze("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return e=>{this.js.enqueueAndForget(()=>this.Po===t?e():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class l3 extends vL{constructor(t,e,r,i,s,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,i,c),this.wt=s}Ko(t,e){return this.bo.ho("Listen",t,e)}onMessage(t){this.So.reset();const e=function ez(n,t){let e;if("targetChange"in t){const r="NO_CHANGE"===(p=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:mt(),i=t.targetChange.targetIds||[],s=function(p,_){return p.dt?(Bt(void 0===_||"string"==typeof _),ii.fromBase64String(_||"")):(Bt(void 0===_||_ instanceof Uint8Array),ii.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&function(p){const _=void 0===p.code?ye.UNKNOWN:cF(p.code);return new Ue(_,p.message||"")}(c);e=new pF(r,i,s,h||null)}else if("documentChange"in t){const r=t.documentChange,i=Nc(n,r.document.name),s=zi(r.document.updateTime),c=new kt({mapValue:{fields:r.document.fields}}),h=wn.newFoundDocument(i,s,c);e=new XD(r.targetIds||[],r.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const r=t.documentDelete,i=Nc(n,r.document),s=r.readTime?zi(r.readTime):Ft.min(),c=wn.newNoDocument(i,s);e=new XD([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const r=t.documentRemove,i=Nc(n,r.document);e=new XD([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return mt();{const r=t.filter,s=new $$(r.count||0);e=new fF(r.targetId,s)}}var p;return e}(this.wt,t),r=function(i){if(!("targetChange"in i))return Ft.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Ft.min():s.readTime?zi(s.readTime):Ft.min()}(t);return this.listener.Go(e,r)}Qo(t){const e={};e.database=aw(this.wt),e.addTarget=function(i,s){let c;const h=s.target;return c=_h(h)?{documents:DF(i,h)}:{query:IF(i,h)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=yF(i,s.resumeToken):s.snapshotVersion.compareTo(Ft.min())>0&&(c.readTime=sw(i,s.snapshotVersion.toTimestamp())),c}(this.wt,t);const r=function nz(n,t){const e=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return mt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);r&&(e.labels=r),this.Oo(e)}jo(t){const e={};e.database=aw(this.wt),e.removeTarget=t,this.Oo(e)}}class c3 extends vL{constructor(t,e,r,i,s,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,i,c),this.wt=s,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(t,e){return this.bo.ho("Write",t,e)}onMessage(t){if(Bt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const e=function tz(n,t){return n&&n.length>0?(Bt(void 0!==t),n.map(e=>function(r,i){let s=zi(r.updateTime?r.updateTime:i);return s.isEqual(Ft.min())&&(s=zi(i)),new U$(s,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),r=zi(t.commitTime);return this.listener.Jo(r,e)}return Bt(!t.writeResults||0===t.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=aw(this.wt),this.Oo(t)}Ho(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>lw(this.wt,r))};this.Oo(e)}}class u3 extends class{}{constructor(t,e,r,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=r,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new Ue(ye.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,e,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.ro(t,e,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ue(ye.UNKNOWN,i.toString())})}ao(t,e,r,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.bo.ao(t,e,r,s,c,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ue(ye.UNKNOWN,s.toString())})}terminate(){this.Zo=!0}}class d3{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(t){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.cu(),this.eu=0,"Online"===t&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Or(e),this.su=!1):ze("OnlineStateTracker",e)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class h3{constructor(t,e,r,i,s){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(h=>{r.enqueueAndForget((0,Te.Z)(function*(){var p;Dh(c)&&(ze("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,Te.Z)(function*(_){const w=it(_);w.lu.add(4),yield B_(w),w._u.set("Unknown"),w.lu.delete(4),yield yw(w)}),function(_){return p.apply(this,arguments)})(c))}))}),this._u=new d3(r,i)}}function yw(n){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,Te.Z)(function*(n){if(Dh(n))for(const t of n.fu)yield t(!0)}),Yx.apply(this,arguments)}function B_(n){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,Te.Z)(function*(n){for(const t of n.fu)yield t(!1)}),Kx.apply(this,arguments)}function fI(n,t){const e=it(n);e.hu.has(t.targetId)||(e.hu.set(t.targetId,t),Xx(e)?Qx(e):H_(e).Co()&&Zx(e,t))}function vw(n,t){const e=it(n),r=H_(e);e.hu.delete(t),r.Co()&&bL(e,t),0===e.hu.size&&(r.Co()?r.ko():Dh(e)&&e._u.set("Unknown"))}function Zx(n,t){n.wu.Nt(t.targetId),H_(n).Qo(t)}function bL(n,t){n.wu.Nt(t),H_(n).jo(t)}function Qx(n){n.wu=new Y$({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),te:t=>n.hu.get(t)||null}),H_(n).start(),n._u.iu()}function Xx(n){return Dh(n)&&!H_(n).Do()&&n.hu.size>0}function Dh(n){return 0===it(n).lu.size}function wL(n){n.wu=void 0}function f3(n){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,Te.Z)(function*(n){n.hu.forEach((t,e)=>{Zx(n,t)})}),Jx.apply(this,arguments)}function p3(n,t){return ek.apply(this,arguments)}function ek(){return ek=(0,Te.Z)(function*(n,t){wL(n),Xx(n)?(n._u.uu(t),Qx(n)):n._u.set("Unknown")}),ek.apply(this,arguments)}function m3(n,t,e){return tk.apply(this,arguments)}function tk(){return tk=(0,Te.Z)(function*(n,t,e){if(n._u.set("Online"),t instanceof pF&&2===t.state&&t.cause)try{yield(r=(0,Te.Z)(function*(i,s){const c=s.cause;for(const h of s.targetIds)i.hu.has(h)&&(yield i.remoteSyncer.rejectListen(h,c),i.hu.delete(h),i.wu.removeTarget(h))}),function(i,s){return r.apply(this,arguments)})(n,t)}catch(r){ze("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield pI(n,r)}else if(t instanceof XD?n.wu.Ut(t):t instanceof fF?n.wu.zt(t):n.wu.Gt(t),!e.isEqual(Ft.min()))try{const r=yield cL(n.localStore);e.compareTo(r)>=0&&(yield function(i,s){const c=i.wu.Yt(s);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const _=i.hu.get(p);_&&i.hu.set(p,_.withResumeToken(h.resumeToken,s))}}),c.targetMismatches.forEach(h=>{const p=i.hu.get(h);if(!p)return;i.hu.set(h,p.withResumeToken(ii.EMPTY_BYTE_STRING,p.snapshotVersion)),bL(i,h);const _=new wh(p.target,h,1,p.sequenceNumber);Zx(i,_)}),i.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(r){ze("RemoteStore","Failed to raise snapshot:",r),yield pI(n,r)}var r}),tk.apply(this,arguments)}function pI(n,t,e){return nk.apply(this,arguments)}function nk(){return nk=(0,Te.Z)(function*(n,t,e){if(!Rc(t))throw t;n.lu.add(1),yield B_(n),n._u.set("Offline"),e||(e=()=>cL(n.localStore)),n.asyncQueue.enqueueRetryable((0,Te.Z)(function*(){ze("RemoteStore","Retrying IndexedDB access"),yield e(),n.lu.delete(1),yield yw(n)}))}),nk.apply(this,arguments)}function CL(n,t){return t().catch(e=>pI(n,e,t))}function U_(n){return rk.apply(this,arguments)}function rk(){return rk=(0,Te.Z)(function*(n){const t=it(n),e=Ih(t);let r=t.au.length>0?t.au[t.au.length-1].batchId:-1;for(;g3(t);)try{const i=yield e3(t.localStore,r);if(null===i){0===t.au.length&&e.ko();break}r=i.batchId,_3(t,i)}catch(i){yield pI(t,i)}EL(t)&&DL(t)}),rk.apply(this,arguments)}function g3(n){return Dh(n)&&n.au.length<10}function _3(n,t){n.au.push(t);const e=Ih(n);e.Co()&&e.zo&&e.Ho(t.mutations)}function EL(n){return Dh(n)&&!Ih(n).Do()&&n.au.length>0}function DL(n){Ih(n).start()}function y3(n){return ik.apply(this,arguments)}function ik(){return ik=(0,Te.Z)(function*(n){Ih(n).Xo()}),ik.apply(this,arguments)}function v3(n){return sk.apply(this,arguments)}function sk(){return sk=(0,Te.Z)(function*(n){const t=Ih(n);for(const e of n.au)t.Ho(e.mutations)}),sk.apply(this,arguments)}function b3(n,t,e){return ok.apply(this,arguments)}function ok(){return ok=(0,Te.Z)(function*(n,t,e){const r=n.au.shift(),i=Mx.from(r,t,e);yield CL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield U_(n)}),ok.apply(this,arguments)}function w3(n,t){return ak.apply(this,arguments)}function ak(){return ak=(0,Te.Z)(function*(n,t){var e;t&&Ih(n).zo&&(yield(e=(0,Te.Z)(function*(r,i){if(lF(s=i.code)&&s!==ye.ABORTED){const c=r.au.shift();Ih(r).No(),yield CL(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield U_(r)}var s}),function(r,i){return e.apply(this,arguments)})(n,t)),EL(n)&&DL(n)}),ak.apply(this,arguments)}function IL(n,t){return lk.apply(this,arguments)}function lk(){return lk=(0,Te.Z)(function*(n,t){const e=it(n);e.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const r=Dh(e);e.lu.add(3),yield B_(e),r&&e._u.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.lu.delete(3),yield yw(e)}),lk.apply(this,arguments)}function ck(n,t){return uk.apply(this,arguments)}function uk(){return uk=(0,Te.Z)(function*(n,t){const e=it(n);t?(e.lu.delete(2),yield yw(e)):t||(e.lu.add(2),yield B_(e),e._u.set("Unknown"))}),uk.apply(this,arguments)}function H_(n){return n.mu||(n.mu=function(t,e,r){const i=it(t);return i.tu(),new l3(e,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:f3.bind(null,n),Jr:p3.bind(null,n),Go:m3.bind(null,n)}),n.fu.push(function(){var t=(0,Te.Z)(function*(e){e?(n.mu.No(),Xx(n)?Qx(n):n._u.set("Unknown")):(yield n.mu.stop(),wL(n))});return function(e){return t.apply(this,arguments)}}())),n.mu}function Ih(n){return n.gu||(n.gu=function(t,e,r){const i=it(t);return i.tu(),new c3(e,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:y3.bind(null,n),Jr:w3.bind(null,n),Yo:v3.bind(null,n),Jo:b3.bind(null,n)}),n.fu.push(function(){var t=(0,Te.Z)(function*(e){e?(n.gu.No(),yield U_(n)):(yield n.gu.stop(),n.au.length>0&&(ze("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(e){return t.apply(this,arguments)}}())),n.gu}class dk{constructor(t,e,r,i,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,r,i,s){const c=Date.now()+r,h=new dk(t,e,c,i,s);return h.start(r),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ue(ye.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function j_(n,t){if(Or("AsyncQueue",`${t}: ${n}`),Rc(n))return new Ue(ye.UNAVAILABLE,`${t}: ${n}`);throw n}class $_{constructor(t){this.comparator=t?(e,r)=>t(e,r)||et.comparator(e.key,r.key):(e,r)=>et.comparator(e.key,r.key),this.keyedMap=tw(),this.sortedSet=new mr(this.comparator)}static emptySet(t){return new $_(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof $_)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const i=e.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const r=new $_;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class SL{constructor(){this.yu=new mr(et.comparator)}track(t){const e=t.doc.key,r=this.yu.get(e);r?0!==t.type&&3===r.type?this.yu=this.yu.insert(e,t):3===t.type&&1!==r.type?this.yu=this.yu.insert(e,{type:r.type,doc:t.doc}):2===t.type&&2===r.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===r.type?this.yu=this.yu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===r.type?this.yu=this.yu.remove(e):1===t.type&&2===r.type?this.yu=this.yu.insert(e,{type:1,doc:r.doc}):0===t.type&&1===r.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):mt():this.yu=this.yu.insert(e,t)}pu(){const t=[];return this.yu.inorderTraversal((e,r)=>{t.push(r)}),t}}class z_{constructor(t,e,r,i,s,c,h,p){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p}static fromInitialDocuments(t,e,r,i){const s=[];return e.forEach(c=>{s.push({type:0,doc:c})}),new z_(t,e,$_.emptySet(e),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Xb(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==r[i].type||!e[i].doc.isEqual(r[i].doc))return!1;return!0}}class C3{constructor(){this.Iu=void 0,this.listeners=[]}}class E3{constructor(){this.queries=new bh(t=>W1(t),Xb),this.onlineState="Unknown",this.Tu=new Set}}function hk(n,t){return fk.apply(this,arguments)}function fk(){return fk=(0,Te.Z)(function*(n,t){const e=it(n),r=t.query;let i=!1,s=e.queries.get(r);if(s||(i=!0,s=new C3),i)try{s.Iu=yield e.onListen(r)}catch(c){const h=j_(c,`Initialization of query '${wx(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,s),s.listeners.push(t),t.Eu(e.onlineState),s.Iu&&t.Au(s.Iu)&&gk(e)}),fk.apply(this,arguments)}function pk(n,t){return mk.apply(this,arguments)}function mk(){return mk=(0,Te.Z)(function*(n,t){const e=it(n),r=t.query;let i=!1;const s=e.queries.get(r);if(s){const c=s.listeners.indexOf(t);c>=0&&(s.listeners.splice(c,1),i=0===s.listeners.length)}if(i)return e.queries.delete(r),e.onUnlisten(r)}),mk.apply(this,arguments)}function D3(n,t){const e=it(n);let r=!1;for(const i of t){const c=e.queries.get(i.query);if(c){for(const h of c.listeners)h.Au(i)&&(r=!0);c.Iu=i}}r&&gk(e)}function I3(n,t,e){const r=it(n),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(e);r.queries.delete(t)}function gk(n){n.Tu.forEach(t=>{t.next()})}class _k{constructor(t,e,r){this.query=t,this.Ru=e,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)3!==i.type&&r.push(i);t=new z_(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.vu(t)&&(this.Ru.next(t),e=!0):this.Vu(t,this.onlineState)&&(this.Su(t),e=!0),this.Pu=t,e}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let e=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,t)&&(this.Su(this.Pu),e=!0),e}Vu(t,e){return!t.fromCache||!(this.options.Du&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}vu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(t){t=z_.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}class S3{constructor(t,e){this.payload=t,this.byteLength=e}Cu(){return"metadata"in this.payload}}class TL{constructor(t){this.wt=t}Wi(t){return Nc(this.wt,t)}zi(t){return t.metadata.exists?EF(this.wt,t.document,!1):wn.newNoDocument(this.Wi(t.metadata.name),this.Hi(t.metadata.readTime))}Hi(t){return zi(t)}}class T3{constructor(t,e,r){this.xu=t,this.localStore=e,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=AL(t)}Nu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const r=_n.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ku(t){const e=new Map,r=new TL(this.wt);for(const i of t)if(i.metadata.queries){const s=r.Wi(i.metadata.name);for(const c of i.metadata.queries){const h=(e.get(c)||nn()).add(s);e.set(c,h)}}return e}complete(){var t=this;return(0,Te.Z)(function*(){const e=yield function t3(n,t,e,r){return Hx.apply(this,arguments)}(t.localStore,new TL(t.wt),t.documents,t.xu.id),r=t.ku(t.documents);for(const i of t.queries)yield n3(t.localStore,i,r.get(i.name));return t.progress.taskState="Success",{progress:t.progress,Mu:t.collectionGroups,Ou:e}})()}}function AL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class ML{constructor(t){this.key=t}}class xL{constructor(t){this.key=t}}class kL{constructor(t,e){this.query=t,this.Fu=e,this.$u=null,this.current=!1,this.Bu=nn(),this.mutatedKeys=nn(),this.Lu=Y1(t),this.Uu=new $_(this.Lu)}get qu(){return this.Fu}Ku(t,e){const r=e?e.Gu:new SL,i=e?e.Uu:this.Uu;let s=e?e.mutatedKeys:this.mutatedKeys,c=i,h=!1;const p="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,_="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((w,I)=>{const x=i.get(w),L=Cx(this.query,I)?I:null,B=!!x&&this.mutatedKeys.has(x.key),X=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let ve=!1;x&&L?x.data.isEqual(L.data)?B!==X&&(r.track({type:3,doc:L}),ve=!0):this.Qu(x,L)||(r.track({type:2,doc:L}),ve=!0,(p&&this.Lu(L,p)>0||_&&this.Lu(L,_)<0)&&(h=!0)):!x&&L?(r.track({type:0,doc:L}),ve=!0):x&&!L&&(r.track({type:1,doc:x}),ve=!0,(p||_)&&(h=!0)),ve&&(L?(c=c.add(L),s=X?s.add(w):s.delete(w)):(c=c.delete(w),s=s.delete(w)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const w="F"===this.query.limitType?c.last():c.first();c=c.delete(w.key),s=s.delete(w.key),r.track({type:1,doc:w})}return{Uu:c,Gu:r,Mi:h,mutatedKeys:s}}Qu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r){const i=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const s=t.Gu.pu();s.sort((_,w)=>function(I,x){const L=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return L(I)-L(x)}(_.type,w.type)||this.Lu(_.doc,w.doc)),this.ju(r);const c=e?this.Wu():[],h=0===this.Bu.size&&this.current?1:0,p=h!==this.$u;return this.$u=h,0!==s.length||p?{snapshot:new z_(this.query,t.Uu,i,s,t.mutatedKeys,0===h,p,!1),zu:c}:{zu:c}}Eu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new SL,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach(e=>this.Fu=this.Fu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Fu=this.Fu.delete(e)),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=nn(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const e=[];return t.forEach(r=>{this.Bu.has(r)||e.push(new xL(r))}),this.Bu.forEach(r=>{t.has(r)||e.push(new ML(r))}),e}Ju(t){this.Fu=t.ji,this.Bu=nn();const e=this.Ku(t.documents);return this.applyChanges(e,!0)}Yu(){return z_.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class A3{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class M3{constructor(t){this.key=t,this.Xu=!1}}class x3{constructor(t,e,r,i,s,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.Zu={},this.tc=new bh(h=>W1(h),Xb),this.ec=new Map,this.nc=new Set,this.sc=new mr(et.comparator),this.ic=new Map,this.rc=new Px,this.oc={},this.uc=new Map,this.cc=Sp.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function k3(n,t){return yk.apply(this,arguments)}function yk(){return yk=(0,Te.Z)(function*(n,t){const e=Hk(n);let r,i;const s=e.tc.get(t);if(s)r=s.targetId,e.sharedClientState.addLocalQueryTarget(r),i=s.view.Yu();else{const c=yield L_(e.localStore,Mo(t));e.isPrimaryClient&&fI(e.remoteStore,c);const h=e.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield vk(e,t,r,"current"===h)}return i}),yk.apply(this,arguments)}function vk(n,t,e,r){return bk.apply(this,arguments)}function bk(){return bk=(0,Te.Z)(function*(n,t,e,r){n.hc=(w,I,x)=>{return(L=(0,Te.Z)(function*(B,X,ve,Xe){let ut=X.view.Ku(ve);ut.Mi&&(ut=yield cI(B.localStore,X.query,!1).then(({documents:Nt})=>X.view.Ku(Nt,ut)));const Ct=Xe&&Xe.targetChanges.get(X.targetId),gt=X.view.applyChanges(ut,B.isPrimaryClient,Ct);return xk(B,X.targetId,gt.zu),gt.snapshot}),function(B,X,ve,Xe){return L.apply(this,arguments)})(n,w,I,x);var L};const i=yield cI(n.localStore,t,!0),s=new kL(t,i.ji),c=s.Ku(i.documents),h=iw.createSynthesizedTargetChangeForCurrentChange(e,r&&"Offline"!==n.onlineState),p=s.applyChanges(c,n.isPrimaryClient,h);xk(n,e,p.zu);const _=new A3(t,e,s);return n.tc.set(t,_),n.ec.has(e)?n.ec.get(e).push(t):n.ec.set(e,[t]),p.snapshot}),bk.apply(this,arguments)}function R3(n,t){return wk.apply(this,arguments)}function wk(){return wk=(0,Te.Z)(function*(n,t){const e=it(n),r=e.tc.get(t),i=e.ec.get(r.targetId);if(i.length>1)return e.ec.set(r.targetId,i.filter(s=>!Xb(s,t))),void e.tc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(r.targetId),e.sharedClientState.isActiveQueryTarget(r.targetId)||(yield V_(e.localStore,r.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(r.targetId),vw(e.remoteStore,r.targetId),G_(e,r.targetId)}).catch(ma))):(G_(e,r.targetId),yield V_(e.localStore,r.targetId,!0))}),wk.apply(this,arguments)}function Ck(){return Ck=(0,Te.Z)(function*(n,t,e){const r=jk(n);try{const i=yield function(s,c){const h=it(s),p=sr.now(),_=c.reduce((x,L)=>x.add(L.key),nn());let w,I;return h.persistence.runTransaction("Locally write mutations","readwrite",x=>{let L=xo(),B=nn();return h.Ui.getEntries(x,_).next(X=>{L=X,L.forEach((ve,Xe)=>{Xe.isValidDocument()||(B=B.add(ve))})}).next(()=>h.localDocuments.getOverlayedDocuments(x,L)).next(X=>{w=X;const ve=[];for(const Xe of c){const ut=j$(Xe,w.get(Xe.key).overlayedDocument);null!=ut&&ve.push(new Gu(Xe.key,ut,Yn(ut.value.mapValue),Fr.exists(!0)))}return h.mutationQueue.addMutationBatch(x,p,ve,c)}).next(X=>{I=X;const ve=X.applyToLocalDocumentSet(w,B);return h.documentOverlayCache.saveOverlays(x,X.batchId,ve)})}).then(()=>({batchId:I.batchId,changes:dF(w)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,h){let p=s.oc[s.currentUser.toKey()];p||(p=new mr(Zt)),p=p.insert(c,h),s.oc[s.currentUser.toKey()]=p}(r,i.batchId,e),yield Wu(r,i.changes),yield U_(r.remoteStore)}catch(i){const s=j_(i,"Failed to persist write");e.reject(s)}}),Ck.apply(this,arguments)}function RL(n,t){return Ek.apply(this,arguments)}function Ek(){return Ek=(0,Te.Z)(function*(n,t){const e=it(n);try{const r=yield Jz(e.localStore,t);t.targetChanges.forEach((i,s)=>{const c=e.ic.get(s);c&&(Bt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.Xu=!0:i.modifiedDocuments.size>0?Bt(c.Xu):i.removedDocuments.size>0&&(Bt(c.Xu),c.Xu=!1))}),yield Wu(e,r,t)}catch(r){yield ma(r)}}),Ek.apply(this,arguments)}function OL(n,t,e){const r=it(n);if(r.isPrimaryClient&&0===e||!r.isPrimaryClient&&1===e){const i=[];r.tc.forEach((s,c)=>{const h=c.view.Eu(t);h.snapshot&&i.push(h.snapshot)}),function(s,c){const h=it(s);h.onlineState=c;let p=!1;h.queries.forEach((_,w)=>{for(const I of w.listeners)I.Eu(c)&&(p=!0)}),p&&gk(h)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function P3(n,t,e){return Dk.apply(this,arguments)}function Dk(){return Dk=(0,Te.Z)(function*(n,t,e){const r=it(n);r.sharedClientState.updateQueryState(t,"rejected",e);const i=r.ic.get(t),s=i&&i.key;if(s){let c=new mr(et.comparator);c=c.insert(s,wn.newNoDocument(s,Ft.min()));const h=nn().add(s),p=new rw(Ft.min(),new Map,new Fn(Zt),c,h);yield RL(r,p),r.sc=r.sc.remove(s),r.ic.delete(t),kk(r)}else yield V_(r.localStore,t,!1).then(()=>G_(r,t,e)).catch(ma)}),Dk.apply(this,arguments)}function N3(n,t){return Ik.apply(this,arguments)}function Ik(){return Ik=(0,Te.Z)(function*(n,t){const e=it(n),r=t.batch.batchId;try{const i=yield Xz(e.localStore,t);Mk(e,r,null),Ak(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),yield Wu(e,i)}catch(i){yield ma(i)}}),Ik.apply(this,arguments)}function F3(n,t,e){return Sk.apply(this,arguments)}function Sk(){return Sk=(0,Te.Z)(function*(n,t,e){const r=it(n);try{const i=yield function(s,c){const h=it(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return h.mutationQueue.lookupMutationBatch(p,c).next(w=>(Bt(null!==w),_=w.keys(),h.mutationQueue.removeMutationBatch(p,w))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,_,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>h.localDocuments.getDocuments(p,_))})}(r.localStore,t);Mk(r,t,e),Ak(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),yield Wu(r,i)}catch(i){yield ma(i)}}),Sk.apply(this,arguments)}function Tk(){return Tk=(0,Te.Z)(function*(n,t){const e=it(n);Dh(e.remoteStore)||ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const c=it(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>c.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===r)return void t.resolve();const i=e.uc.get(r)||[];i.push(t),e.uc.set(r,i)}catch(r){const i=j_(r,"Initialization of waitForPendingWrites() operation failed");t.reject(i)}}),Tk.apply(this,arguments)}function Ak(n,t){(n.uc.get(t)||[]).forEach(e=>{e.resolve()}),n.uc.delete(t)}function Mk(n,t,e){const r=it(n);let i=r.oc[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(e?s.reject(e):s.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function G_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.ec.get(t))n.tc.delete(r),e&&n.Zu.lc(r,e);n.ec.delete(t),n.isPrimaryClient&&n.rc.us(t).forEach(r=>{n.rc.containsKey(r)||PL(n,r)})}function PL(n,t){n.nc.delete(t.path.canonicalString());const e=n.sc.get(t);null!==e&&(vw(n.remoteStore,e),n.sc=n.sc.remove(t),n.ic.delete(e),kk(n))}function xk(n,t,e){for(const r of e)r instanceof ML?(n.rc.addReference(r.key,t),V3(n,r)):r instanceof xL?(ze("SyncEngine","Document no longer in limbo: "+r.key),n.rc.removeReference(r.key,t),n.rc.containsKey(r.key)||PL(n,r.key)):mt()}function V3(n,t){const e=t.key,r=e.path.canonicalString();n.sc.get(e)||n.nc.has(r)||(ze("SyncEngine","New document in limbo: "+e),n.nc.add(r),kk(n))}function kk(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const t=n.nc.values().next().value;n.nc.delete(t);const e=new et(_n.fromString(t)),r=n.cc.next();n.ic.set(r,new M3(e)),n.sc=n.sc.insert(e,r),fI(n.remoteStore,new wh(Mo(T_(e.path)),r,2,Cs.ot))}}function Wu(n,t,e){return Rk.apply(this,arguments)}function Rk(){return Rk=(0,Te.Z)(function*(n,t,e){const r=it(n),i=[],s=[],c=[];var h;r.tc.isEmpty()||(r.tc.forEach((h,p)=>{c.push(r.hc(p,t,e).then(_=>{if(_){r.isPrimaryClient&&r.sharedClientState.updateQueryState(p.targetId,_.fromCache?"not-current":"current"),i.push(_);const w=Vx.Vi(p.targetId,_);s.push(w)}}))}),yield Promise.all(c),r.Zu.Go(i),yield(h=(0,Te.Z)(function*(p,_){const w=it(p);try{yield w.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>me.forEach(_,x=>me.forEach(x.Pi,L=>w.persistence.referenceDelegate.addReference(I,x.targetId,L)).next(()=>me.forEach(x.vi,L=>w.persistence.referenceDelegate.removeReference(I,x.targetId,L)))))}catch(I){if(!Rc(I))throw I;ze("LocalStore","Failed to update sequence numbers: "+I)}for(const I of _){const x=I.targetId;if(!I.fromCache){const L=w.$i.get(x),X=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);w.$i=w.$i.insert(x,X)}}}),function(p,_){return h.apply(this,arguments)})(r.localStore,s))}),Rk.apply(this,arguments)}function B3(n,t){return Ok.apply(this,arguments)}function Ok(){return Ok=(0,Te.Z)(function*(n,t){const e=it(n);if(!e.currentUser.isEqual(t)){ze("SyncEngine","User change. New user:",t.toKey());const r=yield lL(e.localStore,t);e.currentUser=t,(i=e).uc.forEach(c=>{c.forEach(h=>{h.reject(new Ue(ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.uc.clear(),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),yield Wu(e,r.Ki)}var i}),Ok.apply(this,arguments)}function U3(n,t){const e=it(n),r=e.ic.get(t);if(r&&r.Xu)return nn().add(r.key);{let i=nn();const s=e.ec.get(t);if(!s)return i;for(const c of s){const h=e.tc.get(c);i=i.unionWith(h.view.qu)}return i}}function H3(n,t){return Pk.apply(this,arguments)}function Pk(){return Pk=(0,Te.Z)(function*(n,t){const e=it(n),r=yield cI(e.localStore,t.query,!0),i=t.view.Ju(r);return e.isPrimaryClient&&xk(e,t.targetId,i.zu),i}),Pk.apply(this,arguments)}function j3(n,t){return Nk.apply(this,arguments)}function Nk(){return Nk=(0,Te.Z)(function*(n,t){const e=it(n);return hL(e.localStore,t).then(r=>Wu(e,r))}),Nk.apply(this,arguments)}function $3(n,t,e,r){return Fk.apply(this,arguments)}function Fk(){return Fk=(0,Te.Z)(function*(n,t,e,r){const i=it(n),s=yield function(c,h){const p=it(c),_=it(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",w=>_.yn(w,h).next(I=>I?p.localDocuments.getDocuments(w,I):me.resolve(null)))}(i.localStore,t);var h;null!==s?("pending"===e?yield U_(i.remoteStore):"acknowledged"===e||"rejected"===e?(Mk(i,t,r||null),Ak(i,t),h=t,it(it(i.localStore).mutationQueue).In(h)):mt(),yield Wu(i,s)):ze("SyncEngine","Cannot apply mutation batch with id: "+t)}),Fk.apply(this,arguments)}function Lk(){return Lk=(0,Te.Z)(function*(n,t){const e=it(n);if(Hk(e),jk(e),!0===t&&!0!==e.ac){const r=e.sharedClientState.getAllActiveQueryTargets(),i=yield NL(e,r.toArray());e.ac=!0,yield ck(e.remoteStore,!0);for(const s of i)fI(e.remoteStore,s)}else if(!1===t&&!1!==e.ac){const r=[];let i=Promise.resolve();e.ec.forEach((s,c)=>{e.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(G_(e,c),V_(e.localStore,c,!0))),vw(e.remoteStore,c)}),yield i,yield NL(e,r),function(s){const c=it(s);c.ic.forEach((h,p)=>{vw(c.remoteStore,p)}),c.rc.cs(),c.ic=new Map,c.sc=new mr(et.comparator)}(e),e.ac=!1,yield ck(e.remoteStore,!1)}}),Lk.apply(this,arguments)}function NL(n,t,e){return Vk.apply(this,arguments)}function Vk(){return Vk=(0,Te.Z)(function*(n,t,e){const r=it(n),i=[],s=[];for(const c of t){let h;const p=r.ec.get(c);if(p&&0!==p.length){h=yield L_(r.localStore,Mo(p[0]));for(const _ of p){const w=r.tc.get(_),I=yield H3(r,w);I.snapshot&&s.push(I.snapshot)}}else{const _=yield dL(r.localStore,c);h=yield L_(r.localStore,_),yield vk(r,FL(_),c,!1)}i.push(h)}return r.Zu.Go(s),i}),Vk.apply(this,arguments)}function FL(n){return z1(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function G3(n){const t=it(n);return it(it(t.localStore).persistence).Ri()}function W3(n,t,e,r){return Bk.apply(this,arguments)}function Bk(){return Bk=(0,Te.Z)(function*(n,t,e,r){const i=it(n);if(i.ac)return void ze("SyncEngine","Ignoring unexpected query state notification.");const s=i.ec.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const c=yield hL(i.localStore,q1(s[0])),h=rw.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Wu(i,c,h);break}case"rejected":yield V_(i.localStore,t,!0),G_(i,t,r);break;default:mt()}}),Bk.apply(this,arguments)}function q3(n,t,e){return Uk.apply(this,arguments)}function Uk(){return Uk=(0,Te.Z)(function*(n,t,e){const r=Hk(n);if(r.ac){for(const i of t){if(r.ec.has(i)){ze("SyncEngine","Adding an already active target "+i);continue}const s=yield dL(r.localStore,i),c=yield L_(r.localStore,s);yield vk(r,FL(s),c.targetId,!1),fI(r.remoteStore,c)}for(const i of e)r.ec.has(i)&&(yield V_(r.localStore,i,!1).then(()=>{vw(r.remoteStore,i),G_(r,i)}).catch(ma))}}),Uk.apply(this,arguments)}function Hk(n){const t=it(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=RL.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=U3.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=P3.bind(null,t),t.Zu.Go=D3.bind(null,t.eventManager),t.Zu.lc=I3.bind(null,t.eventManager),t}function jk(n){const t=it(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=N3.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=F3.bind(null,t),t}class LL{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Te.Z)(function*(){e.wt=_w(t.databaseInfo.databaseId),e.sharedClientState=e.dc(t),e.persistence=e._c(t),yield e.persistence.start(),e.localStore=e.wc(t),e.gcScheduler=e.mc(t,e.localStore),e.indexBackfillerScheduler=e.gc(t,e.localStore)})()}mc(t,e){return null}gc(t,e){return null}wc(t){return aL(this.persistence,new oL,t.initialUser,this.wt)}_c(t){return new iL(aI.Os,this.wt)}dc(t){return new gL}terminate(){var t=this;return(0,Te.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class VL extends LL{constructor(t,e,r){super(),this.yc=t,this.cacheSizeBytes=e,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,r=this;return(0,Te.Z)(function*(){yield e().call(r,t),yield r.yc.initialize(r,t),yield jk(r.yc.syncEngine),yield U_(r.yc.remoteStore),yield r.persistence.ci(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(t){return aL(this.persistence,new oL,t.initialUser,this.wt)}mc(t,e){return new Lz(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}gc(t,e){const r=new fx(e,this.persistence);return new zD(t.asyncQueue,r)}_c(t){const e=Lx(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ko.withCacheSize(this.cacheSizeBytes):ko.DEFAULT;return new Fx(this.synchronizeTabs,e,t.clientId,r,t.asyncQueue,yL(),hI(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(t){return new gL}}class K3 extends VL{constructor(t,e){super(t,e,!1),this.yc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,r=this;return(0,Te.Z)(function*(){yield e().call(r,t);const i=r.yc.syncEngine;r.sharedClientState instanceof Wx&&(r.sharedClientState.syncEngine={kr:$3.bind(null,i),Mr:W3.bind(null,i),Or:q3.bind(null,i),Ri:G3.bind(null,i),Nr:j3.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.ci(function(){var s=(0,Te.Z)(function*(c){yield function z3(n,t){return Lk.apply(this,arguments)}(r.yc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}dc(t){const e=yL();if(!Wx.V(e))throw new Ue(ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Lx(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Wx(e,t.asyncQueue,r,t.clientId,t.initialUser)}}class $k{initialize(t,e){var r=this;return(0,Te.Z)(function*(){r.localStore||(r.localStore=t.localStore,r.sharedClientState=t.sharedClientState,r.datastore=r.createDatastore(e),r.remoteStore=r.createRemoteStore(e),r.eventManager=r.createEventManager(e),r.syncEngine=r.createSyncEngine(e,!t.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>OL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=B3.bind(null,r.syncEngine),yield ck(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(t){return new E3}createDatastore(t){const e=_w(t.databaseInfo.databaseId),r=new a3(t.databaseInfo);return new u3(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return e=this.localStore,r=this.datastore,i=t.asyncQueue,s=h=>OL(this.syncEngine,h,0),c=_L.V()?new _L:new r3,new h3(e,r,i,s,c);var e,r,i,s,c}createSyncEngine(t,e){return function(r,i,s,c,h,p,_){const w=new x3(r,i,s,c,h,p);return _&&(w.ac=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Te.Z)(function*(e){const r=it(e);ze("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield B_(r),r.du.shutdown(),r._u.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function BL(n,t=10240){let e=0;return{read:()=>(0,Te.Z)(function*(){if(e<n.byteLength){const r={value:n.slice(e,e+t),done:!1};return e+=t,r}return{done:!0}})(),cancel:()=>(0,Te.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class mI{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ic(this.observer.next,t)}error(t){this.observer.error?this.Ic(this.observer.error,t):Or("Uncaught Error in snapshot listener:",t)}Tc(){this.muted=!0}Ic(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Z3{constructor(t,e){this.Ec=t,this.wt=e,this.metadata=new ri,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ec.cancel()}getMetadata(){var t=this;return(0,Te.Z)(function*(){return t.metadata.promise})()}fc(){var t=this;return(0,Te.Z)(function*(){return yield t.getMetadata(),t.Rc()})()}Rc(){var t=this;return(0,Te.Z)(function*(){const e=yield t.bc();if(null===e)return null;const r=t.Ac.decode(e),i=Number(r);isNaN(i)&&t.Pc(`length string (${r}) is not valid number`);const s=yield t.vc(i);return new S3(JSON.parse(s),e.length+i)})()}Vc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}bc(){var t=this;return(0,Te.Z)(function*(){for(;t.Vc()<0&&!(yield t.Sc()););if(0===t.buffer.length)return null;const e=t.Vc();e<0&&t.Pc("Reached the end of bundle when a length string is expected.");const r=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),r})()}vc(t){var e=this;return(0,Te.Z)(function*(){for(;e.buffer.length<t;)(yield e.Sc())&&e.Pc("Reached the end of bundle when more is expected.");const r=e.Ac.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),r})()}Pc(t){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${t}`)}Sc(){var t=this;return(0,Te.Z)(function*(){const e=yield t.Ec.read();if(!e.done){const r=new Uint8Array(t.buffer.length+e.value.length);r.set(t.buffer),r.set(e.value,t.buffer.length),t.buffer=r}return e.done})()}}class Q3{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Te.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ue(ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Te.Z)(function*(s,c){const h=it(s),p=aw(h.wt)+"/documents",_={documents:c.map(L=>ow(h.wt,L))},w=yield h.ao("BatchGetDocuments",p,_,c.length),I=new Map;w.forEach(L=>{const B=function J$(n,t){return"found"in t?function(e,r){Bt(!!r.found);const i=Nc(e,r.found.name),s=zi(r.found.updateTime),c=new kt({mapValue:{fields:r.found.fields}});return wn.newFoundDocument(i,s,c)}(n,t):"missing"in t?function(e,r){Bt(!!r.missing),Bt(!!r.readTime);const i=Nc(e,r.missing),s=zi(r.readTime);return wn.newNoDocument(i,s)}(n,t):mt()}(h.wt,L);I.set(B.key.toString(),B)});const x=[];return c.forEach(L=>{const B=I.get(L.toString());Bt(!!B),x.push(B)}),x}),function(s,c){return i.apply(this,arguments)})(e.datastore,t);var i;return r.forEach(i=>e.recordVersion(i)),r})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new R_(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Te.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var r;t.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,i)=>{const s=et.fromPath(i);t.mutations.push(new Ex(s,t.precondition(s)))}),yield(r=(0,Te.Z)(function*(i,s){const c=it(i),h=aw(c.wt)+"/documents",p={writes:s.map(_=>lw(c.wt,_))};yield c.ro("Commit",h,p)}),function(i,s){return r.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw mt();e=Ft.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!e.isEqual(r))throw new Ue(ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Fr.updateTime(e):Fr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Ft.min()))throw new Ue(ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fr.updateTime(e)}return Fr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class X3{constructor(t,e,r,i,s){this.asyncQueue=t,this.datastore=e,this.options=r,this.updateFunction=i,this.deferred=s,this.Dc=r.maxAttempts,this.So=new qx(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var t=this;this.So.Io((0,Te.Z)(function*(){const e=new Q3(t.datastore),r=t.xc(e);r&&r.then(i=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(i)}).catch(s=>{t.Nc(s)}))}).catch(i=>{t.Nc(i)})}))}xc(t){try{const e=this.updateFunction(t);return!w_(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Nc(t){this.Dc>0&&this.kc(t)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(t)}kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!lF(e)}return!1}}class J3{constructor(t,e,r,i){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=i,this.user=qn.UNAUTHENTICATED,this.clientId=UD.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Te.Z)(function*(h){ze("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(ze("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,Te.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ue(ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(r){const i=j_(r,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}function UL(n,t){return zk.apply(this,arguments)}function zk(){return zk=(0,Te.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(function(){var i=(0,Te.Z)(function*(s){r.isEqual(s)||(yield lL(t.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),zk.apply(this,arguments)}function HL(n,t){return Gk.apply(this,arguments)}function Gk(){return Gk=(0,Te.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield Wk(n);ze("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield t.initialize(e,r),n.setCredentialChangeListener(i=>IL(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>IL(t.remoteStore,s)),n.onlineComponents=t}),Gk.apply(this,arguments)}function Wk(n){return qk.apply(this,arguments)}function qk(){return qk=(0,Te.Z)(function*(n){return n.offlineComponents||(ze("FirestoreClient","Using default OfflineComponentProvider"),yield UL(n,new LL)),n.offlineComponents}),qk.apply(this,arguments)}function gI(n){return Yk.apply(this,arguments)}function Yk(){return Yk=(0,Te.Z)(function*(n){return n.onlineComponents||(ze("FirestoreClient","Using default OnlineComponentProvider"),yield HL(n,new $k)),n.onlineComponents}),Yk.apply(this,arguments)}function jL(n){return Wk(n).then(t=>t.persistence)}function _I(n){return Wk(n).then(t=>t.localStore)}function $L(n){return gI(n).then(t=>t.remoteStore)}function Kk(n){return gI(n).then(t=>t.syncEngine)}function W_(n){return Zk.apply(this,arguments)}function Zk(){return Zk=(0,Te.Z)(function*(n){const t=yield gI(n),e=t.eventManager;return e.onListen=k3.bind(null,t.syncEngine),e.onUnlisten=R3.bind(null,t.syncEngine),e}),Zk.apply(this,arguments)}function zL(n,t,e={}){const r=new ri;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(i,s,c,h,p){const _=new mI({next:I=>{s.enqueueAndForget(()=>pk(i,w));const x=I.docs.has(c);!x&&I.fromCache?p.reject(new Ue(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&I.fromCache&&h&&"server"===h.source?p.reject(new Ue(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(I)},error:I=>p.reject(I)}),w=new _k(T_(c.path),_,{includeMetadataChanges:!0,Du:!0});return hk(i,w)}(yield W_(n),n.asyncQueue,t,e,r)})),r.promise}function GL(n,t,e={}){const r=new ri;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(i,s,c,h,p){const _=new mI({next:I=>{s.enqueueAndForget(()=>pk(i,w)),I.fromCache&&"server"===h.source?p.reject(new Ue(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(I)},error:I=>p.reject(I)}),w=new _k(c,_,{includeMetadataChanges:!0,Du:!0});return hk(i,w)}(yield W_(n),n.asyncQueue,t,e,r)})),r.promise}const WL=new Map;function Qk(n,t,e){if(!e)throw new Ue(ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function qL(n,t,e,r){if(!0===t&&!0===r)throw new Ue(ye.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function YL(n){if(!et.isDocumentKey(n))throw new Ue(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function KL(n){if(et.isDocumentKey(n))throw new Ue(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function yI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":mt()}function yn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ue(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=yI(n);throw new Ue(ye.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function ZL(n,t){if(t<=0)throw new Ue(ye.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class QL{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ue(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ue(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,qL("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bw{constructor(t,e,r){this._authCredentials=e,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QL({}),this._settingsFrozen=!1,t instanceof Oc?this._databaseId=t:(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Ue(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oc(i.options.projectId)}(t))}get app(){if(!this._app)throw new Ue(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ue(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QL(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new ND;switch(e.type){case"gapi":const r=e.client;return Bt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new LD(r,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ue(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=WL.get(t);e&&(ze("ComponentProvider","Removing Datastore"),WL.delete(t),e.terminate())}(this),Promise.resolve()}}class gr{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new gr(this.firestore,t,this._key)}}class Es{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Es(this.firestore,t,this._query)}}class Lc extends Es{constructor(t,e,r){super(t,e,T_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new gr(this.firestore,null,new et(t))}withConverter(t){return new Lc(this.firestore,t,this._path)}}function XL(n,t,...e){if(n=(0,re.m9)(n),Qk("collection","path",t),n instanceof bw){const r=_n.fromString(t,...e);return KL(r),new Lc(n,null,r)}{if(!(n instanceof gr||n instanceof Lc))throw new Ue(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_n.fromString(t,...e));return KL(r),new Lc(n.firestore,null,r)}}function vI(n,t,...e){if(n=(0,re.m9)(n),1===arguments.length&&(t=UD.I()),Qk("doc","path",t),n instanceof bw){const r=_n.fromString(t,...e);return YL(r),new gr(n,null,new et(r))}{if(!(n instanceof gr||n instanceof Lc))throw new Ue(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_n.fromString(t,...e));return YL(r),new gr(n.firestore,n instanceof Lc?n.converter:null,new et(r))}}function JL(n,t){return n=(0,re.m9)(n),t=(0,re.m9)(t),(n instanceof gr||n instanceof Lc)&&(t instanceof gr||t instanceof Lc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function eV(n,t){return n=(0,re.m9)(n),t=(0,re.m9)(t),n instanceof Es&&t instanceof Es&&n.firestore===t.firestore&&Xb(n._query,t._query)&&n.converter===t.converter}class uG{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new qx(this,"async_queue_retry"),this.Kc=()=>{const e=hI();e&&ze("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const t=hI();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Gc(),this.Qc(t)}enterRestrictedMode(t){if(!this.Fc){this.Fc=!0,this.Uc=t||!1;const e=hI();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Kc)}}enqueue(t){if(this.Gc(),this.Fc)return new Promise(()=>{});const e=new ri;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Oc.push(t),this.jc()))}jc(){var t=this;return(0,Te.Z)(function*(){if(0!==t.Oc.length){try{yield t.Oc[0](),t.Oc.shift(),t.So.reset()}catch(e){if(!Rc(e))throw e;ze("AsyncQueue","Operation failed with retryable error: "+e)}t.Oc.length>0&&t.So.Io(()=>t.jc())}})()}Qc(t){const e=this.Mc.then(()=>(this.Lc=!0,t().catch(r=>{throw this.Bc=r,this.Lc=!1,Or("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Mc=e,e}enqueueAfterDelay(t,e,r){this.Gc(),this.qc.indexOf(t)>-1&&(e=0);const i=dk.createAndSchedule(this,t,e,r,s=>this.Wc(s));return this.$c.push(i),i}Gc(){this.Bc&&mt()}verifyOperationInProgress(){}zc(){var t=this;return(0,Te.Z)(function*(){let e;do{e=t.Mc,yield e}while(e!==t.Mc)})()}Hc(t){for(const e of this.$c)if(e.timerId===t)return!0;return!1}Jc(t){return this.zc().then(()=>{this.$c.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.$c)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.zc()})}Yc(t){this.qc.push(t)}Wc(t){const e=this.$c.indexOf(t);this.$c.splice(e,1)}}function Xk(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const r=t;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class dG{constructor(){this._progressObserver={},this._taskCompletionResolver=new ri,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,r){this._progressObserver={next:t,error:e,complete:r}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Sr extends bw{constructor(t,e,r){super(t,e,r),this.type="firestore",this._queue=new uG,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||tV(this),this._firestoreClient.terminate()}}function fG(n=(0,ns.getApp)()){return(0,ns._getProvider)(n,"firestore").getImmediate()}function gi(n){return n._firestoreClient||tV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function tV(n){var t;const e=n._freezeSettings(),r=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new U1(n._databaseId,s,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var s,h;n._firestoreClient=new J3(n._authCredentials,n._appCheckCredentials,n._queue,r)}function nV(n,t,e){const r=new ri;return n.asyncQueue.enqueue((0,Te.Z)(function*(){try{yield UL(n,e),yield HL(n,t),r.resolve()}catch(i){const s=i;if(!("FirebaseError"===(c=s).name?c.code===ye.FAILED_PRECONDITION||c.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw s;kc("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}var c})).then(()=>r.promise)}function rV(n){if(n._initialized||n._terminated)throw new Ue(ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class qu{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ue(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Vc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vc(ii.fromBase64String(t))}catch(e){throw new Ue(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Vc(ii.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Ap{constructor(t){this._methodName=t}}class bI{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ue(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ue(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Zt(this._lat,t._lat)||Zt(this._long,t._long)}}const CG=/^__.*__$/;class EG{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return null!==this.fieldMask?new Gu(t,this.data,this.fieldMask,e,this.fieldTransforms):new k_(t,this.data,e,this.fieldTransforms)}}class iV{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Gu(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function sV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class wI{constructor(t,e,r,i,s,c){this.settings=t,this.databaseId=e,this.wt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Xc(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(t){return new wI(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.ta({path:r,na:!1});return i.sa(t),i}ia(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.ta({path:r,na:!1});return i.Xc(),i}ra(t){return this.ta({path:void 0,na:!0})}oa(t){return DI(t,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.sa(this.path.get(t))}sa(t){if(0===t.length)throw this.oa("Document fields must not be empty");if(sV(this.Zc)&&CG.test(t))throw this.oa('Document fields cannot begin and end with "__"')}}class DG{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.wt=r||_w(t)}aa(t,e,r,i=!1){return new wI({Zc:t,methodName:e,ca:r,path:Pr.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Mp(n){const t=n._freezeSettings(),e=_w(n._databaseId);return new DG(n._databaseId,!!t.ignoreUndefinedProperties,e)}function CI(n,t,e,r,i,s={}){const c=n.aa(s.merge||s.mergeFields?2:0,t,e,i);nR("Data must be an object, but it was:",c,r);const h=lV(r,c);let p,_;if(s.merge)p=new Gs(c.fieldMask),_=c.fieldTransforms;else if(s.mergeFields){const w=[];for(const I of s.mergeFields){const x=rR(t,I,e);if(!c.contains(x))throw new Ue(ye.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);uV(w,x)||w.push(x)}p=new Gs(w),_=c.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,_=c.fieldTransforms;return new EG(new kt(h),p,_)}class ww extends Ap{_toFieldTransform(t){if(2!==t.Zc)throw t.oa(1===t.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ww}}function oV(n,t,e){return new wI({Zc:3,ca:t.settings.ca,methodName:n._methodName,na:e},t.databaseId,t.wt,t.ignoreUndefinedProperties)}class Jk extends Ap{_toFieldTransform(t){return new Jb(t.path,new M_)}isEqual(t){return t instanceof Jk}}class IG extends Ap{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=oV(this,t,!0),r=this.ha.map(s=>xp(s,e)),i=new yp(r);return new Jb(t.path,i)}isEqual(t){return this===t}}class SG extends Ap{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=oV(this,t,!0),r=this.ha.map(s=>xp(s,e)),i=new vp(r);return new Jb(t.path,i)}isEqual(t){return this===t}}class TG extends Ap{constructor(t,e){super(t),this.la=e}_toFieldTransform(t){const e=new x_(t.wt,Q1(t.wt,this.la));return new Jb(t.path,e)}isEqual(t){return this===t}}function eR(n,t,e,r){const i=n.aa(1,t,e);nR("Data must be an object, but it was:",i,r);const s=[],c=kt.empty();Bl(r,(p,_)=>{const w=EI(t,p,e);_=(0,re.m9)(_);const I=i.ia(w);if(_ instanceof ww)s.push(w);else{const x=xp(_,I);null!=x&&(s.push(w),c.set(w,x))}});const h=new Gs(s);return new iV(c,h,i.fieldTransforms)}function tR(n,t,e,r,i,s){const c=n.aa(1,t,e),h=[rR(t,r,e)],p=[i];if(s.length%2!=0)throw new Ue(ye.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<s.length;x+=2)h.push(rR(t,s[x])),p.push(s[x+1]);const _=[],w=kt.empty();for(let x=h.length-1;x>=0;--x)if(!uV(_,h[x])){const L=h[x];let B=p[x];B=(0,re.m9)(B);const X=c.ia(L);if(B instanceof ww)_.push(L);else{const ve=xp(B,X);null!=ve&&(_.push(L),w.set(L,ve))}}const I=new Gs(_);return new iV(w,I,c.fieldTransforms)}function aV(n,t,e,r=!1){return xp(e,n.aa(r?4:3,t))}function xp(n,t){if(cV(n=(0,re.m9)(n)))return nR("Unsupported field value:",t,n),lV(n,t);if(n instanceof Ap)return function(e,r){if(!sV(r.Zc))throw r.oa(`${e._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${e._methodName}() is not currently supported inside arrays`);const i=e._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,r){const i=[];let s=0;for(const c of e){let h=xp(c,r.ra(s));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),s++}return{arrayValue:{values:i}}}(n,t)}return function(e,r){if(null===(e=(0,re.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Q1(r.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const i=sr.fromDate(e);return{timestampValue:sw(r.wt,i)}}if(e instanceof sr){const i=new sr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:sw(r.wt,i)}}if(e instanceof bI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Vc)return{bytesValue:yF(r.wt,e._byteString)};if(e instanceof gr){const i=r.databaseId,s=e.firestore._databaseId;if(!s.isEqual(i))throw r.oa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Dx(e.firestore._databaseId||r.databaseId,e._key.path)}}throw r.oa(`Unsupported field value: ${yI(e)}`)}(n,t)}function lV(n,t){const e={};return px(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bl(n,(r,i)=>{const s=xp(i,t.ea(r));null!=s&&(e[r]=s)}),{mapValue:{fields:e}}}function cV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof sr||n instanceof bI||n instanceof Vc||n instanceof gr||n instanceof Ap)}function nR(n,t,e){if(!cV(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=yI(e);throw t.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function rR(n,t,e){if((t=(0,re.m9)(t))instanceof qu)return t._internalPath;if("string"==typeof t)return EI(n,t);throw DI("Field path arguments must be of type string or ",n,!1,void 0,e)}const AG=new RegExp("[~\\*/\\[\\]]");function EI(n,t,e){if(t.search(AG)>=0)throw DI(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new qu(...t.split("."))._internalPath}catch{throw DI(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function DI(n,t,e,r,i){const s=r&&!r.isEmpty(),c=void 0!==i;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(s||c)&&(p+=" (found",s&&(p+=` in field ${r}`),c&&(p+=` in document ${i}`),p+=")"),new Ue(ye.INVALID_ARGUMENT,h+n+p)}function uV(n,t){return n.some(e=>e.isEqual(t))}class Cw{constructor(t,e,r,i,s){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new gr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new MG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(II("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class MG extends Cw{data(){return super.data()}}function II(n,t){return"string"==typeof t?EI(n,t):t instanceof qu?t._internalPath:t._delegate._internalPath}class kp{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Yu extends Cw{constructor(t,e,r,i,s,c){super(t,e,r,i,c),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Ew(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(II("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class Ew extends Yu{data(t={}){return super.data(t)}}class Sh{constructor(t,e,r,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new kp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new Ew(this._firestore,this._userDataWriter,r.key,r,new kp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ue(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new Ew(r._firestore,r._userDataWriter,c.doc.key,c.doc,new kp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const h=new Ew(r._firestore,r._userDataWriter,c.doc.key,c.doc,new kp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let p=-1,_=-1;return 0!==c.type&&(p=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),_=s.indexOf(c.doc.key)),{type:xG(c.type),doc:h,oldIndex:p,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function xG(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}function dV(n,t){return n instanceof Yu&&t instanceof Yu?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Sh&&t instanceof Sh&&n._firestore===t._firestore&&eV(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function hV(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ue(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dw{}function Th(n,...t){for(const e of t)n=e._apply(n);return n}class kG extends Dw{constructor(t,e,r){super(),this.fa=t,this.da=e,this._a=r,this.type="where"}_apply(t){const e=Mp(t.firestore),r=function(i,s,c,h,p,_,w){let I;if(p.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new Ue(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){yV(w,_);const L=[];for(const B of w)L.push(_V(h,i,B));I={arrayValue:{values:L}}}else I=_V(h,i,w)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||yV(w,_),I=aV(c,"where",w,"in"===_||"not-in"===_);const x=os.create(p,_,I);return function(L,B){if(B.ht()){const ve=vx(L);if(null!==ve&&!ve.isEqual(B.field))throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ve.toString()}' and '${B.field.toString()}'`);const Xe=yx(L);null!==Xe&&vV(0,B.field,Xe)}const X=function(ve,Xe){for(const ut of ve.filters)if(Xe.indexOf(ut.op)>=0)return ut.op;return null}(L,function(ve){switch(ve){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(B.op));if(null!==X)throw new Ue(ye.INVALID_ARGUMENT,X===B.op?`Invalid query. You cannot use more than one '${B.op.toString()}' filter.`:`Invalid query. You cannot use '${B.op.toString()}' filters with '${X.toString()}' filters.`)}(i,x),x}(t._query,0,e,t.firestore._databaseId,this.fa,this.da,this._a);return new Es(t.firestore,t.converter,function(i,s){const c=i.filters.concat([s]);return new zu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(t._query,r))}}class OG extends Dw{constructor(t,e){super(),this.fa=t,this.wa=e,this.type="orderBy"}_apply(t){const e=function(r,i,s){if(null!==r.startAt)throw new Ue(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ue(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new S_(i,s);return function(h,p){if(null===yx(h)){const _=vx(h);null!==_&&vV(0,_,p.field)}}(r,c),c}(t._query,this.fa,this.wa);return new Es(t.firestore,t.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new zu(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class fV extends Dw{constructor(t,e,r){super(),this.type=t,this.ma=e,this.ga=r}_apply(t){return new Es(t.firestore,t.converter,qD(t._query,this.ma,this.ga))}}class pV extends Dw{constructor(t,e,r){super(),this.type=t,this.ya=e,this.pa=r}_apply(t){const e=gV(t,this.type,this.ya,this.pa);return new Es(t.firestore,t.converter,(i=e,new zu((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class mV extends Dw{constructor(t,e,r){super(),this.type=t,this.ya=e,this.pa=r}_apply(t){const e=gV(t,this.type,this.ya,this.pa);return new Es(t.firestore,t.converter,(i=e,new zu((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function gV(n,t,e,r){if(e[0]=(0,re.m9)(e[0]),e[0]instanceof Cw)return function(i,s,c,h,p){if(!h)throw new Ue(ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const _=[];for(const w of A_(i))if(w.field.isKeyField())_.push(M(s,h.key));else{const I=h.data.field(w.field);if(GD(I))throw new Ue(ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const x=w.field.canonicalString();throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}_.push(I)}return new vh(_,p)}(n._query,n.firestore._databaseId,t,e[0]._document,r);{const i=Mp(n.firestore);return function(s,c,h,p,_,w){const I=s.explicitOrderBy;if(_.length>I.length)throw new Ue(ye.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let L=0;L<_.length;L++){const B=_[L];if(I[L].field.isKeyField()){if("string"!=typeof B)throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof B}`);if(!bx(s)&&-1!==B.indexOf("/"))throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${B}' contains a slash.`);const X=s.path.child(_n.fromString(B));if(!et.isDocumentKey(X))throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${X}' is not because it contains an odd number of segments.`);const ve=new et(X);x.push(M(c,ve))}else{const X=aV(h,p,B);x.push(X)}}return new vh(x,w)}(n._query,n.firestore._databaseId,i,t,e,r)}}function _V(n,t,e){if("string"==typeof(e=(0,re.m9)(e))){if(""===e)throw new Ue(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bx(t)&&-1!==e.indexOf("/"))throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(_n.fromString(e));if(!et.isDocumentKey(r))throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return M(n,new et(r))}if(e instanceof gr)return M(n,e._key);throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yI(e)}.`)}function yV(n,t){if(!Array.isArray(n)||0===n.length)throw new Ue(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Ue(ye.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function vV(n,t,e){if(!e.isEqual(t))throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const HG={maxAttempts:5};class iR{convertValue(t,e="none"){switch(l(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Nr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(gh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw mt()}}convertObject(t,e){const r={};return Bl(t.fields,(i,s)=>{r[i]=this.convertValue(s,e)}),r}convertGeoPoint(t){return new bI(Nr(t.latitude),Nr(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=WD(t);return null==r?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(b_(t));default:return null}}convertTimestamp(t){const e=ju(t);return new sr(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=_n.fromString(t);Bt(AF(r));const i=new Oc(r.get(1),r.get(3)),s=new et(r.popFirst(5));return i.isEqual(e)||Or(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function SI(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class jG extends iR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new gr(this.firestore,null,e)}}class bV{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Mp(t)}set(t,e,r){this._verifyNotCommitted();const i=Ah(t,this._firestore),s=SI(i.converter,e,r),c=CI(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Fr.none())),this}update(t,e,r,...i){this._verifyNotCommitted();const s=Ah(t,this._firestore);let c;return c="string"==typeof(e=(0,re.m9)(e))||e instanceof qu?tR(this._dataReader,"WriteBatch.update",s._key,e,r,i):eR(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(c.toMutation(s._key,Fr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Ah(t,this._firestore);return this._mutations=this._mutations.concat(new R_(e._key,Fr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ue(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ah(n,t){if((n=(0,re.m9)(n)).firestore!==t)throw new Ue(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Rp extends iR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new gr(this.firestore,null,e)}}function wV(n,t,e){n=yn(n,gr);const r=yn(n.firestore,Sr),i=SI(n.converter,t,e);return q_(r,[CI(Mp(r),"setDoc",n._key,i,null!==n.converter,e).toMutation(n._key,Fr.none())])}function CV(n,t,e,...r){n=yn(n,gr);const i=yn(n.firestore,Sr),s=Mp(i);let c;return c="string"==typeof(t=(0,re.m9)(t))||t instanceof qu?tR(s,"updateDoc",n._key,t,e,r):eR(s,"updateDoc",n._key,t),q_(i,[c.toMutation(n._key,Fr.exists(!0))])}function EV(n,...t){var e,r,i;n=(0,re.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||Xk(t[c])||(s=t[c],c++);const h={includeMetadataChanges:s.includeMetadataChanges};if(Xk(t[c])){const I=t[c];t[c]=null===(e=I.next)||void 0===e?void 0:e.bind(I),t[c+1]=null===(r=I.error)||void 0===r?void 0:r.bind(I),t[c+2]=null===(i=I.complete)||void 0===i?void 0:i.bind(I)}let p,_,w;if(n instanceof gr)_=yn(n.firestore,Sr),w=T_(n._key.path),p={next:I=>{t[c]&&t[c](sR(_,n,I))},error:t[c+1],complete:t[c+2]};else{const I=yn(n,Es);_=yn(I.firestore,Sr),w=I._query;const x=new Rp(_);p={next:L=>{t[c]&&t[c](new Sh(_,x,I,L))},error:t[c+1],complete:t[c+2]},hV(n._query)}return function(I,x,L,B){const X=new mI(B),ve=new _k(x,X,L);return I.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return hk(yield W_(I),ve)})),()=>{X.Tc(),I.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return pk(yield W_(I),ve)}))}}(gi(_),w,h,p)}function q_(n,t){return function(e,r){const i=new ri;return e.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function O3(n,t,e){return Ck.apply(this,arguments)}(yield Kk(e),r,i)})),i.promise}(gi(n),t)}function sR(n,t,e){const r=e.docs.get(t._key),i=new Rp(n);return new Yu(n,i,t._key,r,new kp(e.hasPendingWrites,e.fromCache),t.converter)}class XG extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Mp(t)}get(t){const e=Ah(t,this._firestore),r=new jG(this._firestore);return this._transaction.lookup([e._key]).then(i=>{if(!i||1!==i.length)return mt();const s=i[0];if(s.isFoundDocument())return new Cw(this._firestore,r,s.key,s,e.converter);if(s.isNoDocument())return new Cw(this._firestore,r,e._key,null,e.converter);throw mt()})}set(t,e,r){const i=Ah(t,this._firestore),s=SI(i.converter,e,r),c=CI(this._dataReader,"Transaction.set",i._key,s,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(t,e,r,...i){const s=Ah(t,this._firestore);let c;return c="string"==typeof(e=(0,re.m9)(e))||e instanceof qu?tR(this._dataReader,"Transaction.update",s._key,e,r,i):eR(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,c),this}delete(t){const e=Ah(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Ah(t,this._firestore),r=new Rp(this._firestore);return super.get(t).then(i=>new Yu(this._firestore,r,e._key,i._document,new kp(!1,!1),e.converter))}}function oR(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ue("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function IV(){if(typeof Uint8Array>"u")throw new Ue("unimplemented","Uint8Arrays are not available in this environment.")}function SV(){if(!function gx(){return typeof atob<"u"}())throw new Ue("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){ph=ns.SDK_VERSION,(0,ns._registerComponent)(new rh.wA("firestore",(e,{options:r})=>{const i=e.getProvider("app").getImmediate(),s=new Sr(i,new f_(e.getProvider("auth-internal")),new BD(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),s._setSettings(r),s},"PUBLIC")),(0,ns.registerVersion)(h_,"3.4.14",n),(0,ns.registerVersion)(h_,"3.4.14","esm2017")}();class Iw{constructor(t){this._delegate=t}static fromBase64String(t){return SV(),new Iw(Vc.fromBase64String(t))}static fromUint8Array(t){return IV(),new Iw(Vc.fromUint8Array(t))}toBase64(){return SV(),this._delegate.toBase64()}toUint8Array(){return IV(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function aR(n){return function aW(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const r of t)if(r in e&&"function"==typeof e[r])return!0;return!1}(n,["next","error","complete"])}class lW{enableIndexedDbPersistence(t,e){return function pG(n,t){rV(n=yn(n,Sr));const e=gi(n),r=n._freezeSettings(),i=new $k;return nV(e,i,new VL(i,r.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function mG(n){rV(n=yn(n,Sr));const t=gi(n),e=n._freezeSettings(),r=new $k;return nV(t,r,new K3(r,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function gG(n){if(n._initialized&&!n._terminated)throw new Ue(ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new ri;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{yield(e=(0,Te.Z)(function*(r){if(!Za.V())return Promise.resolve();const i=r+"main";yield Za.delete(i)}),function(r){return e.apply(this,arguments)})(Lx(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class TV{constructor(t,e,r){this._delegate=e,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},t instanceof Oc||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&kc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,r={}){!function lG(n,t,e,r={}){var i;const s=(n=yn(n,bw))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&kc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),r.mockUserToken){let c,h;if("string"==typeof r.mockUserToken)c=r.mockUserToken,h=qn.MOCK_USER;else{c=(0,re.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Ue(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new qn(p)}n._authCredentials=new FD(new PD(c,h))}}(this._delegate,t,e,r)}enableNetwork(){return function yG(n){return function eG(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const t=yield jL(n),e=yield $L(n);return t.setNetworkEnabled(!0),function(r){const i=it(r);return i.lu.delete(0),yw(i)}(e)}))}(gi(n=yn(n,Sr)))}(this._delegate)}disableNetwork(){return function vG(n){return function tG(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const t=yield jL(n),e=yield $L(n);return t.setNetworkEnabled(!1),(r=(0,Te.Z)(function*(i){const s=it(i);s.lu.add(0),yield B_(s),s._u.set("Offline")}),function(i){return r.apply(this,arguments)})(e);var r}))}(gi(n=yn(n,Sr)))}(this._delegate)}enablePersistence(t){let e=!1,r=!1;return t&&(e=!!t.synchronizeTabs,r=!!t.experimentalForceOwningTab,qL("synchronizeTabs",e,"experimentalForceOwningTab",r)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function _G(n){return function(t){const e=new ri;return t.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function L3(n,t){return Tk.apply(this,arguments)}(yield Kk(t),e)})),e.promise}(gi(n=yn(n,Sr)))}(this._delegate)}onSnapshotsInSync(t){return function QG(n,t){return function iG(n,t){const e=new mI(t);return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return r=yield W_(n),i=e,it(r).Tu.add(i),void i.next();var r,i})),()=>{e.Tc(),n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return r=yield W_(n),i=e,void it(r).Tu.delete(i);var r,i}))}}(gi(n=yn(n,Sr)),Xk(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ue("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Y_(this,XL(this._delegate,t))}catch(e){throw qs(e,"collection()","Firestore.collection()")}}doc(t){try{return new Qa(this,vI(this._delegate,t))}catch(e){throw qs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ys(this,function cG(n,t){if(n=yn(n,bw),Qk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ue(ye.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Es(n,null,(e=t,new zu(_n.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw qs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function JG(n,t,e){n=yn(n,Sr);const r=Object.assign(Object.assign({},HG),e);return function(i){if(i.maxAttempts<1)throw new Ue(ye.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function sG(n,t,e){const r=new ri;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){const i=yield(s=n,gI(s).then(c=>c.datastore));var s;new X3(n.asyncQueue,i,e,t,r).run()})),r.promise}(gi(n),i=>t(new XG(n,i)),r)}(this._delegate,e=>t(new AV(this,e)))}batch(){return gi(this._delegate),new MV(new bV(this._delegate,t=>q_(this._delegate,t)))}loadBundle(t){return function bG(n,t){const e=gi(n=yn(n,Sr)),r=new dG;return function oG(n,t,e,r){const i=function(s,c){let h;return h="string"==typeof s?(new TextEncoder).encode(s):s,p=function(p,_){if(p instanceof Uint8Array)return BL(p,_);if(p instanceof ArrayBuffer)return BL(new Uint8Array(p),_);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new Z3(p,c);var p}(e,_w(t));n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){!function Y3(n,t,e){const r=it(n);var i;(i=(0,Te.Z)(function*(s,c,h){try{const p=yield c.getMetadata();if(yield function(x,L){const B=it(x),X=zi(L.createTime);return B.persistence.runTransaction("hasNewerBundle","readonly",ve=>B.Ds.getBundleMetadata(ve,L.id)).then(ve=>!!ve&&ve.createTime.compareTo(X)>=0)}(s.localStore,p))return yield c.close(),h._completeWith({taskState:"Success",documentsLoaded:(x=p).totalDocuments,bytesLoaded:x.totalBytes,totalDocuments:x.totalDocuments,totalBytes:x.totalBytes}),Promise.resolve(new Set);h._updateProgress(AL(p));const _=new T3(p,s.localStore,c.wt);let w=yield c.fc();for(;w;){const x=yield _.Nu(w);x&&h._updateProgress(x),w=yield c.fc()}const I=yield _.complete();return yield Wu(s,I.Ou,void 0),yield function(x,L){const B=it(x);return B.persistence.runTransaction("Save bundle","readwrite",X=>B.Ds.saveBundleMetadata(X,L))}(s.localStore,p),h._completeWith(I.progress),Promise.resolve(I.Mu)}catch(p){return kc("SyncEngine",`Loading bundle failed with ${p}`),h._failWith(p),Promise.resolve(new Set)}var x}),function(s,c,h){return i.apply(this,arguments)})(r,t,e).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield Kk(n),i,r)}))}(e,n._databaseId,t,r),r}(this._delegate,t)}namedQuery(t){return function wG(n,t){return function aG(n,t){return n.asyncQueue.enqueue((0,Te.Z)(function*(){return function(e,r){const i=it(e);return i.persistence.runTransaction("Get named query","readonly",s=>i.Ds.getNamedQuery(s,r))}(yield _I(n),t)}))}(gi(n=yn(n,Sr)),t).then(e=>e?new Es(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Ys(this,e):null)}}class TI extends iR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Iw(new Vc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Qa.forKey(e,this.firestore,null)}}class AV{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new TI(t)}get(t){const e=Pp(t);return this._delegate.get(e).then(r=>new Sw(this._firestore,new Yu(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,e.converter)))}set(t,e,r){const i=Pp(t);return r?(oR("Transaction.set",r),this._delegate.set(i,e,r)):this._delegate.set(i,e),this}update(t,e,r,...i){const s=Pp(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,r,...i),this}delete(t){const e=Pp(t);return this._delegate.delete(e),this}}class MV{constructor(t){this._delegate=t}set(t,e,r){const i=Pp(t);return r?(oR("WriteBatch.set",r),this._delegate.set(i,e,r)):this._delegate.set(i,e),this}update(t,e,r,...i){const s=Pp(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,r,...i),this}delete(t){const e=Pp(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Op{constructor(t,e,r){this._firestore=t,this._userDataWriter=e,this._delegate=r}fromFirestore(t,e){const r=new Ew(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Tw(this._firestore,r),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const r=Op.INSTANCES;let i=r.get(t);i||(i=new WeakMap,r.set(t,i));let s=i.get(e);return s||(s=new Op(t,new TI(t),e),i.set(e,s)),s}}Op.INSTANCES=new WeakMap;class Qa{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new TI(t)}static forPath(t,e,r){if(t.length%2!=0)throw new Ue("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Qa(e,new gr(e._delegate,r,new et(t)))}static forKey(t,e,r){return new Qa(e,new gr(e._delegate,r,t))}get id(){return this._delegate.id}get parent(){return new Y_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Y_(this.firestore,XL(this._delegate,t))}catch(e){throw qs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,re.m9)(t))instanceof gr&&JL(this._delegate,t)}set(t,e){e=oR("DocumentReference.set",e);try{return e?wV(this._delegate,t,e):wV(this._delegate,t)}catch(r){throw qs(r,"setDoc()","DocumentReference.set()")}}update(t,e,...r){try{return 1===arguments.length?CV(this._delegate,t):CV(this._delegate,t,e,...r)}catch(i){throw qs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function KG(n){return q_(yn(n.firestore,Sr),[new R_(n._key,Fr.none())])}(this._delegate)}onSnapshot(...t){const e=xV(t),r=kV(t,i=>new Sw(this.firestore,new Yu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return EV(this._delegate,e,r)}get(t){let e;return e="cache"===t?.source?function zG(n){n=yn(n,gr);const t=yn(n.firestore,Sr),e=gi(t),r=new Rp(t);return function nG(n,t){const e=new ri;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(r=(0,Te.Z)(function*(i,s,c){try{const h=yield function(p,_){const w=it(p);return w.persistence.runTransaction("read document","readonly",I=>w.localDocuments.getDocument(I,_))}(i,s);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new Ue(ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const p=j_(h,`Failed to get document '${s} from cache`);c.reject(p)}}),function(i,s,c){return r.apply(this,arguments)})(yield _I(n),t,e);var r})),e.promise}(e,n._key).then(i=>new Yu(t,r,n._key,i,new kp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function GG(n){n=yn(n,gr);const t=yn(n.firestore,Sr);return zL(gi(t),n._key,{source:"server"}).then(e=>sR(t,n,e))}(this._delegate):function $G(n){n=yn(n,gr);const t=yn(n.firestore,Sr);return zL(gi(t),n._key).then(e=>sR(t,n,e))}(this._delegate),e.then(r=>new Sw(this.firestore,new Yu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(t){return new Qa(this.firestore,this._delegate.withConverter(t?Op.getInstance(this.firestore,t):null))}}function qs(n,t,e){return n.message=n.message.replace(t,e),n}function xV(n){for(const t of n)if("object"==typeof t&&!aR(t))return t;return{}}function kV(n,t){var e,r;let i;return i=aR(n[0])?n[0]:aR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(t(s))},error:null===(e=i.error)||void 0===e?void 0:e.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Sw{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Qa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return dV(this._delegate,t._delegate)}}class Tw extends Sw{data(t){const e=this._delegate.data(t);return function OD(n,t){n||mt()}(void 0!==e),e}}class Ys{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new TI(t)}where(t,e,r){try{return new Ys(this.firestore,Th(this._delegate,function RG(n,t,e){const r=t,i=II("where",n);return new kG(i,r,e)}(t,e,r)))}catch(i){throw qs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ys(this.firestore,Th(this._delegate,function PG(n,t="asc"){const e=t,r=II("orderBy",n);return new OG(r,e)}(t,e)))}catch(r){throw qs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ys(this.firestore,Th(this._delegate,function NG(n){return ZL("limit",n),new fV("limit",n,"F")}(t)))}catch(e){throw qs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ys(this.firestore,Th(this._delegate,function FG(n){return ZL("limitToLast",n),new fV("limitToLast",n,"L")}(t)))}catch(e){throw qs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ys(this.firestore,Th(this._delegate,function LG(...n){return new pV("startAt",n,!0)}(...t)))}catch(e){throw qs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ys(this.firestore,Th(this._delegate,function VG(...n){return new pV("startAfter",n,!1)}(...t)))}catch(e){throw qs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ys(this.firestore,Th(this._delegate,function BG(...n){return new mV("endBefore",n,!1)}(...t)))}catch(e){throw qs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ys(this.firestore,Th(this._delegate,function UG(...n){return new mV("endAt",n,!0)}(...t)))}catch(e){throw qs(e,"endAt()","Query.endAt()")}}isEqual(t){return eV(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function qG(n){n=yn(n,Es);const t=yn(n.firestore,Sr),e=gi(t),r=new Rp(t);return function rG(n,t){const e=new ri;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(r=(0,Te.Z)(function*(i,s,c){try{const h=yield cI(i,s,!0),p=new kL(s,h.ji),_=p.Ku(h.documents),w=p.applyChanges(_,!1);c.resolve(w.snapshot)}catch(h){const p=j_(h,`Failed to execute query '${s} against cache`);c.reject(p)}}),function(i,s,c){return r.apply(this,arguments)})(yield _I(n),t,e);var r})),e.promise}(e,n._query).then(i=>new Sh(t,r,n,i))}(this._delegate):"server"===t?.source?function YG(n){n=yn(n,Es);const t=yn(n.firestore,Sr),e=gi(t),r=new Rp(t);return GL(e,n._query,{source:"server"}).then(i=>new Sh(t,r,n,i))}(this._delegate):function WG(n){n=yn(n,Es);const t=yn(n.firestore,Sr),e=gi(t),r=new Rp(t);return hV(n._query),GL(e,n._query).then(i=>new Sh(t,r,n,i))}(this._delegate),e.then(r=>new lR(this.firestore,new Sh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...t){const e=xV(t),r=kV(t,i=>new lR(this.firestore,new Sh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return EV(this._delegate,e,r)}withConverter(t){return new Ys(this.firestore,this._delegate.withConverter(t?Op.getInstance(this.firestore,t):null))}}class uW{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Tw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class lR{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ys(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Tw(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new uW(this._firestore,e))}forEach(t,e){this._delegate.forEach(r=>{t.call(e,new Tw(this._firestore,r))})}isEqual(t){return dV(this._delegate,t._delegate)}}class Y_ extends Ys{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Qa(this.firestore,t):null}doc(t){try{return new Qa(this.firestore,void 0===t?vI(this._delegate):vI(this._delegate,t))}catch(e){throw qs(e,"doc()","CollectionReference.doc()")}}add(t){return function ZG(n,t){const e=yn(n.firestore,Sr),r=vI(n),i=SI(n.converter,t);return q_(e,[CI(Mp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Fr.exists(!1))]).then(()=>r)}(this._delegate,t).then(e=>new Qa(this.firestore,e))}isEqual(t){return JL(this._delegate,t._delegate)}withConverter(t){return new Y_(this.firestore,this._delegate.withConverter(t?Op.getInstance(this.firestore,t):null))}}function Pp(n){return yn(n,gr)}class cR{constructor(...t){this._delegate=new qu(...t)}static documentId(){return new cR(Pr.keyField().canonicalString())}isEqual(t){return(t=(0,re.m9)(t))instanceof qu&&this._delegate._internalPath.isEqual(t._internalPath)}}class Np{constructor(t){this._delegate=t}static serverTimestamp(){const t=function tW(){return new Jk("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Np(t)}static delete(){const t=function eW(){return new ww("deleteField")}();return t._methodName="FieldValue.delete",new Np(t)}static arrayUnion(...t){const e=function nW(...n){return new IG("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Np(e)}static arrayRemove(...t){const e=function rW(...n){return new SG("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Np(e)}static increment(t){const e=function iW(n){return new TG("increment",n)}(t);return e._methodName="FieldValue.increment",new Np(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const dW={Firestore:TV,GeoPoint:bI,Timestamp:sr,Blob:Iw,Transaction:AV,WriteBatch:MV,DocumentReference:Qa,DocumentSnapshot:Sw,Query:Ys,QueryDocumentSnapshot:Tw,QuerySnapshot:lR,CollectionReference:Y_,FieldPath:cR,FieldValue:Np,setLogLevel:function cW(n){!function lx(n){Uu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function fW(n){(function hW(n,t){n.INTERNAL.registerComponent(new rh.wA("firestore-compat",e=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("firestore").getImmediate();return t(r,i)},"PUBLIC").setServiceProps(Object.assign({},dW)))})(n,(t,e)=>new TV(t,e,new lW)),n.registerVersion("@firebase/firestore-compat","0.1.23")}(LM.Z);var AI=F(5363),pW=F(6063);class mW extends yt.x{constructor(t=1/0,e=1/0,r=pW.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:c}=this;e||(r.push(t),!i&&r.push(s.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let c=0;c<s.length&&!t.closed;c+=r?1:2)t.next(s[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*t;if(t<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const c=e.now();let h=0;for(let p=1;p<r.length&&r[p]<=c;p+=2)h=p;h&&r.splice(0,h+1)}}}var RV=F(3099);function OV(n,t,e){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:e}=n):r=n??1/0,(0,RV.B)({connector:()=>new mW(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function PV(n,t){return(0,xn.m)(t)?kr(()=>n,t):kr(()=>n)}var uR=F(9468),Ku=F(5867);class Fp{constructor(t){return t}}class MI{constructor(){return(0,Ku.C6)()}}const dR=new u.OlP("angularfire2._apps"),_W={provide:Fp,useFactory:function gW(n){return n&&1===n.length?n[0]:new Fp((0,Ku.Mq)())},deps:[[new u.FiY,dR]]},yW={provide:MI,deps:[[new u.FiY,dR]]};function vW(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new Fp(r)}}let bW=(()=>{class n{constructor(e){(0,Ku.KN)("angularfire",on.q4.full,"core"),(0,Ku.KN)("angularfire",on.q4.full,"app"),(0,Ku.KN)("angular",u.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.Lbi))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[_W,yW]}),n})();function wW(n,...t){return{ngModule:bW,providers:[{provide:dR,useFactory:vW(n),multi:!0,deps:[u.R0b,u.zs3,on.HU,...t]}]}}const CW=(0,on.u3)(Ku.ZF,!0),NV=new Map,EW={activated:!1,tokenObservers:[]},DW={initialized:!1,enabled:!1};function qi(n){return NV.get(n)||EW}function Hl(n,t){NV.set(n,t)}function xI(){return DW}class MW{constructor(t,e,r,i,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Te.Z)(function*(){e.stop();try{e.pending=new re.BH,yield function xW(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new re.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Ks=new re.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function LV(n){if(!qi(n).activated)throw Ks.create("use-before-activation",{appName:n.name})}function pR(n,t){return mR.apply(this,arguments)}function mR(){return mR=(0,Te.Z)(function*({url:n,body:t},e){var r,i;const s={"Content-Type":"application/json"},c=e.getImmediate({optional:!0});if(c){const L=yield c.getHeartbeatsHeader();L&&(s["X-Firebase-Client"]=L)}const h={method:"POST",body:JSON.stringify(t),headers:s};let p,_;try{p=yield fetch(n,h)}catch(L){throw Ks.create("fetch-network-error",{originalErrorMessage:null===(r=L)||void 0===r?void 0:r.message})}if(200!==p.status)throw Ks.create("fetch-status-error",{httpStatus:p.status});try{_=yield p.json()}catch(L){throw Ks.create("fetch-parse-error",{originalErrorMessage:null===(i=L)||void 0===i?void 0:i.message})}const w=_.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw Ks.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const I=1e3*Number(w[1]),x=Date.now();return{token:_.token,expireTimeMillis:x+I,issuedAtTimeMillis:x}}),mR.apply(this,arguments)}function PW(n,t){const{projectId:e,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:t}}}const Aw="firebase-app-check-store";let OI=null;function BV(){return OI||(OI=new Promise((n,t)=>{var e;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var s;t(Ks.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Aw,{keyPath:"compositeKey"})}}catch(r){t(Ks.create("storage-open",{originalErrorMessage:null===(e=r)||void 0===e?void 0:e.message}))}}),OI)}function gR(){return gR=(0,Te.Z)(function*(n,t){const r=(yield BV()).transaction(Aw,"readwrite"),s=r.objectStore(Aw).put({compositeKey:n,value:t});return new Promise((c,h)=>{s.onsuccess=p=>{c()},r.onerror=p=>{var _;h(Ks.create("storage-set",{originalErrorMessage:null===(_=p.target.error)||void 0===_?void 0:_.message}))}})}),gR.apply(this,arguments)}const Mw=new qa.Yd("@firebase/app-check");function $V(n,t){return(0,re.hl)()?function VW(n,t){return function UV(n,t){return gR.apply(this,arguments)}(function jV(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Mw.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function zV(){return xI().enabled}function GV(){return bR.apply(this,arguments)}function bR(){return bR=(0,Te.Z)(function*(){const n=xI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),bR.apply(this,arguments)}const zW={error:"UNKNOWN_ERROR"};function GW(n){return re.US.encodeString(JSON.stringify(n),!1)}function PI(n){return wR.apply(this,arguments)}function wR(){return wR=(0,Te.Z)(function*(n,t=!1){const e=n.app;LV(e);const r=qi(e);let s,i=r.token;if(!i){const p=yield r.cachedTokenPromise;p&&NI(p)&&(i=p)}if(!t&&i&&NI(i))return{token:i.token};let h,c=!1;if(zV()){r.exchangeTokenPromise||(r.exchangeTokenPromise=pR(PW(e,yield GV()),n.heartbeatServiceProvider).then(_=>(r.exchangeTokenPromise=void 0,_)),c=!0);const p=yield r.exchangeTokenPromise;return yield $V(e,p),Hl(e,Object.assign(Object.assign({},r),{token:p})),{token:p.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(p=>(r.exchangeTokenPromise=void 0,p)),c=!0),i=yield r.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?Mw.warn(p.message):Mw.error(p),s=p}return i?(h={token:i.token},Hl(e,Object.assign(Object.assign({},r),{token:i})),yield $V(e,i)):h=qW(s),c&&qV(e,h),h}),wR.apply(this,arguments)}function ER(n,t){const e=qi(n),r=e.tokenObservers.filter(i=>i.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Hl(n,Object.assign(Object.assign({},e),{tokenObservers:r}))}function WV(n){const{app:t}=n,e=qi(t);let r=e.tokenRefresher;r||(r=function WW(n){const{app:t}=n;return new MW((0,Te.Z)(function*(){let r;if(r=qi(t).token?yield PI(n,!0):yield PI(n),r.error)throw r.error}),()=>!0,()=>{const e=qi(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Hl(t,Object.assign(Object.assign({},e),{tokenRefresher:r}))),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function qV(n,t){const e=qi(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch{}}function NI(n){return n.expireTimeMillis-Date.now()>0}function qW(n){return{token:GW(zW),error:n}}class YW{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=qi(this.app);for(const e of t)ER(this.app,e.next);return Promise.resolve()}}const tB="app-check-internal";!function l6(){(0,ns._registerComponent)(new rh.wA("app-check",n=>function KW(n,t){return new YW(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(tB).initialize()})),(0,ns._registerComponent)(new rh.wA(tB,n=>function ZW(n){return{getToken:t=>PI(n,t),addTokenListener:t=>function CR(n,t,e,r){const{app:i}=n,s=qi(i),c={next:e,error:r,type:t};if(Hl(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,c]})),s.token&&NI(s.token)){const h=s.token;Promise.resolve().then(()=>{e({token:h.token}),WV(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>WV(n))}(n,"INTERNAL",t),removeTokenListener:t=>ER(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ns.registerVersion)("@firebase/app-check","0.5.12")}();class K_{constructor(){return(0,on.vb)("app-check")}}typeof window<"u"&&window;var f6=F(127);const rB=new u.OlP("angularfire2.auth.use-emulator"),iB=new u.OlP("angularfire2.auth.settings"),sB=new u.OlP("angularfire2.auth.tenant-id"),oB=new u.OlP("angularfire2.auth.langugage-code"),aB=new u.OlP("angularfire2.auth.use-device-language"),lB=new u.OlP("angularfire.auth.persistence"),cB=(n,t,e,r,i,s,c,h)=>(0,da.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=t.runOutsideAngular(()=>n.auth());if(e&&p.useEmulator(...e),r&&(p.tenantId=r),p.languageCode=i,s&&p.useDeviceLanguage(),c)for(const[_,w]of Object.entries(c))p.settings[_]=w;return h&&p.setPersistence(h),p},[e,r,i,s,c,h]);let uB=(()=>{class n{constructor(e,r,i,s,c,h,p,_,w,I,x,L){const B=new yt.x,X=qe(void 0).pipe((0,AI.Q)(c.outsideAngular),kr(()=>s.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,5881)))),(0,ht.U)(()=>(0,da.on)(e,s,r)),(0,ht.U)(ve=>cB(ve,s,h,_,w,I,p,x)),OV({bufferSize:1,refCount:!1}));if(Jl(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=qe(null);else{X.pipe(Xo()).subscribe();const Xe=X.pipe(kr(gt=>gt.getRedirectResult().then(Nt=>Nt,()=>null)),on.iC,OV({bufferSize:1,refCount:!1})),ut=X.pipe(kr(gt=>new tr.y(Nt=>({unsubscribe:s.runOutsideAngular(()=>gt.onAuthStateChanged(jt=>Nt.next(jt),jt=>Nt.error(jt),()=>Nt.complete()))})))),Ct=X.pipe(kr(gt=>new tr.y(Nt=>({unsubscribe:s.runOutsideAngular(()=>gt.onIdTokenChanged(jt=>Nt.next(jt),jt=>Nt.error(jt),()=>Nt.complete()))}))));this.authState=Xe.pipe(PV(ut),(0,uR.R)(c.outsideAngular),(0,AI.Q)(c.insideAngular)),this.user=Xe.pipe(PV(Ct),(0,uR.R)(c.outsideAngular),(0,AI.Q)(c.insideAngular)),this.idToken=this.user.pipe(kr(gt=>gt?(0,mn.D)(gt.getIdToken()):qe(null))),this.idTokenResult=this.user.pipe(kr(gt=>gt?(0,mn.D)(gt.getIdTokenResult()):qe(null))),this.credential=(0,$a.T)(Xe,B,this.authState.pipe(kn(gt=>!gt))).pipe((0,ht.U)(gt=>gt?.user?gt:null),(0,uR.R)(c.outsideAngular),(0,AI.Q)(c.insideAngular))}return(0,da.pX)(this,X,s,{spy:{apply:(ve,Xe,ut)=>{(ve.startsWith("signIn")||ve.startsWith("createUser"))&&ut.then(Ct=>B.next(Ct))}}})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(da.Dh),u.LFG(da.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(on.HU),u.LFG(rB,8),u.LFG(iB,8),u.LFG(sB,8),u.LFG(oB,8),u.LFG(aB,8),u.LFG(lB,8),u.LFG(K_,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function dB(n,t){return function m6(n,t=Wm.z){return new tr.y(e=>{let r;return null!=t?t.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},e)}):r=n.onSnapshot({includeMetadataChanges:!0},e),()=>{r?.()}})}(n,t)}function AR(n,t){return dB(n,t).pipe((0,ht.U)(e=>({payload:e,type:"query"})))}function LI(n,t){return AR(n,t).pipe(vi(void 0),Au(),(0,ht.U)(([e,r])=>{const i=r.payload.docChanges(),s=i.map(c=>({type:c.type,payload:c}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,h)=>{const p=i.find(w=>w.doc.ref.isEqual(c.ref)),_=e?.payload.docs.find(w=>w.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&_&&JSON.stringify(_.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),s}))}function hB(n,t,e){return LI(n,e).pipe(yo((r,i)=>function _6(n,t,e){return t.forEach(r=>{e.indexOf(r.type)>-1&&(n=function y6(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return MR(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return MR(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return MR(n,t.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),t),[]),dC(),(0,ht.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function MR(n,t,e,...r){const i=n.slice();return i.splice(t,e,...r),i}function fB(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class pB{constructor(t,e,r){this.ref=t,this.query=e,this.afs=r}stateChanges(t){let e=LI(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,ht.U)(r=>r.filter(i=>t.indexOf(i.type)>-1)))),e.pipe(vi(void 0),Au(),kn(([r,i])=>i.length>0||!r),(0,ht.U)(([r,i])=>i),on.iC)}auditTrail(t){return this.stateChanges(t).pipe(yo((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=fB(t);return hB(this.query,e,this.afs.schedulers.outsideAngular).pipe(on.iC)}valueChanges(t={}){return AR(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(e=>e.payload.docs.map(r=>t.idField?Object.assign(Object.assign({},r.data()),{[t.idField]:r.id}):r.data())),on.iC)}get(t){return(0,mn.D)(this.query.get(t)).pipe(on.iC)}add(t){return this.ref.add(t)}doc(t){return new mB(this.ref.doc(t),this.afs)}}class mB{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const r=this.ref.collection(t),{ref:i,query:s}=yB(r,e);return new pB(i,s,this.afs)}snapshotChanges(){return function g6(n,t){return dB(n,t).pipe(vi(void 0),Au(),(0,ht.U)(([e,r])=>r.exists?e?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(on.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,ht.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,mn.D)(this.ref.get(t)).pipe(on.iC)}}class v6{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?LI(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(e=>e.filter(r=>t.indexOf(r.type)>-1)),kn(e=>e.length>0),on.iC):LI(this.query,this.afs.schedulers.outsideAngular).pipe(on.iC)}auditTrail(t){return this.stateChanges(t).pipe(yo((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=fB(t);return hB(this.query,e,this.afs.schedulers.outsideAngular).pipe(on.iC)}valueChanges(t={}){return AR(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(r=>r.payload.docs.map(i=>t.idField?Object.assign({[t.idField]:i.id},i.data()):i.data())),on.iC)}get(t){return(0,mn.D)(this.query.get(t)).pipe(on.iC)}}const gB=new u.OlP("angularfire2.enableFirestorePersistence"),_B=new u.OlP("angularfire2.firestore.persistenceSettings"),b6=new u.OlP("angularfire2.firestore.settings"),w6=new u.OlP("angularfire2.firestore.use-emulator");function yB(n,t=(e=>e)){return{query:t(n),ref:n}}let xR=(()=>{class n{constructor(e,r,i,s,c,h,p,_,w,I,x,L,B,X,ve,Xe,ut){this.schedulers=p;const Ct=(0,da.on)(e,h,r),gt=w;I&&cB(Ct,h,x,B,X,ve,L,Xe),[this.firestore,this.persistenceEnabled$]=(0,da.cc)(`${Ct.name}.firestore`,"AngularFirestore",Ct.name,()=>{const Nt=h.runOutsideAngular(()=>Ct.firestore());if(s&&Nt.settings(s),gt&&Nt.useEmulator(...gt),i&&!Jl(c)){const jt=()=>{try{return(0,mn.D)(Nt.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(vn){return typeof console<"u"&&console.warn(vn),qe(!1)}};return[Nt,h.runOutsideAngular(jt)]}return[Nt,qe(!1)]},[s,gt,i])}collection(e,r){let i;i="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:c}=yB(i,r),h=this.schedulers.ngZone.run(()=>s);return new pB(h,c,this)}collectionGroup(e,r){const i=r||(c=>c),s=this.firestore.collectionGroup(e);return new v6(i(s),this)}doc(e){let r;r="string"==typeof e?this.firestore.doc(e):e;const i=this.schedulers.ngZone.run(()=>r);return new mB(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(da.Dh),u.LFG(da.xv,8),u.LFG(gB,8),u.LFG(b6,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(on.HU),u.LFG(_B,8),u.LFG(w6,8),u.LFG(uB,8),u.LFG(rB,8),u.LFG(iB,8),u.LFG(sB,8),u.LFG(oB,8),u.LFG(aB,8),u.LFG(lB,8),u.LFG(K_,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),C6=(()=>{class n{constructor(){f6.Z.registerVersion("angularfire",on.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:gB,useValue:!0},{provide:_B,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[xR]}),n})();const E6=["mat-button",""],D6=["*"],S6=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],T6=Iu(sE(oE(class{constructor(n){this._elementRef=n}})));let xw=(()=>{class n extends T6{constructor(e,r,i){super(e),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of S6)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,r){e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(xl),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,r){if(1&e&&u.Gf(gg,5),2&e){let i;u.iGM(i=u.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,r){2&e&&(u.uIk("disabled",r.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:E6,ngContentSelectors:D6,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(u.F$t(),u.TgZ(0,"span",0),u.Hsn(1),u.qZA(),u._UZ(2,"span",1)(3,"span",2)),2&e&&(u.xp6(2),u.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),u.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[gg],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),vB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Gv,fr,fr]}),n})();const A6=["connectionContainer"],M6=["inputContainer"],x6=["label"];function k6(n,t){1&n&&(u.ynx(0),u.TgZ(1,"div",14),u._UZ(2,"div",15)(3,"div",16)(4,"div",17),u.qZA(),u.TgZ(5,"div",18),u._UZ(6,"div",15)(7,"div",16)(8,"div",17),u.qZA(),u.BQk())}function R6(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div",19),u.NdJ("cdkObserveContent",function(){u.CHM(e);const i=u.oxw();return u.KtG(i.updateOutlineGap())}),u.Hsn(1,1),u.qZA()}if(2&n){const e=u.oxw();u.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function O6(n,t){if(1&n&&(u.ynx(0),u.Hsn(1,2),u.TgZ(2,"span"),u._uU(3),u.qZA(),u.BQk()),2&n){const e=u.oxw(2);u.xp6(3),u.Oqu(e._control.placeholder)}}function P6(n,t){1&n&&u.Hsn(0,3,["*ngSwitchCase","true"])}function N6(n,t){1&n&&(u.TgZ(0,"span",23),u._uU(1," *"),u.qZA())}function F6(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"label",20,21),u.NdJ("cdkObserveContent",function(){u.CHM(e);const i=u.oxw();return u.KtG(i.updateOutlineGap())}),u.YNc(2,O6,4,1,"ng-container",12),u.YNc(3,P6,1,0,"ng-content",12),u.YNc(4,N6,2,0,"span",22),u.qZA()}if(2&n){const e=u.oxw();u.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),u.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),u.uIk("for",e._control.id)("aria-owns",e._control.id),u.xp6(2),u.Q6J("ngSwitchCase",!1),u.xp6(1),u.Q6J("ngSwitchCase",!0),u.xp6(1),u.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function L6(n,t){1&n&&(u.TgZ(0,"div",24),u.Hsn(1,4),u.qZA())}function V6(n,t){if(1&n&&(u.TgZ(0,"div",25),u._UZ(1,"span",26),u.qZA()),2&n){const e=u.oxw();u.xp6(1),u.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function B6(n,t){if(1&n&&(u.TgZ(0,"div"),u.Hsn(1,5),u.qZA()),2&n){const e=u.oxw();u.Q6J("@transitionMessages",e._subscriptAnimationState)}}function U6(n,t){if(1&n&&(u.TgZ(0,"div",30),u._uU(1),u.qZA()),2&n){const e=u.oxw(2);u.Q6J("id",e._hintLabelId),u.xp6(1),u.Oqu(e.hintLabel)}}function H6(n,t){if(1&n&&(u.TgZ(0,"div",27),u.YNc(1,U6,2,2,"div",28),u.Hsn(2,6),u._UZ(3,"div",29),u.Hsn(4,7),u.qZA()),2&n){const e=u.oxw();u.Q6J("@transitionMessages",e._subscriptAnimationState),u.xp6(1),u.Q6J("ngIf",e.hintLabel)}}const j6=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],$6=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],z6=new u.OlP("MatError"),G6={transitionMessages:$n("transitionMessages",[Wa("enter",pr({opacity:1,transform:"translateY(0%)"})),To("void => enter",[pr({opacity:0,transform:"translateY(-5px)"}),Ga("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let kR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n}),n})();const W6=new u.OlP("MatHint");let RR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-label"]]}),n})(),q6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const Y6=new u.OlP("MatPrefix"),bB=new u.OlP("MatSuffix");let K6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","matSuffix",""]],features:[u._Bn([{provide:bB,useExisting:n}])]}),n})(),wB=0;const Q6=Iu(class{constructor(n){this._elementRef=n}},"primary"),X6=new u.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),OR=new u.OlP("MatFormField");let J6=(()=>{class n extends Q6{constructor(e,r,i,s,c,h,p){super(e),this._changeDetectorRef=r,this._dir=i,this._defaults=s,this._platform=c,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new yt.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+wB++,this._labelId="mat-form-field-label-"+wB++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&r!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=hr(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(vi(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(ir(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ir(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,$a.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(vi(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(vi(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(ir(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,la(this._label.nativeElement,"transitionend").pipe(nr(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,i=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const w=r.querySelectorAll(`${i}, ${s}`);for(let I=0;I<w.length;I++)w[I].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let c=0,h=0;const p=r.querySelectorAll(i),_=r.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const w=r.getBoundingClientRect();if(0===w.width&&0===w.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const I=this._getStartEnd(w),x=e.children,L=this._getStartEnd(x[0].getBoundingClientRect());let B=0;for(let X=0;X<x.length;X++)B+=x[X].offsetWidth;c=Math.abs(L-I)-5,h=B>0?.75*B+10:0}for(let w=0;w<p.length;w++)p[w].style.width=`${c}px`;for(let w=0;w<_.length;w++)_[w].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Wr,8),u.Y36(X6,8),u.Y36(zr),u.Y36(u.R0b),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,r,i){if(1&e&&(u.Suo(i,kR,5),u.Suo(i,kR,7),u.Suo(i,RR,5),u.Suo(i,RR,7),u.Suo(i,q6,5),u.Suo(i,z6,5),u.Suo(i,W6,5),u.Suo(i,Y6,5),u.Suo(i,bB,5)),2&e){let s;u.iGM(s=u.CRH())&&(r._controlNonStatic=s.first),u.iGM(s=u.CRH())&&(r._controlStatic=s.first),u.iGM(s=u.CRH())&&(r._labelChildNonStatic=s.first),u.iGM(s=u.CRH())&&(r._labelChildStatic=s.first),u.iGM(s=u.CRH())&&(r._placeholderChild=s.first),u.iGM(s=u.CRH())&&(r._errorChildren=s),u.iGM(s=u.CRH())&&(r._hintChildren=s),u.iGM(s=u.CRH())&&(r._prefixChildren=s),u.iGM(s=u.CRH())&&(r._suffixChildren=s)}},viewQuery:function(e,r){if(1&e&&(u.Gf(A6,7),u.Gf(M6,5),u.Gf(x6,5)),2&e){let i;u.iGM(i=u.CRH())&&(r._connectionContainerRef=i.first),u.iGM(i=u.CRH())&&(r._inputContainerRef=i.first),u.iGM(i=u.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,r){2&e&&u.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[u._Bn([{provide:OR,useExisting:n}]),u.qOj],ngContentSelectors:$6,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,r){1&e&&(u.F$t(j6),u.TgZ(0,"div",0)(1,"div",1,2),u.NdJ("click",function(s){return r._control.onContainerClick&&r._control.onContainerClick(s)}),u.YNc(3,k6,9,0,"ng-container",3),u.YNc(4,R6,2,1,"div",4),u.TgZ(5,"div",5,6),u.Hsn(7),u.TgZ(8,"span",7),u.YNc(9,F6,5,16,"label",8),u.qZA()(),u.YNc(10,L6,2,0,"div",9),u.qZA(),u.YNc(11,V6,2,4,"div",10),u.TgZ(12,"div",11),u.YNc(13,B6,2,1,"div",12),u.YNc(14,H6,5,2,"div",13),u.qZA()()),2&e&&(u.xp6(3),u.Q6J("ngIf","outline"==r.appearance),u.xp6(1),u.Q6J("ngIf",r._prefixChildren.length),u.xp6(5),u.Q6J("ngIf",r._hasFloatingLabel()),u.xp6(1),u.Q6J("ngIf",r._suffixChildren.length),u.xp6(1),u.Q6J("ngIf","outline"!=r.appearance),u.xp6(1),u.Q6J("ngSwitch",r._getDisplayedMessages()),u.xp6(1),u.Q6J("ngSwitchCase","error"),u.xp6(1),u.Q6J("ngSwitchCase","hint"))},dependencies:[so,xs,il,uA],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[G6.transitionMessages]},changeDetection:0}),n})(),PR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Lo,fr,gC,fr]}),n})();const EB=Nd({passive:!0});let eq=(()=>{class n{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return hi.E;const r=Hi(e),i=this._monitoredElements.get(r);if(i)return i.subject;const s=new yt.x,c="cdk-text-field-autofilled",h=p=>{"cdk-text-field-autofill-start"!==p.animationName||r.classList.contains(c)?"cdk-text-field-autofill-end"===p.animationName&&r.classList.contains(c)&&(r.classList.remove(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(r.classList.add(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",h,EB),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",h,EB)}}),s}stopMonitoring(e){const r=Hi(e),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(zr),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function IB(...n){const t=(0,Wo.jO)(n),{args:e,keys:r}=oc(n),i=new tr.y(s=>{const{length:c}=e;if(!c)return void s.complete();const h=new Array(c);let p=c,_=c;for(let w=0;w<c;w++){let I=!1;(0,go.Xf)(e[w]).subscribe((0,Nn.x)(s,x=>{I||(I=!0,_--),h[w]=x},()=>p--,void 0,()=>{(!p||!I)&&(_||s.next(r?Ko(r,h):h),s.complete())}))}});return t?i.pipe(_s(t)):i}let SB=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Lp=(()=>{class n extends SB{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const jl=new u.OlP("NgValueAccessor"),nq={provide:jl,useExisting:(0,u.Gpc)(()=>VI),multi:!0},iq=new u.OlP("CompositionEventMode");let VI=(()=>{class n extends SB{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rq(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(iq,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&u.NdJ("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[u._Bn([nq]),u.qOj]}),n})();function Mh(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function AB(n){return null!=n&&"number"==typeof n.length}const as=new u.OlP("NgValidators"),xh=new u.OlP("NgAsyncValidators"),oq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class MB{static min(t){return function xB(n){return t=>{if(Mh(t.value)||Mh(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function kB(n){return t=>{if(Mh(t.value)||Mh(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function RB(n){return Mh(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function OB(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function PB(n){return Mh(n.value)||oq.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function NB(n){return t=>Mh(t.value)||!AB(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function FB(n){return t=>AB(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function LB(n){if(!n)return BI;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(Mh(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return $B(t)}static composeAsync(t){return zB(t)}}function BI(n){return null}function VB(n){return null!=n}function BB(n){return(0,u.QGY)(n)?(0,mn.D)(n):n}function UB(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function HB(n,t){return t.map(e=>e(n))}function jB(n){return n.map(t=>function aq(n){return!n.validate}(t)?t:e=>t.validate(e))}function $B(n){if(!n)return null;const t=n.filter(VB);return 0==t.length?null:function(e){return UB(HB(e,t))}}function NR(n){return null!=n?$B(jB(n)):null}function zB(n){if(!n)return null;const t=n.filter(VB);return 0==t.length?null:function(e){return IB(HB(e,t).map(BB)).pipe((0,ht.U)(UB))}}function FR(n){return null!=n?zB(jB(n)):null}function GB(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function WB(n){return n._rawValidators}function qB(n){return n._rawAsyncValidators}function LR(n){return n?Array.isArray(n)?n:[n]:[]}function UI(n,t){return Array.isArray(n)?n.includes(t):n===t}function YB(n,t){const e=LR(t);return LR(n).forEach(i=>{UI(e,i)||e.push(i)}),e}function KB(n,t){return LR(t).filter(e=>!UI(n,e))}class ZB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=NR(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=FR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Zs extends ZB{get formDirective(){return null}get path(){return null}}class Zu extends ZB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let XB=(()=>{class n extends class QB{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Zu,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.qOj]}),n})();const kw="VALID",jI="INVALID",Z_="PENDING",Rw="DISABLED";function HR(n){return($I(n)?n.validators:n)||null}function e2(n){return Array.isArray(n)?NR(n):n||null}function jR(n,t){return($I(t)?t.asyncValidators:n)||null}function t2(n){return Array.isArray(n)?FR(n):n||null}function $I(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class s2{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=e2(this._rawValidators),this._composedAsyncValidatorFn=t2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===kw}get invalid(){return this.status===jI}get pending(){return this.status==Z_}get disabled(){return this.status===Rw}get enabled(){return this.status!==Rw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=e2(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=t2(t)}addValidators(t){this.setValidators(YB(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(YB(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(KB(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(KB(t,this._rawAsyncValidators))}hasValidator(t){return UI(this._rawValidators,t)}hasAsyncValidator(t){return UI(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Z_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Rw,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=kw,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kw||this.status===Z_)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rw:kw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Z_,this._hasOwnPendingAsyncValidator=!0;const e=BB(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Rw:this.errors?jI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Z_)?Z_:this._anyControlsHaveStatus(jI)?jI:kw}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){$I(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class $R extends s2{constructor(t,e,r){super(HR(e),jR(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function r2(n,t,e){n._forEachChild((r,i)=>{if(void 0===e[i])throw new u.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function n2(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[e])throw new u.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,s)=>{r=e(r,i,s)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function Ow(n,t){zR(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function _q(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&o2(n,t)})}(n,t),function vq(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function yq(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&o2(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function gq(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function GI(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),qI(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function WI(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function zR(n,t){const e=WB(n);null!==t.validator?n.setValidators(GB(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=qB(n);null!==t.asyncValidator?n.setAsyncValidators(GB(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();WI(t._rawValidators,i),WI(t._rawAsyncValidators,i)}function qI(n,t){let e=!1;if(null!==n){if(null!==t.validator){const i=WB(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(c=>c!==t.validator);s.length!==i.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const i=qB(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(c=>c!==t.asyncValidator);s.length!==i.length&&(e=!0,n.setAsyncValidators(s))}}}const r=()=>{};return WI(t._rawValidators,r),WI(t._rawAsyncValidators,r),e}function o2(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function a2(n,t){zR(n,t)}function c2(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const Dq={provide:Zs,useExisting:(0,u.Gpc)(()=>YI)},Pw=(()=>Promise.resolve(null))();let YI=(()=>{class n extends Zs{constructor(e,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new $R({},NR(e),FR(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Pw.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Ow(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Pw.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Pw.then(()=>{const r=this._findContainer(e.path),i=new $R({});a2(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Pw.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Pw.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,c2(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(as,10),u.Y36(xh,10))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&u.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Dq]),u.qOj]}),n})();function u2(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function d2(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const h2=class extends s2{constructor(t=null,e,r){super(HR(e),jR(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$I(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=d2(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){u2(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){u2(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){d2(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Tq={provide:Zu,useExisting:(0,u.Gpc)(()=>qR)},m2=(()=>Promise.resolve(null))();let qR=(()=>{class n extends Zu{constructor(e,r,i,s,c){super(),this._changeDetectorRef=c,this.control=new h2,this._registered=!1,this.update=new u.vpe,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function WR(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(s=>{s.constructor===VI?e=s:function Cq(n){return Object.getPrototypeOf(n.constructor)===Lp}(s)?r=s:i=s}),i||r||e||null}(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function GR(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ow(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){m2.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=0!==r&&(0,u.D6c)(r);m2.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function zI(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Zs,9),u.Y36(as,10),u.Y36(xh,10),u.Y36(jl,10),u.Y36(u.sBO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([Tq]),u.qOj,u.TTD]}),n})(),_2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Pq={provide:Zs,useExisting:(0,u.Gpc)(()=>KI)};let KI=(()=>{class n extends Zs{constructor(e,r){super(),this.validators=e,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Ow(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){GI(e.control||null,e,!1),function Eq(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,c2(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(GI(r||null,e),(n=>n instanceof h2)(i)&&(Ow(i,e),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);a2(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function bq(n,t){return qI(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zR(this.form,this),this._oldForm&&qI(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(as,10),u.Y36(xh,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&u.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Pq]),u.qOj,u.TTD]}),n})(),Xq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[_2]}),n})(),Jq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Xq]}),n})();const N2=new u.OlP("MAT_INPUT_VALUE_ACCESSOR"),tY=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let nY=0;const rY=yM(class{constructor(n,t,e,r){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=r,this.stateChanges=new yt.x}});let iY=(()=>{class n extends rY{constructor(e,r,i,s,c,h,p,_,w,I){super(h,s,c,i),this._elementRef=e,this._platform=r,this._autofillMonitor=_,this._formField=I,this._uid="mat-input-"+nY++,this.focused=!1,this.stateChanges=new yt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(B=>Y0().has(B)),this._iOSKeyupListener=B=>{const X=B.target;!X.value&&0===X.selectionStart&&0===X.selectionEnd&&(X.setSelectionRange(1,1),X.setSelectionRange(0,0))};const x=this._elementRef.nativeElement,L=x.nodeName.toLowerCase();this._inputValueAccessor=p||x,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&w.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===L,this._isTextarea="textarea"===L,this._isInFormField=!!I,this._isNativeSelect&&(this.controlType=x.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=hr(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(MB.required)??!1}set required(e){this._required=hr(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Y0().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=hr(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,r=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(r!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=r,r?i.setAttribute("placeholder",r):i.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){tY.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(zr),u.Y36(Zu,10),u.Y36(YI,8),u.Y36(KI,8),u.Y36(aE),u.Y36(N2,10),u.Y36(eq),u.Y36(u.R0b),u.Y36(OR,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,r){1&e&&u.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&e&&(u.Ikx("disabled",r.disabled)("required",r.required),u.uIk("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),u.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[u._Bn([{provide:kR,useExisting:n}]),u.qOj,u.TTD]}),n})(),sY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[aE],imports:[DB,PR,fr,DB,PR]}),n})();const oY=["mat-calendar-body",""];function aY(n,t){if(1&n&&(u.TgZ(0,"tr",2)(1,"td",3),u._uU(2),u.qZA()()),2&n){const e=u.oxw();u.xp6(1),u.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),u.uIk("colspan",e.numCols),u.xp6(1),u.hij(" ",e.label," ")}}function lY(n,t){if(1&n&&(u.TgZ(0,"td",3),u._uU(1),u.qZA()),2&n){const e=u.oxw(2);u.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),u.uIk("colspan",e._firstRowOffset),u.xp6(1),u.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function cY(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"td",7)(1,"button",8),u.NdJ("click",function(i){const c=u.CHM(e).$implicit,h=u.oxw(2);return u.KtG(h._cellClicked(c,i))})("focus",function(i){const c=u.CHM(e).$implicit,h=u.oxw(2);return u.KtG(h._emitActiveDateChange(c,i))}),u.TgZ(2,"div",9),u._uU(3),u.qZA(),u._UZ(4,"div",10),u.qZA()()}if(2&n){const e=t.$implicit,r=t.index,i=u.oxw().index,s=u.oxw();u.Udp("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),u.uIk("data-mat-row",i)("data-mat-col",r),u.xp6(1),u.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",s._isActiveCell(i,r))("mat-calendar-body-range-start",s._isRangeStart(e.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",s._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(e.compareValue,i,r))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(e.compareValue,i,r))("mat-calendar-body-comparison-start",s._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",s._isInPreview(e.compareValue)),u.Q6J("ngClass",e.cssClasses)("tabindex",s._isActiveCell(i,r)?0:-1),u.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",s._isSelected(e.compareValue))("aria-current",s.todayValue===e.compareValue?"date":null),u.xp6(1),u.ekj("mat-calendar-body-selected",s._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",s.todayValue===e.compareValue),u.xp6(1),u.hij(" ",e.displayValue," ")}}function uY(n,t){if(1&n&&(u.TgZ(0,"tr",4),u.YNc(1,lY,2,6,"td",5),u.YNc(2,cY,5,47,"td",6),u.qZA()),2&n){const e=t.$implicit,r=t.index,i=u.oxw();u.xp6(1),u.Q6J("ngIf",0===r&&i._firstRowOffset),u.xp6(1),u.Q6J("ngForOf",e)}}function dY(n,t){if(1&n&&(u.TgZ(0,"th",5)(1,"span",6),u._uU(2),u.qZA(),u.TgZ(3,"span",7),u._uU(4),u.qZA()()),2&n){const e=t.$implicit;u.xp6(2),u.Oqu(e.long),u.xp6(2),u.Oqu(e.narrow)}}const hY=["*"];function fY(n,t){}function pY(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"mat-month-view",5),u.NdJ("activeDateChange",function(i){u.CHM(e);const s=u.oxw();return u.KtG(s.activeDate=i)})("_userSelection",function(i){u.CHM(e);const s=u.oxw();return u.KtG(s._dateSelected(i))}),u.qZA()}if(2&n){const e=u.oxw();u.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function mY(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"mat-year-view",6),u.NdJ("activeDateChange",function(i){u.CHM(e);const s=u.oxw();return u.KtG(s.activeDate=i)})("monthSelected",function(i){u.CHM(e);const s=u.oxw();return u.KtG(s._monthSelectedInYearView(i))})("selectedChange",function(i){u.CHM(e);const s=u.oxw();return u.KtG(s._goToDateInView(i,"month"))}),u.qZA()}if(2&n){const e=u.oxw();u.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function gY(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"mat-multi-year-view",7),u.NdJ("activeDateChange",function(i){u.CHM(e);const s=u.oxw();return u.KtG(s.activeDate=i)})("yearSelected",function(i){u.CHM(e);const s=u.oxw();return u.KtG(s._yearSelectedInMultiYearView(i))})("selectedChange",function(i){u.CHM(e);const s=u.oxw();return u.KtG(s._goToDateInView(i,"year"))}),u.qZA()}if(2&n){const e=u.oxw();u.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function _Y(n,t){}const yY=["button"];function vY(n,t){1&n&&(u.O4$(),u.TgZ(0,"svg",3),u._UZ(1,"path",4),u.qZA())}const bY=[[["","matDatepickerToggleIcon",""]]],wY=["[matDatepickerToggleIcon]"];let Nw=(()=>{class n{constructor(){this.changes=new yt.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,r){return`${e} \u2013 ${r}`}formatYearRangeLabel(e,r){return`${e} to ${r}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class JR{constructor(t,e,r,i,s={},c=t,h){this.value=t,this.displayValue=e,this.ariaLabel=r,this.enabled=i,this.cssClasses=s,this.compareValue=c,this.rawValue=h}}let Q_=(()=>{class n{constructor(e,r){this._elementRef=e,this._ngZone=r,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new u.vpe,this.previewChange=new u.vpe,this.activeDateChange=new u.vpe,this._enterHandler=i=>{if(this._skipNextFocus&&"focus"===i.type)this._skipNextFocus=!1;else if(i.target&&this.isRange){const s=this._getCellFromElement(i.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:i}))}},this._leaveHandler=i=>{null!==this.previewEnd&&this.isRange&&i.target&&this._getCellFromElement(i.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:i}))},r.runOutsideAngular(()=>{const i=e.nativeElement;i.addEventListener("mouseenter",this._enterHandler,!0),i.addEventListener("focus",this._enterHandler,!0),i.addEventListener("mouseleave",this._leaveHandler,!0),i.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(e,r){e.enabled&&this.selectedValueChange.emit({value:e.value,event:r})}_emitActiveDateChange(e,r){e.enabled&&this.activeDateChange.emit({value:e.value,event:r})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const r=e.numCols,{rows:i,numCols:s}=this;(e.rows||r)&&(this._firstRowOffset=i&&i.length&&i[0].length?s-i[0].length:0),(e.cellAspectRatio||r||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(r||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,r){let i=e*this.numCols+r;return e&&(i-=this._firstRowOffset),i==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(nr(1)).subscribe(()=>{setTimeout(()=>{const r=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");r&&(e||(this._skipNextFocus=!0),r.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return eO(e,this.startValue,this.endValue)}_isRangeEnd(e){return tO(e,this.startValue,this.endValue)}_isInRange(e){return nO(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return eO(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,r,i){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let s=this.rows[r][i-1];if(!s){const c=this.rows[r-1];s=c&&c[c.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(e,r,i){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let s=this.rows[r][i+1];if(!s){const c=this.rows[r+1];s=c&&c[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(e){return tO(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return nO(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return eO(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return tO(e,this.previewStart,this.previewEnd)}_isInPreview(e){return nO(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let r;if(F2(e)?r=e:F2(e.parentNode)&&(r=e.parentNode),r){const i=r.getAttribute("data-mat-row"),s=r.getAttribute("data-mat-col");if(i&&s)return this.rows[parseInt(i)][parseInt(s)]}return null}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[u.TTD],attrs:oY,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,r){1&e&&(u.YNc(0,aY,3,6,"tr",0),u.YNc(1,uY,3,2,"tr",1)),2&e&&(u.Q6J("ngIf",r._firstRowOffset<r.labelMinRequiredCells),u.xp6(1),u.Q6J("ngForOf",r.rows))},dependencies:[wa,Ms,so],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function F2(n){return"TD"===n.nodeName}function eO(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function tO(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function nO(n,t,e,r){return r&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class Ro{constructor(t,e){this.start=t,this.end=e}}let kh=(()=>{class n{constructor(e,r){this.selection=e,this._adapter=r,this._selectionChanged=new yt.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,r){const i=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:r,oldValue:i})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),CY=(()=>{class n extends kh{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Ei))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const L2={provide:kh,deps:[[new u.FiY,new u.tp0,kh],Ei],useFactory:function DY(n,t){return n||new CY(t)}},ZI=new u.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let V2=(()=>{class n{constructor(e,r,i,s,c){this._changeDetectorRef=e,this._dateFormats=r,this._dateAdapter=i,this._dir=s,this._rangeStrategy=c,this._rerenderSubscription=jr.w0.EMPTY,this.selectedChange=new u.vpe,this._userSelection=new u.vpe,this.activeDateChange=new u.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const r=this._activeDate,i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._hasSameMonthAndYear(r,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Ro?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(vi(null)).subscribe(()=>this._init())}ngOnChanges(e){const r=e.comparisonStart||e.comparisonEnd;r&&!r.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const r=e.value,i=this._getDateFromDayOfMonth(r);let s,c;this._selected instanceof Ro?(s=this._getDateInCurrentMonth(this._selected.start),c=this._getDateInCurrentMonth(this._selected.end)):s=c=this._getDateInCurrentMonth(this._selected),(s!==r||c!==r)&&this.selectedChange.emit(i),this._userSelection.emit({value:i,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const i=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const r=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!Hd(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(r,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:r}){if(this._rangeStrategy){const s=this._rangeStrategy.createPreview(r?r.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),r=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((c,h)=>({long:c,narrow:r[h]}));this._weekdays=s.slice(e).concat(s.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),r=this._dateAdapter.getDateNames();this._weeks=[[]];for(let i=0,s=this._firstWeekOffset;i<e;i++,s++){7==s&&(this._weeks.push([]),s=0);const c=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),i+1),h=this._shouldEnableDate(c),p=this._dateAdapter.format(c,this._dateFormats.display.dateA11yLabel),_=this.dateClass?this.dateClass(c,"month"):void 0;this._weeks[this._weeks.length-1].push(new JR(i+1,r[i],p,h,_,this._getCellCompareValue(c),c))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,r){return!(!e||!r||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(r)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(r))}_getCellCompareValue(e){if(e){const r=this._dateAdapter.getYear(e),i=this._dateAdapter.getMonth(e),s=this._dateAdapter.getDate(e);return new Date(r,i,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Ro?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.sBO),u.Y36(Su,8),u.Y36(Ei,8),u.Y36(Wr,8),u.Y36(ZI,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,r){if(1&e&&u.Gf(Q_,5),2&e){let i;u.iGM(i=u.CRH())&&(r._matCalendarBody=i.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[u.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,r){1&e&&(u.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),u.YNc(3,dY,5,2,"th",2),u.qZA(),u.TgZ(4,"tr"),u._UZ(5,"th",3),u.qZA()(),u.TgZ(6,"tbody",4),u.NdJ("selectedValueChange",function(s){return r._dateSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("previewChange",function(s){return r._previewChanged(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),u.qZA()()),2&e&&(u.xp6(3),u.Q6J("ngForOf",r._weekdays),u.xp6(3),u.Q6J("label",r._monthLabel)("rows",r._weeks)("todayValue",r._todayDate)("startValue",r._rangeStart)("endValue",r._rangeEnd)("comparisonStart",r._comparisonRangeStart)("comparisonEnd",r._comparisonRangeEnd)("previewStart",r._previewStart)("previewEnd",r._previewEnd)("isRange",r._isRange)("labelMinRequiredCells",3)("activeCell",r._dateAdapter.getDate(r.activeDate)-1))},dependencies:[Ms,Q_],encapsulation:2,changeDetection:0}),n})(),B2=(()=>{class n{constructor(e,r,i){this._changeDetectorRef=e,this._dateAdapter=r,this._dir=i,this._rerenderSubscription=jr.w0.EMPTY,this.selectedChange=new u.vpe,this.yearSelected=new u.vpe,this.activeDateChange=new u.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let r=this._activeDate;const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),U2(this._dateAdapter,r,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Ro?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(vi(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const r=this._dateAdapter.getYear(this._activeDate)-Fw(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let i=0,s=[];i<24;i++)s.push(r+i),4==s.length&&(this._years.push(s.map(c=>this._createCellForYear(c))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const r=e.value,i=this._dateAdapter.createDate(r,0,1),s=this._getDateFromYear(r);this.yearSelected.emit(i),this.selectedChange.emit(s)}_updateActiveDate(e){const i=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const r=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Fw(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-Fw(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return Fw(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const r=this._dateAdapter.getMonth(this.activeDate),i=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,r,1));return this._dateAdapter.createDate(e,r,Math.min(this._dateAdapter.getDate(this.activeDate),i))}_createCellForYear(e){const r=this._dateAdapter.createDate(e,0,1),i=this._dateAdapter.getYearName(r),s=this.dateClass?this.dateClass(r,"multi-year"):void 0;return new JR(e,i,i,this._shouldEnableYear(e),s)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let i=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(i)==e;i=this._dateAdapter.addCalendarDays(i,1))if(this.dateFilter(i))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Ro){const r=e.start||e.end;r&&(this._selectedYear=this._dateAdapter.getYear(r))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.sBO),u.Y36(Ei,8),u.Y36(Wr,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,r){if(1&e&&u.Gf(Q_,5),2&e){let i;u.iGM(i=u.CRH())&&(r._matCalendarBody=i.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,r){1&e&&(u.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),u._UZ(3,"th",2),u.qZA()(),u.TgZ(4,"tbody",3),u.NdJ("selectedValueChange",function(s){return r._yearSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),u.qZA()()),2&e&&(u.xp6(4),u.Q6J("rows",r._years)("todayValue",r._todayYear)("startValue",r._selectedYear)("endValue",r._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._getActiveCell()))},dependencies:[Q_],encapsulation:2,changeDetection:0}),n})();function U2(n,t,e,r,i){const s=n.getYear(t),c=n.getYear(e),h=H2(n,r,i);return Math.floor((s-h)/24)===Math.floor((c-h)/24)}function Fw(n,t,e,r){return function AY(n,t){return(n%t+t)%t}(n.getYear(t)-H2(n,e,r),24)}function H2(n,t,e){let r=0;return e?r=n.getYear(e)-24+1:t&&(r=n.getYear(t)),r}let j2=(()=>{class n{constructor(e,r,i,s){this._changeDetectorRef=e,this._dateFormats=r,this._dateAdapter=i,this._dir=s,this._rerenderSubscription=jr.w0.EMPTY,this.selectedChange=new u.vpe,this.monthSelected=new u.vpe,this.activeDateChange=new u.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let r=this._activeDate;const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._dateAdapter.getYear(r)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Ro?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(vi(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const r=e.value,i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),r,1);this.monthSelected.emit(i);const s=this._getDateFromMonth(r);this.selectedChange.emit(s)}_updateActiveDate(e){const i=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const r=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(r,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(r=>r.map(i=>this._createCellForMonth(i,e[i]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),i=this._dateAdapter.getNumDaysInMonth(r);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),i))}_createCellForMonth(e,r){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.format(i,this._dateFormats.display.monthYearA11yLabel),c=this.dateClass?this.dateClass(i,"year"):void 0;return new JR(e,r.toLocaleUpperCase(),s,this._shouldEnableMonth(e),c)}_shouldEnableMonth(e){const r=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(r,e)||this._isYearAndMonthBeforeMinDate(r,e))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(r,e,1);this._dateAdapter.getMonth(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(e,r){if(this.maxDate){const i=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>i||e===i&&r>s}return!1}_isYearAndMonthBeforeMinDate(e,r){if(this.minDate){const i=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<i||e===i&&r<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Ro?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.sBO),u.Y36(Su,8),u.Y36(Ei,8),u.Y36(Wr,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,r){if(1&e&&u.Gf(Q_,5),2&e){let i;u.iGM(i=u.CRH())&&(r._matCalendarBody=i.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,r){1&e&&(u.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),u._UZ(3,"th",2),u.qZA()(),u.TgZ(4,"tbody",3),u.NdJ("selectedValueChange",function(s){return r._monthSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),u.qZA()()),2&e&&(u.xp6(4),u.Q6J("label",r._yearLabel)("rows",r._months)("todayValue",r._todayMonth)("startValue",r._selectedMonth)("endValue",r._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._dateAdapter.getMonth(r.activeDate)))},dependencies:[Q_],encapsulation:2,changeDetection:0}),n})(),MY=0,xY=(()=>{class n{constructor(e,r,i,s,c){this._intl=e,this.calendar=r,this._dateAdapter=i,this._dateFormats=s,this._buttonDescriptionId="mat-calendar-button-"+MY++,this.calendar.stateChanges.subscribe(()=>c.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const r=this._dateAdapter.getYear(this.calendar.activeDate)-Fw(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),i=r+24-1,s=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1)),c=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1));return this._intl.formatYearRange(s,c)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,r){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(r)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(r):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(r):U2(this._dateAdapter,e,r,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Nw),u.Y36((0,u.Gpc)(()=>sO)),u.Y36(Ei,8),u.Y36(Su,8),u.Y36(u.sBO))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:hY,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,r){1&e&&(u.F$t(),u.TgZ(0,"div",0)(1,"div",1)(2,"button",2),u.NdJ("click",function(){return r.currentPeriodClicked()}),u.TgZ(3,"span"),u._uU(4),u.qZA(),u.O4$(),u.TgZ(5,"svg",3),u._UZ(6,"polygon",4),u.qZA()(),u.kcU(),u._UZ(7,"div",5),u.Hsn(8),u.TgZ(9,"button",6),u.NdJ("click",function(){return r.previousClicked()}),u.qZA(),u.TgZ(10,"button",7),u.NdJ("click",function(){return r.nextClicked()}),u.qZA()()()),2&e&&(u.xp6(2),u.uIk("aria-label",r.periodButtonLabel)("aria-describedby",r._buttonDescriptionId),u.xp6(1),u.uIk("id",r._buttonDescriptionId),u.xp6(1),u.Oqu(r.periodButtonText),u.xp6(1),u.ekj("mat-calendar-invert","month"!==r.calendar.currentView),u.xp6(4),u.Q6J("disabled",!r.previousEnabled()),u.uIk("aria-label",r.prevButtonLabel),u.xp6(1),u.Q6J("disabled",!r.nextEnabled()),u.uIk("aria-label",r.nextButtonLabel))},dependencies:[xw],encapsulation:2,changeDetection:0}),n})(),sO=(()=>{class n{constructor(e,r,i,s){this._dateAdapter=r,this._dateFormats=i,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new u.vpe,this.yearSelected=new u.vpe,this.monthSelected=new u.vpe,this.viewChanged=new u.vpe(!0),this._userSelection=new u.vpe,this.stateChanges=new yt.x,this._intlChanges=e.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Ro?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const r=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),r&&this.viewChanged.emit(r)}ngAfterContentInit(){this._calendarHeaderPortal=new Sc(this.headerComponent||xY),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const r=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,i=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,s=r||i||e.dateFilter;if(s&&!s.firstChange){const c=this._getCurrentViewComponent();c&&(this._changeDetectorRef.detectChanges(),c._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const r=e.value;(this.selected instanceof Ro||r&&!this._dateAdapter.sameDate(r,this.selected))&&this.selectedChange.emit(r),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,r){this.activeDate=e,this.currentView=r}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Nw),u.Y36(Ei,8),u.Y36(Su,8),u.Y36(u.sBO))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,r){if(1&e&&(u.Gf(V2,5),u.Gf(j2,5),u.Gf(B2,5)),2&e){let i;u.iGM(i=u.CRH())&&(r.monthView=i.first),u.iGM(i=u.CRH())&&(r.yearView=i.first),u.iGM(i=u.CRH())&&(r.multiYearView=i.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[u._Bn([L2]),u.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,r){1&e&&(u.YNc(0,fY,0,0,"ng-template",0),u.TgZ(1,"div",1),u.YNc(2,pY,1,8,"mat-month-view",2),u.YNc(3,mY,1,6,"mat-year-view",3),u.YNc(4,gY,1,6,"mat-multi-year-view",4),u.qZA()),2&e&&(u.Q6J("cdkPortalOutlet",r._calendarHeaderPortal),u.xp6(1),u.Q6J("ngSwitch",r.currentView),u.xp6(1),u.Q6J("ngSwitchCase","month"),u.xp6(1),u.Q6J("ngSwitchCase","year"),u.xp6(1),u.Q6J("ngSwitchCase","multi-year"))},dependencies:[xs,il,t1,Xd,V2,j2,B2],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();const $2={transformPanel:$n("transformPanel",[To("void => enter-dropdown",Ga("120ms cubic-bezier(0, 0, 0.2, 1)",yg([pr({opacity:0,transform:"scale(1, 0.8)"}),pr({opacity:1,transform:"scale(1, 1)"})]))),To("void => enter-dialog",Ga("150ms cubic-bezier(0, 0, 0.2, 1)",yg([pr({opacity:0,transform:"scale(0.7)"}),pr({transform:"none",opacity:1})]))),To("* => void",Ga("100ms linear",pr({opacity:0})))]),fadeInCalendar:$n("fadeInCalendar",[Wa("void",pr({opacity:0})),Wa("enter",pr({opacity:1})),To("void => *",Ga("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let kY=0;const z2=new u.OlP("mat-datepicker-scroll-strategy"),OY={provide:z2,deps:[ts],useFactory:function RY(n){return()=>n.scrollStrategies.reposition()}},PY=Iu(class{constructor(n){this._elementRef=n}});let NY=(()=>{class n extends PY{constructor(e,r,i,s,c,h){super(e),this._changeDetectorRef=r,this._globalModel=i,this._dateAdapter=s,this._rangeSelectionStrategy=c,this._subscriptions=new jr.w0,this._animationDone=new yt.x,this._actionsPortal=null,this._closeButtonText=h.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const r=this._model.selection,i=e.value,s=r instanceof Ro;if(s&&this._rangeSelectionStrategy){const c=this._rangeSelectionStrategy.selectionFinished(i,r,e.event);this._model.updateSelection(c,this)}else i&&(s||!this._dateAdapter.sameDate(i,r))&&this._model.add(i);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,r){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,r&&this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(kh),u.Y36(Ei),u.Y36(ZI,8),u.Y36(Nw))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,r){if(1&e&&u.Gf(sO,5),2&e){let i;u.iGM(i=u.CRH())&&(r._calendar=i.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,r){1&e&&u.WFA("@transformPanel.done",function(){return r._animationDone.next()}),2&e&&(u.d8E("@transformPanel",r._animationState),u.ekj("mat-datepicker-content-touch",r.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[u.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,r){if(1&e&&(u.TgZ(0,"div",0)(1,"mat-calendar",1),u.NdJ("yearSelected",function(s){return r.datepicker._selectYear(s)})("monthSelected",function(s){return r.datepicker._selectMonth(s)})("viewChanged",function(s){return r.datepicker._viewChanged(s)})("_userSelection",function(s){return r._handleUserSelection(s)}),u.qZA(),u.YNc(2,_Y,0,0,"ng-template",2),u.TgZ(3,"button",3),u.NdJ("focus",function(){return r._closeButtonFocused=!0})("blur",function(){return r._closeButtonFocused=!1})("click",function(){return r.datepicker.close()}),u._uU(4),u.qZA()()),2&e){let i;u.ekj("mat-datepicker-content-container-with-custom-header",r.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",r._actionsPortal),u.uIk("aria-modal",!0)("aria-labelledby",null!==(i=r._dialogLabelId)&&void 0!==i?i:void 0),u.xp6(1),u.Q6J("id",r.datepicker.id)("ngClass",r.datepicker.panelClass)("startAt",r.datepicker.startAt)("startView",r.datepicker.startView)("minDate",r.datepicker._getMinDate())("maxDate",r.datepicker._getMaxDate())("dateFilter",r.datepicker._getDateFilter())("headerComponent",r.datepicker.calendarHeaderComponent)("selected",r._getSelected())("dateClass",r.datepicker.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("@fadeInCalendar","enter"),u.xp6(1),u.Q6J("cdkPortalOutlet",r._actionsPortal),u.xp6(1),u.ekj("cdk-visually-hidden",!r._closeButtonFocused),u.Q6J("color",r.color||"primary"),u.xp6(1),u.Oqu(r._closeButtonText)}},dependencies:[wa,xw,ja,Xd,sO],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[$2.transformPanel,$2.fadeInCalendar]},changeDetection:0}),n})(),G2=(()=>{class n{constructor(e,r,i,s,c,h,p){this._overlay=e,this._ngZone=r,this._viewContainerRef=i,this._dateAdapter=c,this._dir=h,this._model=p,this._inputStateChanges=jr.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new u.vpe,this.monthSelected=new u.vpe,this.viewChanged=new u.vpe(!0),this.openedStream=new u.vpe,this.closedStream=new u.vpe,this._opened=!1,this.id="mat-datepicker-"+kY++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new yt.x,this._scrollStrategy=s}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=hr(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const r=hr(e);r!==this._disabled&&(this._disabled=r,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=hr(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function fC(n,t=/\s+/){const e=[];if(null!=n){const r=Array.isArray(n)?n:`${n}`.split(t);for(const i of r){const s=`${i}`.trim();s&&e.push(s)}}return e}(e)}get opened(){return this._opened}set opened(e){hr(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const r=e.xPosition||e.yPosition;if(r&&!r.firstChange&&this._overlayRef){const i=this._overlayRef.getConfig().positionStrategy;i instanceof Fv&&(this._setConnectedPositions(i),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=Fd(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const r=this._componentRef.instance;r._startExitAnimation(),r._animationDone.pipe(nr(1)).subscribe(()=>this._destroyOverlay())}const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,r=new Sc(NY,this._viewContainerRef),i=this._overlayRef=this._overlay.create(new dg({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(i).subscribe(s=>{s&&s.preventDefault(),this.close()}),i.keydownEvents().subscribe(s=>{const c=s.keyCode;(38===c||40===c||37===c||39===c||33===c||34===c)&&s.preventDefault()}),this._componentRef=i.attach(r),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(nr(1)).subscribe(()=>i.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const r="end"===this.xPosition?"end":"start",i="start"===r?"end":"start",s="above"===this.yPosition?"bottom":"top",c="top"===s?"bottom":"top";return e.withPositions([{originX:r,originY:c,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:c},{originX:i,originY:c,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:c}])}_getCloseStream(e){return(0,$a.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(kn(r=>27===r.keyCode&&!Hd(r)||this.datepickerInput&&Hd(r,"altKey")&&38===r.keyCode)))}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(ts),u.Y36(u.R0b),u.Y36(u.s_b),u.Y36(z2),u.Y36(Ei,8),u.Y36(Wr,8),u.Y36(kh))},n.\u0275dir=u.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[u.TTD]}),n})(),FY=(()=>{class n extends G2{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[u._Bn([L2,{provide:G2,useExisting:n}]),u.qOj],decls:0,vars:0,template:function(e,r){},encapsulation:2,changeDetection:0}),n})();class QI{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let LY=(()=>{class n{constructor(e,r,i){this._elementRef=e,this._dateAdapter=r,this._dateFormats=i,this.dateChange=new u.vpe,this.dateInput=new u.vpe,this.stateChanges=new yt.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=jr.w0.EMPTY,this._localeSubscription=jr.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!c||this._matchesFilter(c)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),h=this._getMinDate();return!h||!c||this._dateAdapter.compareDate(h,c)<=0?null:{matDatepickerMin:{min:h,actual:c}}},this._maxValidator=s=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),h=this._getMaxDate();return!h||!c||this._dateAdapter.compareDate(h,c)>=0?null:{matDatepickerMax:{max:h,actual:c}}},this._lastValueValid=!1,this._localeSubscription=r.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const r=hr(e),i=this._elementRef.nativeElement;this._disabled!==r&&(this._disabled=r,this.stateChanges.next(void 0)),r&&this._isInitialized&&i.blur&&i.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(r=>{if(this._shouldHandleChangeEvent(r)){const i=this._getValueFromModel(r.selection);this._lastValueValid=this._isValidValue(i),this._cvaOnChange(i),this._onTouched(),this._formatValue(i),this.dateInput.emit(new QI(this,this._elementRef.nativeElement)),this.dateChange.emit(new QI(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function VY(n,t){const e=Object.keys(n);for(let r of e){const{previousValue:i,currentValue:s}=n[r];if(!t.isDateInstance(i)||!t.isDateInstance(s))return!0;if(!t.sameDate(i,s))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const r=this._lastValueValid;let i=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(i),i=this._dateAdapter.getValidDateOrNull(i);const s=!this._dateAdapter.sameDate(i,this.value);!i||s?this._cvaOnChange(i):(e&&!this.value&&this._cvaOnChange(i),r!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(i),this.dateInput.emit(new QI(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new QI(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const r=this._getDateFilter();return!r||r(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(Ei,8),u.Y36(Su,8))},n.\u0275dir=u.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[u.TTD]}),n})();const BY={provide:jl,useExisting:(0,u.Gpc)(()=>oO),multi:!0},UY={provide:as,useExisting:(0,u.Gpc)(()=>oO),multi:!0};let oO=(()=>{class n extends LY{constructor(e,r,i,s){super(e,r,i),this._formField=s,this._closedSubscription=jr.w0.EMPTY,this._validator=MB.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(r,this._min)||(this._min=r,this._validatorOnChange())}get max(){return this._max}set max(e){const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(r,this._max)||(this._max=r,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const r=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==r&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(Ei,8),u.Y36(Su,8),u.Y36(OR,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,r){1&e&&u.NdJ("input",function(s){return r._onInput(s.target.value)})("change",function(){return r._onChange()})("blur",function(){return r._onBlur()})("keydown",function(s){return r._onKeydown(s)}),2&e&&(u.Ikx("disabled",r.disabled),u.uIk("aria-haspopup",r._datepicker?"dialog":null)("aria-owns",(null==r._datepicker?null:r._datepicker.opened)&&r._datepicker.id||null)("min",r.min?r._dateAdapter.toIso8601(r.min):null)("max",r.max?r._dateAdapter.toIso8601(r.max):null)("data-mat-calendar",r._datepicker?r._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[u._Bn([BY,UY,{provide:N2,useExisting:n}]),u.qOj]}),n})(),HY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),jY=(()=>{class n{constructor(e,r,i){this._intl=e,this._changeDetectorRef=r,this._stateChanges=jr.w0.EMPTY;const s=Number(i);this.tabIndex=s||0===s?s:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=hr(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:qe(),r=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:qe(),i=this.datepicker?(0,$a.T)(this.datepicker.openedStream,this.datepicker.closedStream):qe();this._stateChanges.unsubscribe(),this._stateChanges=(0,$a.T)(this._intl.changes,e,r,i).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Nw),u.Y36(u.sBO),u.$8M("tabindex"))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,r,i){if(1&e&&u.Suo(i,HY,5),2&e){let s;u.iGM(s=u.CRH())&&(r._customIcon=s.first)}},viewQuery:function(e,r){if(1&e&&u.Gf(yY,5),2&e){let i;u.iGM(i=u.CRH())&&(r._button=i.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,r){1&e&&u.NdJ("click",function(s){return r._open(s)}),2&e&&(u.uIk("tabindex",null)("data-mat-calendar",r.datepicker?r.datepicker.id:null),u.ekj("mat-datepicker-toggle-active",r.datepicker&&r.datepicker.opened)("mat-accent",r.datepicker&&"accent"===r.datepicker.color)("mat-warn",r.datepicker&&"warn"===r.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[u.TTD],ngContentSelectors:wY,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,r){1&e&&(u.F$t(bY),u.TgZ(0,"button",0,1),u.YNc(2,vY,2,0,"svg",2),u.Hsn(3),u.qZA()),2&e&&(u.Q6J("disabled",r.disabled)("disableRipple",r.disableRipple),u.uIk("aria-haspopup",r.datepicker?"dialog":null)("aria-label",r.ariaLabel||r._intl.openCalendarLabel)("tabindex",r.disabled?-1:r.tabIndex),u.xp6(2),u.Q6J("ngIf",!r._customIcon))},dependencies:[so,xw],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),$Y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Nw,OY],imports:[Lo,vB,eh,tg,Jd,fr,Eu]}),n})();const zY=["primaryValueBar"],GY=Iu(class{constructor(n){this._elementRef=n}},"primary"),WY=new u.OlP("mat-progress-bar-location",{providedIn:"root",factory:function qY(){const n=(0,u.f3M)(oe),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),YY=new u.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let KY=0,ZY=(()=>{class n extends GY{constructor(e,r,i,s,c,h){super(e),this._ngZone=r,this._animationMode=i,this._changeDetectorRef=h,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new u.vpe,this._animationEndSubscription=jr.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+KY++;const p=s?s.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${p}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===i,c&&(c.color&&(this.color=this.defaultColor=c.color),this.mode=c.mode||this.mode)}get value(){return this._value}set value(e){this._value=W2(jd(e)||0),this._changeDetectorRef?.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(e){this._bufferValue=W2(e||0),this._changeDetectorRef?.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=la(e,"transitionend").pipe(kn(r=>r.target===e)).subscribe(()=>{0!==this.animationEnd.observers.length&&("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(u.QbO,8),u.Y36(WY,8),u.Y36(YY,8),u.Y36(u.sBO))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(e,r){if(1&e&&u.Gf(zY,5),2&e){let i;u.iGM(i=u.CRH())&&(r._primaryValueBar=i.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,r){2&e&&(u.uIk("aria-valuenow","indeterminate"===r.mode||"query"===r.mode?null:r.value)("mode",r.mode),u.ekj("_mat-animation-noopable",r._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[u.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0),u.O4$(),u.TgZ(1,"svg",1)(2,"defs")(3,"pattern",2),u._UZ(4,"circle",3),u.qZA()(),u._UZ(5,"rect",4),u.qZA(),u.kcU(),u._UZ(6,"div",5)(7,"div",6,7)(9,"div",8),u.qZA()),2&e&&(u.xp6(3),u.Q6J("id",r.progressbarId),u.xp6(2),u.uIk("fill",r._rectangleFillValue),u.xp6(1),u.Q6J("ngStyle",r._bufferTransform()),u.xp6(1),u.Q6J("ngStyle",r._primaryTransform()))},dependencies:[Yl],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}.mat-progress-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}'],encapsulation:2,changeDetection:0}),n})();function W2(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let QY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Lo,fr,fr]}),n})();function XY(n,t){1&n&&u._UZ(0,"mat-progress-bar",14)}let JY=(()=>{class n{constructor(e,r){this.dialogRef=e,this.firestore=r,this.user=new W0,this.birthDate=Date,this.loading=!1}ngOnInit(){}saveUser(){this.user.birthDate=this.birthDate.getTime(),console.log("Current user is",this.user),this.loading=!0,this.firestore.collection("users").add(this.user.toJSON()).then(e=>{this.loading=!1,console.log("adding user finished",e),this.dialogRef.close()})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Yv),u.Y36(xR))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-dialog-add-user"]],decls:41,vars:17,consts:[[1,"dialog-container"],["mode","indeterminate",4,"ngIf"],["mat-dialog-title",""],["mat-dialog-content",""],["appearance","outline",1,"mr-16"],["matInput","","placeholder","Placeholder",3,"disabled","ngModel","ngModelChange"],["appearance","outline"],["appearance","outline",1,"full-width"],["matInput","","placeholder","Placeholder",3,"disabled","ngModel","matDatepicker","ngModelChange"],["matSuffix","",3,"for"],["picker1",""],["mat-dialog-actions",""],["mat-button","",3,"disabled"],["mat-button","","cdkFocusInitial","",3,"disabled","click"],["mode","indeterminate"]],template:function(e,r){if(1&e&&(u.TgZ(0,"div",0),u.YNc(1,XY,1,0,"mat-progress-bar",1),u.TgZ(2,"h1",2),u._uU(3,"Add User"),u.qZA(),u.TgZ(4,"div",3)(5,"div")(6,"mat-form-field",4)(7,"mat-label"),u._uU(8,"First Name"),u.qZA(),u.TgZ(9,"input",5),u.NdJ("ngModelChange",function(s){return r.user.firstName=s}),u.qZA()(),u.TgZ(10,"mat-form-field",6)(11,"mat-label"),u._uU(12,"Last Name"),u.qZA(),u.TgZ(13,"input",5),u.NdJ("ngModelChange",function(s){return r.user.lastName=s}),u.qZA()()(),u.TgZ(14,"div")(15,"mat-form-field",7)(16,"mat-label"),u._uU(17,"Birth Date"),u.qZA(),u.TgZ(18,"input",8),u.NdJ("ngModelChange",function(s){return r.birthDate=s}),u.qZA(),u._UZ(19,"mat-datepicker-toggle",9)(20,"mat-datepicker",null,10),u.qZA()(),u.TgZ(22,"div")(23,"mat-form-field",7)(24,"mat-label"),u._uU(25,"Street + Housenr."),u.qZA(),u.TgZ(26,"input",5),u.NdJ("ngModelChange",function(s){return r.user.street=s}),u.qZA()()(),u.TgZ(27,"div")(28,"mat-form-field",4)(29,"mat-label"),u._uU(30,"zip code"),u.qZA(),u.TgZ(31,"input",5),u.NdJ("ngModelChange",function(s){return r.user.zipCode=s}),u.qZA()(),u.TgZ(32,"mat-form-field",6)(33,"mat-label"),u._uU(34,"city"),u.qZA(),u.TgZ(35,"input",5),u.NdJ("ngModelChange",function(s){return r.user.city=s}),u.qZA()()()(),u.TgZ(36,"div",11)(37,"button",12),u._uU(38,"cancel"),u.qZA(),u.TgZ(39,"button",13),u.NdJ("click",function(){return r.saveUser()}),u._uU(40,"save"),u.qZA()()()),2&e){const i=u.MAs(21);u.xp6(1),u.Q6J("ngIf",r.loading),u.xp6(8),u.Q6J("disabled",r.loading)("ngModel",r.user.firstName),u.xp6(4),u.Q6J("disabled",r.loading)("ngModel",r.user.lastName),u.xp6(5),u.Q6J("disabled",r.loading)("ngModel",r.birthDate)("matDatepicker",i),u.xp6(1),u.Q6J("for",i),u.xp6(7),u.Q6J("disabled",r.loading)("ngModel",r.user.street),u.xp6(5),u.Q6J("disabled",r.loading)("ngModel",r.user.zipCode),u.xp6(4),u.Q6J("disabled",r.loading)("ngModel",r.user.city),u.xp6(2),u.Q6J("disabled",r.loading),u.xp6(2),u.Q6J("disabled",r.loading)}},dependencies:[so,xw,x1,DE,wg,J6,RR,K6,iY,FY,oO,jY,VI,XB,qR,ZY],styles:[".dialog-container[_ngcontent-%COMP%]{position:relative}.dialog-container[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{position:absolute;left:-24;right:-24;top:-24;width:calc(100% + 40px)}"]}),n})();class e4{}class Rh{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),s=i.toLowerCase(),c=e.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Rh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Rh;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Rh?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const s=t.value;if(s){let c=this.headers.get(e);if(!c)return;c=c.filter(h=>-1===s.indexOf(h)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class t4{encodeKey(t){return q2(t)}encodeValue(t){return q2(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const r4=/%(\d[a-f0-9])/gi,i4={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function q2(n){return encodeURIComponent(n).replace(r4,(t,e)=>i4[e]??t)}function XI(n){return`${n}`}class Oh{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new t4,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function n4(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[c,h]=-1==s?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],p=e.get(c)||[];p.push(h),e.set(c,p)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e],i=Array.isArray(r)?r.map(XI):[XI(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(s=>{e.push({param:r,value:s,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Oh({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(XI(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(XI(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class s4{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Y2(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function K2(n){return typeof Blob<"u"&&n instanceof Blob}function Z2(n){return typeof FormData<"u"&&n instanceof FormData}class Lw{constructor(t,e,r,i){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function o4(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Rh),this.context||(this.context=new s4),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+c}}else this.params=new Oh,this.urlWithParams=e}serializeBody(){return null===this.body?null:Y2(this.body)||K2(this.body)||Z2(this.body)||function a4(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Oh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Z2(this.body)?null:K2(this.body)?this.body.type||null:Y2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Oh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,c=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let p=t.headers||this.headers,_=t.params||this.params;const w=t.context??this.context;return void 0!==t.setHeaders&&(p=Object.keys(t.setHeaders).reduce((I,x)=>I.set(x,t.setHeaders[x]),p)),t.setParams&&(_=Object.keys(t.setParams).reduce((I,x)=>I.set(x,t.setParams[x]),_)),new Lw(e,r,s,{params:_,headers:p,context:w,reportProgress:h,responseType:i,withCredentials:c})}}var ls=(()=>((ls=ls||{})[ls.Sent=0]="Sent",ls[ls.UploadProgress=1]="UploadProgress",ls[ls.ResponseHeader=2]="ResponseHeader",ls[ls.DownloadProgress=3]="DownloadProgress",ls[ls.Response=4]="Response",ls[ls.User=5]="User",ls))();class aO extends class l4{constructor(t,e=200,r="OK"){this.headers=t.headers||new Rh,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=ls.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new aO({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function lO(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let X2=(()=>{class n{constructor(e){this.handler=e}request(e,r,i={}){let s;if(e instanceof Lw)s=e;else{let p,_;p=i.headers instanceof Rh?i.headers:new Rh(i.headers),i.params&&(_=i.params instanceof Oh?i.params:new Oh({fromObject:i.params})),s=new Lw(e,r,void 0!==i.body?i.body:null,{headers:p,context:i.context,params:_,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=qe(s).pipe(Rn(p=>this.handler.handle(p)));if(e instanceof Lw||"events"===i.observe)return c;const h=c.pipe(kn(p=>p instanceof aO));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,ht.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe((0,ht.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe((0,ht.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe((0,ht.U)(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Oh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,lO(i,r))}post(e,r,i={}){return this.request("POST",e,lO(i,r))}put(e,r,i={}){return this.request("PUT",e,lO(i,r))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(e4))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const u4=["*"];let JI;function Vw(n){return function d4(){if(void 0===JI&&(JI=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(JI=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return JI}()?.createHTML(n)||n}function J2(n){return Error(`Unable to find icon with the name "${n}"`)}function eU(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function tU(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Bp{constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}}let eS=(()=>{class n{constructor(e,r,i,s){this._httpClient=e,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,s){return this._addSvgIconConfig(e,r,new Bp(i,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,s){const c=this._sanitizer.sanitize(u.q3G.HTML,i);if(!c)throw tU(i);const h=Vw(c);return this._addSvgIconConfig(e,r,new Bp("",h,s))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new Bp(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){const s=this._sanitizer.sanitize(u.q3G.HTML,r);if(!s)throw tU(r);const c=Vw(s);return this._addSvgIconSetConfig(e,new Bp("",c,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,e);if(!r)throw eU(e);const i=this._cachedIconsByUrl.get(r);return i?qe(tS(i)):this._loadSvgIconFromConfig(new Bp(e,null)).pipe((0,rr.b)(s=>this._cachedIconsByUrl.set(r,s)),(0,ht.U)(s=>tS(s)))}getNamedSvgIcon(e,r=""){const i=nU(r,e);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,e),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(r);return c?this._getSvgFromIconSetConfigs(e,c):Oi(J2(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?qe(tS(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,ht.U)(r=>tS(r)))}_getSvgFromIconSetConfigs(e,r){const i=this._extractIconWithNameFromAnySet(e,r);return i?qe(i):IB(r.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(Jr(h=>{const _=`Loading icon set URL: ${this._sanitizer.sanitize(u.q3G.RESOURCE_URL,c.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(_)),qe(null)})))).pipe((0,ht.U)(()=>{const c=this._extractIconWithNameFromAnySet(e,r);if(!c)throw J2(e);return c}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const c=this._svgElementFromConfig(s),h=this._extractSvgIconFromSet(c,e,s.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,rr.b)(r=>e.svgText=r),(0,ht.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?qe(null):this._fetchIcon(e).pipe((0,rr.b)(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){const s=e.querySelector(`[id="${r}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,i);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),i);const h=this._svgElementFromString(Vw("<svg></svg>"));return h.appendChild(c),this._setSvgAttributes(h,i)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const r=this._svgElementFromString(Vw("<svg></svg>")),i=e.attributes;for(let s=0;s<i.length;s++){const{name:c,value:h}=i[s];"id"!==c&&r.setAttribute(c,h)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){const{url:r,options:i}=e,s=i?.withCredentials??!1;if(!this._httpClient)throw function h4(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const c=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,r);if(!c)throw eU(r);const h=this._inProgressUrlFetches.get(c);if(h)return h;const p=this._httpClient.get(c,{responseType:"text",withCredentials:s}).pipe((0,ht.U)(_=>Vw(_)),Xi(()=>this._inProgressUrlFetches.delete(c)),(0,RV.B)());return this._inProgressUrlFetches.set(c,p),p}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(nU(e,r),i),this}_addSvgIconSetConfig(e,r){const i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,e);if(s)return p4(s)?new Bp(s.url,null,s.options):new Bp(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(X2,8),u.LFG(Go),u.LFG(oe,8),u.LFG(u.qLn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tS(n){return n.cloneNode(!0)}function nU(n,t){return n+":"+t}function p4(n){return!(!n.url||!n.options)}const m4=Iu(class{constructor(n){this._elementRef=n}}),g4=new u.OlP("MAT_ICON_DEFAULT_OPTIONS"),_4=new u.OlP("mat-icon-location",{providedIn:"root",factory:function y4(){const n=(0,u.f3M)(oe),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),rU=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],v4=rU.map(n=>`[${n}]`).join(", "),b4=/^url\(['"]?#(.*?)['"]?\)$/;let iU=(()=>{class n extends m4{constructor(e,r,i,s,c,h){super(e),this._iconRegistry=r,this._location=s,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=jr.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),i||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=hr(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=e.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(c=>{s.setAttribute(c.name,`url('${e}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(v4),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)rU.forEach(c=>{const h=r[s],p=h.getAttribute(c),_=p?p.match(b4):null;if(_){let w=i.get(h);w||(w=[],i.set(h,w)),w.push({name:c,value:_[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(nr(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(eS),u.$8M("aria-hidden"),u.Y36(_4),u.Y36(u.qLn),u.Y36(g4,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,r){2&e&&(u.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),u.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[u.qOj],ngContentSelectors:u4,decls:1,vars:0,template:function(e,r){1&e&&(u.F$t(),u.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),w4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[fr,fr]}),n})();const C4=["tooltip"],sU="tooltip-panel",oU=Nd({passive:!0}),aU=new u.OlP("mat-tooltip-scroll-strategy"),S4={provide:aU,deps:[ts],useFactory:function I4(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},T4=new u.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function A4(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let M4=(()=>{class n{constructor(e,r,i,s,c,h,p,_,w,I,x,L){this._overlay=e,this._elementRef=r,this._scrollDispatcher=i,this._viewContainerRef=s,this._ngZone=c,this._platform=h,this._ariaDescriber=p,this._focusMonitor=_,this._dir=I,this._defaultOptions=x,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new yt.x,this._scrollStrategy=w,this._document=L,x&&(x.position&&(this.position=x.position),x.touchGestures&&(this.touchGestures=x.touchGestures)),I.change.pipe(ir(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=hr(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=jd(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=jd(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(ir(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,i])=>{e.removeEventListener(r,i,oU)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const r=this._createOverlay();this._detach(),this._portal=this._portal||new Sc(this._tooltipComponent,this._viewContainerRef);const i=this._tooltipInstance=r.attach(this._portal).instance;i._triggerElement=this._elementRef.nativeElement,i._mouseLeaveHideDelay=this._hideDelay,i.afterHidden().pipe(ir(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),i.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return r.positionChanges.pipe(ir(this._destroyed)).subscribe(i=>{this._updateCurrentPositionClass(i.connectionPair),this._tooltipInstance&&i.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${sU}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(ir(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(ir(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(ir(this._destroyed)).subscribe(i=>{this._isTooltipVisible()&&27===i.keyCode&&!Hd(i)&&(i.preventDefault(),i.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const r=e.getConfig().positionStrategy,i=this._getOrigin(),s=this._getOverlayPosition();r.withPositions([this._addOffset({...i.main,...s.main}),this._addOffset({...i.fallback,...s.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r||"below"==r?i={originX:"center",originY:"above"==r?"top":"bottom"}:"before"==r||"left"==r&&e||"right"==r&&!e?i={originX:"start",originY:"center"}:("after"==r||"right"==r&&e||"left"==r&&!e)&&(i={originX:"end",originY:"center"});const{x:s,y:c}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:s,originY:c}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r?i={overlayX:"center",overlayY:"bottom"}:"below"==r?i={overlayX:"center",overlayY:"top"}:"before"==r||"left"==r&&e||"right"==r&&!e?i={overlayX:"end",overlayY:"center"}:("after"==r||"right"==r&&e||"left"==r&&!e)&&(i={overlayX:"start",overlayY:"center"});const{x:s,y:c}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:s,overlayY:c}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(nr(1),ir(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,r){return"above"===this.position||"below"===this.position?"top"===r?r="bottom":"bottom"===r&&(r="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:r}}_updateCurrentPositionClass(e){const{overlayY:r,originX:i,originY:s}=e;let c;if(c="center"===r?this._dir&&"rtl"===this._dir.value?"end"===i?"left":"right":"start"===i?"left":"right":"bottom"===r&&"top"===s?"above":"below",c!==this._currentPosition){const h=this._overlayRef;if(h){const p=`${this._cssClassPrefix}-${sU}-`;h.removePanelClass(p+this._currentPosition),h.addPanelClass(p+c)}this._currentPosition=c}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",r=>{const i=r.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const r=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",r],["touchcancel",r])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([r,i])=>{this._elementRef.nativeElement.addEventListener(r,i,oU)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const r=this._document.elementFromPoint(e.clientX,e.clientY),i=this._elementRef.nativeElement;r!==i&&!i.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const r=this._elementRef.nativeElement,i=r.style;("on"===e||"INPUT"!==r.nodeName&&"TEXTAREA"!==r.nodeName)&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),("on"===e||!r.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){u.$Z()},n.\u0275dir=u.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),x4=(()=>{class n extends M4{constructor(e,r,i,s,c,h,p,_,w,I,x,L){super(e,r,i,s,c,h,p,_,w,I,x,L),this._tooltipComponent=R4}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(ts),u.Y36(u.SBq),u.Y36(Ol),u.Y36(u.s_b),u.Y36(u.R0b),u.Y36(zr),u.Y36(hA),u.Y36(xl),u.Y36(aU),u.Y36(Wr,8),u.Y36(T4,8),u.Y36(oe))},n.\u0275dir=u.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[u.qOj]}),n})(),k4=(()=>{class n{constructor(e,r){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new yt.x,this._animationsDisabled="NoopAnimations"===r}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const r=this._tooltip.nativeElement,i=this._showAnimation,s=this._hideAnimation;if(r.classList.remove(e?s:i),r.classList.add(e?i:s),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const c=getComputedStyle(r);("0s"===c.getPropertyValue("animation-duration")||"none"===c.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.sBO),u.Y36(u.QbO,8))},n.\u0275dir=u.lG2({type:n}),n})(),R4=(()=>{class n extends k4{constructor(e,r,i){super(e,i),this._breakpointObserver=r,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.sBO),u.Y36(_C),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,r){if(1&e&&u.Gf(C4,7),2&e){let i;u.iGM(i=u.CRH())&&(r._tooltip=i.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,r){1&e&&u.NdJ("mouseleave",function(s){return r._handleMouseLeave(s)}),2&e&&u.Udp("zoom",r.isVisible()?1:null)},features:[u.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,r){if(1&e&&(u.TgZ(0,"div",0,1),u.NdJ("animationend",function(s){return r._handleAnimationEnd(s)}),u.ALo(2,"async"),u._uU(3),u.qZA()),2&e){let i;u.ekj("mat-tooltip-handset",null==(i=u.lcZ(2,4,r._isHandset))?null:i.matches),u.Q6J("ngClass",r.tooltipClass),u.xp6(3),u.Oqu(r.message)}},dependencies:[wa,Kh],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),n})(),O4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[S4],imports:[tg,Lo,eh,fr,fr,Eu]}),n})();const P4=["*",[["mat-card-footer"]]],N4=["*","mat-card-footer"];let F4=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,r){2&e&&u.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:N4,decls:2,vars:0,template:function(e,r){1&e&&(u.F$t(P4),u.Hsn(0),u.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),L4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[fr,fr]}),n})();function V4(n,t){if(1&n&&(u.TgZ(0,"tr")(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4,"Peterson"),u.qZA(),u.TgZ(5,"td"),u._uU(6,"Stadtname"),u.qZA()()),2&n){const e=t.$implicit;u.xp6(2),u.Oqu(e.firstName)}}const B4=[{path:"",component:G0},{path:"dashboard",component:G0},{path:"user",component:(()=>{class n{constructor(e,r){this.dialog=e,this.firestore=r,this.user=new W0,this.allUsers=[]}ngOnInit(){this.firestore.collection("users").valueChanges().subscribe(e=>{console.log("received changes from db",e),this.allUsers=e})}openDialog(){this.dialog.open(JY)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(EE),u.Y36(xR))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-user"]],decls:13,vars:1,consts:[[1,"user-table"],[4,"ngFor","ngForOf"],["mat-fab","","color","primary","matTooltip","Add user",1,"add-user-btn",3,"click"]],template:function(e,r){1&e&&(u.TgZ(0,"mat-card")(1,"table",0)(2,"tr")(3,"th"),u._uU(4,"Name"),u.qZA(),u.TgZ(5,"th"),u._uU(6,"E-Mail"),u.qZA(),u.TgZ(7,"th"),u._uU(8,"City"),u.qZA()(),u.YNc(9,V4,7,1,"tr",1),u.qZA()(),u.TgZ(10,"button",2),u.NdJ("click",function(){return r.openDialog()}),u.TgZ(11,"mat-icon"),u._uU(12,"person_add"),u.qZA()()),2&e&&(u.xp6(9),u.Q6J("ngForOf",r.allUsers))},dependencies:[Ms,iU,xw,x4,F4],styles:["mat-card[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.add-user-btn[_ngcontent-%COMP%]{position:absolute;right:56px;bottom:56px}.user-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.1);cursor:pointer}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child{cursor:unset}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child:hover{background-color:unset}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:0}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:48px}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, .user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding-left:16px}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#0000000a}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#0006;font-size:14px;font-weight:500;text-align:start}"]}),n})()}];let U4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Xy.forRoot(B4),Xy]}),n})();const H4=["*",[["mat-toolbar-row"]]],j4=["*","mat-toolbar-row"],$4=Iu(class{constructor(n){this._elementRef=n}});let lU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),z4=(()=>{class n extends $4{constructor(e,r,i){super(e),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(zr),u.Y36(oe))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,r,i){if(1&e&&u.Suo(i,lU,5),2&e){let s;u.iGM(s=u.CRH())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,r){2&e&&u.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[u.qOj],ngContentSelectors:j4,decls:2,vars:0,template:function(e,r){1&e&&(u.F$t(H4),u.Hsn(0),u.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),G4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[fr,fr]}),n})();const cU=["*"],W4=["content"];function q4(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div",2),u.NdJ("click",function(){u.CHM(e);const i=u.oxw();return u.KtG(i._onBackdropClicked())}),u.qZA()}if(2&n){const e=u.oxw();u.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function Y4(n,t){1&n&&(u.TgZ(0,"mat-drawer-content"),u.Hsn(1,2),u.qZA())}const K4=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Z4=["mat-drawer","mat-drawer-content","*"],Q4={transformDrawer:$n("transform",[Wa("open, open-instant",pr({transform:"none",visibility:"visible"})),Wa("void",pr({"box-shadow":"none",visibility:"hidden"})),To("void => open-instant",Ga("0ms")),To("void <=> open, open-instant => void",Ga("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},X4=new u.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function J4(){return!1}}),uU=new u.OlP("MAT_DRAWER_CONTAINER");let cO=(()=>{class n extends Dc{constructor(e,r,i,s,c){super(i,s,c),this._changeDetectorRef=e,this._container=r}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.sBO),u.Y36((0,u.Gpc)(()=>hU)),u.Y36(u.SBq),u.Y36(Ol),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,r){2&e&&u.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[u._Bn([{provide:Dc,useExisting:n}]),u.qOj],ngContentSelectors:cU,decls:1,vars:0,template:function(e,r){1&e&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),dU=(()=>{class n{constructor(e,r,i,s,c,h,p,_){this._elementRef=e,this._focusTrapFactory=r,this._focusMonitor=i,this._platform=s,this._ngZone=c,this._interactivityChecker=h,this._doc=p,this._container=_,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new yt.x,this._animationEnd=new yt.x,this._animationState="void",this.openedChange=new u.vpe(!0),this._openedStream=this.openedChange.pipe(kn(w=>w),(0,ht.U)(()=>{})),this.openedStart=this._animationStarted.pipe(kn(w=>w.fromState!==w.toState&&0===w.toState.indexOf("open")),vo(void 0)),this._closedStream=this.openedChange.pipe(kn(w=>!w),(0,ht.U)(()=>{})),this.closedStart=this._animationStarted.pipe(kn(w=>w.fromState!==w.toState&&"void"===w.toState),vo(void 0)),this._destroyed=new yt.x,this.onPositionChanged=new u.vpe,this._modeChanged=new yt.x,this.openedChange.subscribe(w=>{w?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{la(this._elementRef.nativeElement,"keydown").pipe(kn(w=>27===w.keyCode&&!this.disableClose&&!Hd(w)),ir(this._destroyed)).subscribe(w=>this._ngZone.run(()=>{this.close(),w.stopPropagation(),w.preventDefault()}))}),this._animationEnd.pipe(dC((w,I)=>w.fromState===I.fromState&&w.toState===I.toState)).subscribe(w=>{const{fromState:I,toState:x}=w;(0===x.indexOf("open")&&"void"===I||"void"===x&&0===I.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=hr(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=hr(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(hr(e))}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{e.removeEventListener("blur",i),e.removeEventListener("mousedown",i),e.removeAttribute("tabindex")};e.addEventListener("blur",i),e.addEventListener("mousedown",i)})),e.focus(r)}_focusByCssSelector(e,r){let i=this._elementRef.nativeElement.querySelector(e);i&&this._forceFocus(i,r)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{!r&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,r){e&&r&&(this._openedVia=r);const i=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),i}_setOpen(e,r,i){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",r&&this._restoreFocus(i)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(nr(1)).subscribe(c=>s(c?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const r=this._elementRef.nativeElement,i=r.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),i.insertBefore(this._anchor,r)),i.appendChild(r)):this._anchor&&this._anchor.parentNode.insertBefore(r,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(Nf),u.Y36(xl),u.Y36(zr),u.Y36(u.R0b),u.Y36(Xm),u.Y36(oe,8),u.Y36(uU,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,r){if(1&e&&u.Gf(W4,5),2&e){let i;u.iGM(i=u.CRH())&&(r._content=i.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,r){1&e&&u.WFA("@transform.start",function(s){return r._animationStarted.next(s)})("@transform.done",function(s){return r._animationEnd.next(s)}),2&e&&(u.uIk("align",null),u.d8E("@transform",r._animationState),u.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:cU,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,r){1&e&&(u.F$t(),u.TgZ(0,"div",0,1),u.Hsn(2),u.qZA())},dependencies:[Dc],encapsulation:2,data:{animation:[Q4.transformDrawer]},changeDetection:0}),n})(),hU=(()=>{class n{constructor(e,r,i,s,c,h=!1,p){this._dir=e,this._element=r,this._ngZone=i,this._changeDetectorRef=s,this._animationMode=p,this._drawers=new u.n_E,this.backdropClick=new u.vpe,this._destroyed=new yt.x,this._doCheckSubject=new yt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new yt.x,e&&e.change.pipe(ir(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),c.change().pipe(ir(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=h}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=hr(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:hr(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(vi(this._allDrawers),ir(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(r=>!r._container||r._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(vi(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Of(10),ir(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,r=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const i=this._left._getWidth();e+=i,r-=i}if(this._right&&this._right.opened)if("side"==this._right.mode)r+=this._right._getWidth();else if("push"==this._right.mode){const i=this._right._getWidth();r+=i,e-=i}e=e||null,r=r||null,(e!==this._contentMargins.left||r!==this._contentMargins.right)&&(this._contentMargins={left:e,right:r},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(kn(r=>r.fromState!==r.toState),ir(this._drawers.changes)).subscribe(r=>{"open-instant"!==r.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(ir(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(ir(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(nr(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(ir((0,$a.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const r=this._element.nativeElement.classList,i="mat-drawer-container-has-open";e?r.add(i):r.remove(i)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Wr,8),u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(u.sBO),u.Y36(Ic),u.Y36(X4),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,r,i){if(1&e&&(u.Suo(i,cO,5),u.Suo(i,dU,5)),2&e){let s;u.iGM(s=u.CRH())&&(r._content=s.first),u.iGM(s=u.CRH())&&(r._allDrawers=s)}},viewQuery:function(e,r){if(1&e&&u.Gf(cO,5),2&e){let i;u.iGM(i=u.CRH())&&(r._userContent=i.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,r){2&e&&u.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[u._Bn([{provide:uU,useExisting:n}])],ngContentSelectors:Z4,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,r){1&e&&(u.F$t(K4),u.YNc(0,q4,1,2,"div",0),u.Hsn(1),u.Hsn(2,1),u.YNc(3,Y4,2,0,"mat-drawer-content",1)),2&e&&(u.Q6J("ngIf",r.hasBackdrop),u.xp6(3),u.Q6J("ngIf",!r._content))},dependencies:[so,cO],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),e8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Lo,fr,Eu,Eu,fr]}),n})(),t8=(()=>{class n{constructor(){this.title="simple-crm"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:23,vars:1,consts:[["autosize","",1,"mat-drawer-container"],["mode","side",1,"sidenav",3,"opened"],["drawer",""],[1,"logo-container"],["src","./assets/img/logolucky.png",1,"logo"],[1,"menu-items"],["routerLink","/","routerLinkActive","router-link-active"],["routerLink","/user","routerLinkActive","router-link-active"],[1,"example-sidenav-content"],["color","primary"],[1,"menu-icon",3,"click"],[1,"router-container"]],template:function(e,r){if(1&e){const i=u.EpF();u.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"div",3),u._UZ(4,"img",4),u.qZA(),u.TgZ(5,"ul",5)(6,"li",6)(7,"mat-icon"),u._uU(8,"fact_check"),u.qZA(),u._uU(9,"Dashboard "),u.qZA(),u.TgZ(10,"li",7)(11,"mat-icon"),u._uU(12,"person"),u.qZA(),u._uU(13,"User "),u.qZA()()(),u.TgZ(14,"div",8)(15,"mat-toolbar",9)(16,"mat-toolbar-row")(17,"mat-icon",10),u.NdJ("click",function(){u.CHM(i);const c=u.MAs(2);return u.KtG(c.toggle())}),u._uU(18,"menu"),u.qZA(),u.TgZ(19,"span"),u._uU(20,"Simple CRM"),u.qZA()()(),u.TgZ(21,"div",11),u._UZ(22,"router-outlet"),u.qZA()()()}2&e&&(u.xp6(1),u.Q6J("opened",!0))},dependencies:[vf,Fm,B0,z4,lU,dU,hU,iU],styles:[".mat-drawer-container[_ngcontent-%COMP%]{height:100vh}.menu-icon[_ngcontent-%COMP%]{cursor:pointer}.sidenav[_ngcontent-%COMP%]{width:300px}.logo-container[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.04);padding-left:16px;padding-right:16px;min-height:56px;display:flex;align-items:center}mat-toolbar[_ngcontent-%COMP%], mat-toolbar-row[_ngcontent-%COMP%]{min-height:56px;height:56px}.menu-items[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}.menu-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px;height:48px;display:flex;align-items:center;cursor:pointer}.menu-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:16px}.menu-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#0000000a}.router-container[_ngcontent-%COMP%]{padding-left:56px;padding-right:56px;padding-top:16px}.logo[_ngcontent-%COMP%]{max-width:100px;height:48px}"]}),n})();function fU(n){return new u.vHH(3e3,!1)}function F8(){return typeof window<"u"&&typeof window.document<"u"}function uO(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Ph(n){switch(n.length){case 0:return new qf;case 1:return n[0];default:return new yE(n)}}function pU(n,t,e,r,i=new Map,s=new Map){const c=[],h=[];let p=-1,_=null;if(r.forEach(w=>{const I=w.get("offset"),x=I==p,L=x&&_||new Map;w.forEach((B,X)=>{let ve=X,Xe=B;if("offset"!==X)switch(ve=t.normalizePropertyName(ve,c),Xe){case"!":Xe=i.get(X);break;case So:Xe=s.get(X);break;default:Xe=t.normalizeStyleValue(X,ve,Xe,c)}L.set(ve,Xe)}),x||h.push(L),_=L,p=I}),c.length)throw function D8(n){return new u.vHH(3502,!1)}();return h}function dO(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&hO(e,"start",n)));break;case"done":n.onDone(()=>r(e&&hO(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&hO(e,"destroy",n)))}}function hO(n,t,e){const s=fO(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),c=n._data;return null!=c&&(s._data=c),s}function fO(n,t,e,r,i="",s=0,c){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:s,disabled:!!c}}function _a(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function mU(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let pO=(n,t)=>!1,gU=(n,t,e)=>[],_U=null;function mO(n){const t=n.parentNode||n.host;return t===_U?null:t}(uO()||typeof Element<"u")&&(F8()?(_U=(()=>document.documentElement)(),pO=(n,t)=>{for(;t;){if(t===n)return!0;t=mO(t)}return!1}):pO=(n,t)=>n.contains(t),gU=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let Up=null,yU=!1;const vU=pO,bU=gU;let wU=(()=>{class n{validateStyleProperty(e){return function V8(n){Up||(Up=function B8(){return typeof document<"u"?document.body:null}()||{},yU=!!Up.style&&"WebkitAppearance"in Up.style);let t=!0;return Up.style&&!function L8(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Up.style,!t&&yU&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Up.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return vU(e,r)}getParentElement(e){return mO(e)}query(e,r,i){return bU(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,s,c,h=[],p){return new qf(i,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),gO=(()=>{class n{}return n.NOOP=new wU,n})();const _O="ng-enter",nS="ng-leave",rS="ng-trigger",iS=".ng-trigger",EU="ng-animating",yO=".ng-animating";function Nh(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:vO(parseFloat(t[1]),t[2])}function vO(n,t){return"s"===t?1e3*n:n}function sS(n,t,e){return n.hasOwnProperty("duration")?n:function j8(n,t,e){let i,s=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(fU()),{duration:0,delay:0,easing:""};i=vO(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(s=vO(parseFloat(p),h[4]));const _=h[5];_&&(c=_)}else i=n;if(!e){let h=!1,p=t.length;i<0&&(t.push(function n8(){return new u.vHH(3100,!1)}()),h=!0),s<0&&(t.push(function r8(){return new u.vHH(3101,!1)}()),h=!0),h&&t.splice(p,0,fU())}return{duration:i,delay:s,easing:c}}(n,t,e)}function Bw(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function DU(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Fh(n,t=new Map,e){if(e)for(let[r,i]of e)t.set(r,i);for(let[r,i]of n)t.set(r,i);return t}function SU(n,t,e){return e?t+":"+e+";":""}function TU(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=SU(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=SU(0,W8(e),n.style[e]));n.setAttribute("style",t)}function Bc(n,t,e){n.style&&(t.forEach((r,i)=>{const s=wO(i);e&&!e.has(i)&&e.set(i,n.style[s]),n.style[s]=r}),uO()&&TU(n))}function Hp(n,t){n.style&&(t.forEach((e,r)=>{const i=wO(r);n.style[i]=""}),uO()&&TU(n))}function Uw(n){return Array.isArray(n)?1==n.length?n[0]:qv(n):n}const bO=new RegExp("{{\\s*(.+?)\\s*}}","g");function AU(n){let t=[];if("string"==typeof n){let e;for(;e=bO.exec(n);)t.push(e[1]);bO.lastIndex=0}return t}function oS(n,t,e){const r=n.toString(),i=r.replace(bO,(s,c)=>{let h=t[c];return null==h&&(e.push(function s8(n){return new u.vHH(3003,!1)}()),h=""),h.toString()});return i==r?n:i}function aS(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const G8=/-+([a-z0-9])/g;function wO(n){return n.replace(G8,(...t)=>t[1].toUpperCase())}function W8(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ya(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function o8(n){return new u.vHH(3004,!1)}()}}function MU(n,t){return window.getComputedStyle(n)[t]}function X8(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function J8(n,t,e){if(":"==n[0]){const p=function e5(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function b8(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof p)return void t.push(p);n=p}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function v8(n){return new u.vHH(3015,!1)}()),t;const i=r[1],s=r[2],c=r[3];t.push(xU(i,c));"<"==s[0]&&!("*"==i&&"*"==c)&&t.push(xU(c,i))}(r,e,t)):e.push(n),e}const dS=new Set(["true","1"]),hS=new Set(["false","0"]);function xU(n,t){const e=dS.has(n)||hS.has(n),r=dS.has(t)||hS.has(t);return(i,s)=>{let c="*"==n||n==i,h="*"==t||t==s;return!c&&e&&"boolean"==typeof i&&(c=i?dS.has(n):hS.has(n)),!h&&r&&"boolean"==typeof s&&(h=s?dS.has(t):hS.has(t)),c&&h}}const t5=new RegExp("s*:selfs*,?","g");function CO(n,t,e,r){return new n5(n).build(t,e,r)}class n5{constructor(t){this._driver=t}build(t,e,r){const i=new o5(e);return this._resetContextStyleTimingState(i),ya(this,Uw(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0;const s=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function l8(){return new u.vHH(3006,!1)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const p=h,_=p.name;_.toString().split(/\s*,\s*/).forEach(w=>{p.name=w,s.push(this.visitState(p,e))}),p.name=_}else if(1==h.type){const p=this.visitTransition(h,e);r+=p.queryCount,i+=p.depCount,c.push(p)}else e.errors.push(function c8(){return new u.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:c,queryCount:r,depCount:i,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const s=new Set,c=i||{};r.styles.forEach(h=>{h instanceof Map&&h.forEach(p=>{AU(p).forEach(_=>{c.hasOwnProperty(_)||s.add(_)})})}),s.size&&(aS(s.values()),e.errors.push(function u8(n,t){return new u.vHH(3008,!1)}()))}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=ya(this,Uw(t.animation),e);return{type:1,matchers:X8(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:jp(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>ya(this,r,e)),options:jp(t.options)}}visitGroup(t,e){const r=e.currentTime;let i=0;const s=t.steps.map(c=>{e.currentTime=r;const h=ya(this,c,e);return i=Math.max(i,e.currentTime),h});return e.currentTime=i,{type:3,steps:s,options:jp(t.options)}}visitAnimate(t,e){const r=function l5(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return EO(sS(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=EO(0,0,"");return s.dynamic=!0,s.strValue=e,s}const i=sS(e,t);return EO(i.duration,i.delay,i.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let i,s=t.styles?t.styles:pr({});if(5==s.type)i=this.visitKeyframes(s,e);else{let c=t.styles,h=!1;if(!c){h=!0;const _={};r.easing&&(_.easing=r.easing),c=pr(_)}e.currentTime+=r.duration+r.delay;const p=this.visitStyle(c,e);p.isEmptyStep=h,i=p}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let h of i)"string"==typeof h?h===So?r.push(h):e.errors.push(new u.vHH(3002,!1)):r.push(DU(h));let s=!1,c=null;return r.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(c=h.get("easing"),h.delete("easing")),!s))for(let p of h.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:c,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let i=e.currentTime,s=e.currentTime;r&&s>0&&(s-=r.duration+r.delay),t.styles.forEach(c=>{"string"!=typeof c&&c.forEach((h,p)=>{const _=e.collectedStyles.get(e.currentQuerySelector),w=_.get(p);let I=!0;w&&(s!=i&&s>=w.startTime&&i<=w.endTime&&(e.errors.push(function h8(n,t,e,r,i){return new u.vHH(3010,!1)}()),I=!1),s=w.startTime),I&&_.set(p,{startTime:s,endTime:i}),e.options&&function z8(n,t,e){const r=t.params||{},i=AU(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||e.push(function i8(n){return new u.vHH(3001,!1)}())})}(h,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function f8(){return new u.vHH(3011,!1)}()),r;let s=0;const c=[];let h=!1,p=!1,_=0;const w=t.steps.map(Xe=>{const ut=this._makeStyleAst(Xe,e);let Ct=null!=ut.offset?ut.offset:function a5(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(ut.styles),gt=0;return null!=Ct&&(s++,gt=ut.offset=Ct),p=p||gt<0||gt>1,h=h||gt<_,_=gt,c.push(gt),ut});p&&e.errors.push(function p8(){return new u.vHH(3012,!1)}()),h&&e.errors.push(function m8(){return new u.vHH(3200,!1)}());const I=t.steps.length;let x=0;s>0&&s<I?e.errors.push(function g8(){return new u.vHH(3202,!1)}()):0==s&&(x=1/(I-1));const L=I-1,B=e.currentTime,X=e.currentAnimateTimings,ve=X.duration;return w.forEach((Xe,ut)=>{const Ct=x>0?ut==L?1:x*ut:c[ut],gt=Ct*ve;e.currentTime=B+X.delay+gt,X.duration=gt,this._validateStyleAst(Xe,e),Xe.offset=Ct,r.styles.push(Xe)}),r}visitReference(t,e){return{type:8,animation:ya(this,Uw(t.animation),e),options:jp(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:jp(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:jp(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[s,c]=function r5(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(t5,"")),n=n.replace(/@\*/g,iS).replace(/@\w+/g,e=>iS+"-"+e.slice(1)).replace(/:animating/g,yO),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+s:s,_a(e.collectedStyles,e.currentQuerySelector,new Map);const h=ya(this,Uw(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:h,originalSelector:t.selector,options:jp(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function _8(){return new u.vHH(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:sS(t.timings,e.errors,!0);return{type:12,animation:ya(this,Uw(t.animation),e),timings:r,options:null}}}class o5{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function jp(n){return n?(n=Bw(n)).params&&(n.params=function s5(n){return n?Bw(n):null}(n.params)):n={},n}function EO(n,t,e){return{duration:n,delay:t,easing:e}}function DO(n,t,e,r,i,s,c=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:c,subTimeline:h}}class fS{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const d5=new RegExp(":enter","g"),f5=new RegExp(":leave","g");function IO(n,t,e,r,i,s=new Map,c=new Map,h,p,_=[]){return(new p5).buildKeyframes(n,t,e,r,i,s,c,h,p,_)}class p5{buildKeyframes(t,e,r,i,s,c,h,p,_,w=[]){_=_||new fS;const I=new SO(t,e,_,i,s,w,[]);I.options=p;const x=p.delay?Nh(p.delay):0;I.currentTimeline.delayNextStep(x),I.currentTimeline.setStyles([c],null,I.errors,p),ya(this,r,I);const L=I.timelines.filter(B=>B.containsAnimation());if(L.length&&h.size){let B;for(let X=L.length-1;X>=0;X--){const ve=L[X];if(ve.element===e){B=ve;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([h],null,I.errors,p)}return L.length?L.map(B=>B.buildKeyframes()):[DO(e,[],[],[],0,x,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(t.options),s=e.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);s!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let s=e.currentTimeline.currentTime;const c=null!=r.duration?Nh(r.duration):null,h=null!=r.delay?Nh(r.delay):null;return 0!==c&&t.forEach(p=>{const _=e.appendInstructionToTimeline(p,c,h);s=Math.max(s,_.duration+_.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),ya(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let i=e;const s=t.options;if(s&&(s.params||s.delay)&&(i=e.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=pS);const c=Nh(s.delay);i.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>ya(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let i=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Nh(t.options.delay):0;t.steps.forEach(c=>{const h=e.createSubContext(t.options);s&&h.delayNextStep(s),ya(this,c,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return sS(e.params?oS(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(r.duration),this.visitStyle(s,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(s):r.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,s=r.duration,h=e.createSubContext().currentTimeline;h.easing=r.easing,t.styles.forEach(p=>{h.forwardTime((p.offset||0)*s),h.setStyles(p.styles,p.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(i+s),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,i=t.options||{},s=i.delay?Nh(i.delay):0;s&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=pS);let c=r;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=h.length;let p=null;h.forEach((_,w)=>{e.currentQueryIndex=w;const I=e.createSubContext(t.options,_);s&&I.delayNextStep(s),_===e.element&&(p=I.currentTimeline),ya(this,t.animation,I),I.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,I.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,i=e.currentTimeline,s=t.timings,c=Math.abs(s.duration),h=c*(e.currentQueryTotal-1);let p=c*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=h-p;break;case"full":p=r.currentStaggerTime}const w=e.currentTimeline;p&&w.delayNextStep(p);const I=w.currentTime;ya(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-I+(i.startTime-r.currentTimeline.startTime)}}const pS={};class SO{constructor(t,e,r,i,s,c,h,p){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=pS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new mS(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=Nh(r.duration)),null!=r.delay&&(i.delay=Nh(r.delay));const s=r.params;if(s){let c=i.params;c||(c=this.options.params={}),Object.keys(s).forEach(h=>{(!e||!c.hasOwnProperty(h))&&(c[h]=oS(s[h],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){const i=e||this.element,s=new SO(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=pS,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},s=new m5(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,s,c){let h=[];if(i&&h.push(this.element),t.length>0){t=(t=t.replace(d5,"."+this._enterClassName)).replace(f5,"."+this._leaveClassName);let _=this._driver.query(this.element,t,1!=r);0!==r&&(_=r<0?_.slice(_.length+r,_.length):_.slice(0,r)),h.push(..._)}return!s&&0==h.length&&c.push(function y8(n){return new u.vHH(3014,!1)}()),h}}class mS{constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new mS(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||So),this._currentKeyframe.set(e,So);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&this._previousKeyframe.set("easing",e);const s=i&&i.params||{},c=function g5(n,t){const e=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||t.keys();for(let s of r)e.set(s,So)}else Fh(i,e)}),e}(t,this._globalTimelineStyles);for(let[h,p]of c){const _=oS(p,s,r);this._pendingStyles.set(h,_),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??So),this._updateStyle(h,_)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,p)=>{const _=Fh(h,new Map,this._backFill);_.forEach((w,I)=>{"!"===w?t.add(I):w===So&&e.add(I)}),r||_.set("offset",p/this.duration),i.push(_)});const s=t.size?aS(t.values()):[],c=e.size?aS(e.values()):[];if(r){const h=i[0],p=new Map(h);h.set("offset",0),p.set("offset",1),i=[h,p]}return DO(this.element,i,s,c,this.duration,this.startTime,this.easing,!1)}}class m5 extends mS{constructor(t,e,r,i,s,c,h=!1){super(t,e,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],c=r+e,h=e/c,p=Fh(t[0]);p.set("offset",0),s.push(p);const _=Fh(t[0]);_.set("offset",OU(h)),s.push(_);const w=t.length-1;for(let I=1;I<=w;I++){let x=Fh(t[I]);const L=x.get("offset");x.set("offset",OU((e+L*r)/c)),s.push(x)}r=c,e=0,i="",t=s}return DO(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function OU(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class TO{}const _5=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class y5 extends TO{normalizePropertyName(t,e){return wO(t)}normalizeStyleValue(t,e,r,i){let s="";const c=r.toString().trim();if(_5.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function a8(n,t){return new u.vHH(3005,!1)}())}return c+s}}function PU(n,t,e,r,i,s,c,h,p,_,w,I,x){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:s,toState:r,toStyles:c,timelines:h,queriedElements:p,preStyleProps:_,postStyleProps:w,totalTime:I,errors:x}}const AO={};class NU{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return function v5(n,t,e,r,i){return n.some(s=>s(t,e,r,i))}(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){let i=this._stateStyles.get("*");return void 0!==t&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,r):new Map}build(t,e,r,i,s,c,h,p,_,w){const I=[],x=this.ast.options&&this.ast.options.params||AO,B=this.buildStyles(r,h&&h.params||AO,I),X=p&&p.params||AO,ve=this.buildStyles(i,X,I),Xe=new Set,ut=new Map,Ct=new Map,gt="void"===i,Nt={params:b5(X,x),delay:this.ast.options?.delay},jt=w?[]:IO(t,e,this.ast.animation,s,c,B,ve,Nt,_,I);let vn=0;if(jt.forEach(Ju=>{vn=Math.max(Ju.duration+Ju.delay,vn)}),I.length)return PU(e,this._triggerName,r,i,gt,B,ve,[],[],ut,Ct,vn,I);jt.forEach(Ju=>{const ed=Ju.element,t$=_a(ut,ed,new Set);Ju.preStyleProps.forEach(em=>t$.add(em));const p0=_a(Ct,ed,new Set);Ju.postStyleProps.forEach(em=>p0.add(em)),ed!==e&&Xe.add(ed)});const Xs=aS(Xe.values());return PU(e,this._triggerName,r,i,gt,B,ve,jt,Xs,ut,Ct,vn)}}function b5(n,t){const e=Bw(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class w5{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,i=Bw(this.defaultParams);return Object.keys(t).forEach(s=>{const c=t[s];null!==c&&(i[s]=c)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((c,h)=>{c&&(c=oS(c,i,e));const p=this.normalizer.normalizePropertyName(h,e);c=this.normalizer.normalizeStyleValue(h,p,c,e),r.set(p,c)})}),r}}class E5{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new w5(i.style,i.options&&i.options.params||{},r))}),FU(this.states,"true","1"),FU(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new NU(t,i,this.states))}),this.fallbackTransition=function D5(n,t,e){return new NU(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(c=>c.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function FU(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const I5=new fS;class S5{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],s=CO(this._driver,e,r,[]);if(r.length)throw function I8(n){return new u.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,r){const i=t.element,s=pU(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(i,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const i=[],s=this._animations.get(t);let c;const h=new Map;if(s?(c=IO(this._driver,e,s,_O,nS,new Map,new Map,r,I5,i),c.forEach(w=>{const I=_a(h,w.element,new Map);w.postStyleProps.forEach(x=>I.set(x,null))})):(i.push(function S8(){return new u.vHH(3300,!1)}()),c=[]),i.length)throw function T8(n){return new u.vHH(3504,!1)}();h.forEach((w,I)=>{w.forEach((x,L)=>{w.set(L,this._driver.computeStyle(I,L,So))})});const _=Ph(c.map(w=>{const I=h.get(w.element);return this._buildPlayer(w,new Map,I)}));return this._playersById.set(t,_),_.onDestroy(()=>this.destroy(t)),this.players.push(_),_}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function A8(n){return new u.vHH(3301,!1)}();return e}listen(t,e,r,i){const s=fO(e,"","","");return dO(this._getPlayer(t),r,s,i),()=>{}}command(t,e,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,e,i[0]||{});const s=this._getPlayer(t);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const LU="ng-animate-queued",MO="ng-animate-disabled",k5=[],VU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},R5={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xa="__ng_removed";class xO{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function F5(n){return n??null}(r?t.value:t),r){const s=Bw(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const Hw="void",kO=new xO(Hw);class O5{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ja(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.has(e))throw function M8(n,t){return new u.vHH(3302,!1)}();if(null==r||0==r.length)throw function x8(n){return new u.vHH(3303,!1)}();if(!function L5(n){return"start"==n||"done"==n}(r))throw function k8(n,t){return new u.vHH(3400,!1)}();const s=_a(this._elementListeners,t,[]),c={name:e,phase:r,callback:i};s.push(c);const h=_a(this._engine.statesByElement,t,new Map);return h.has(e)||(Ja(t,rS),Ja(t,rS+"-"+e),h.set(e,kO)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(c);p>=0&&s.splice(p,1),this._triggers.has(e)||h.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function R8(n){return new u.vHH(3401,!1)}();return e}trigger(t,e,r,i=!0){const s=this._getTrigger(e),c=new RO(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(Ja(t,rS),Ja(t,rS+"-"+e),this._engine.statesByElement.set(t,h=new Map));let p=h.get(e);const _=new xO(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&p&&_.absorbOptions(p.options),h.set(e,_),p||(p=kO),_.value!==Hw&&p.value===_.value){if(!function U5(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const s=e[i];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(p.params,_.params)){const X=[],ve=s.matchStyles(p.value,p.params,X),Xe=s.matchStyles(_.value,_.params,X);X.length?this._engine.reportError(X):this._engine.afterFlush(()=>{Hp(t,ve),Bc(t,Xe)})}return}const x=_a(this._engine.playersByElement,t,[]);x.forEach(X=>{X.namespaceId==this.id&&X.triggerName==e&&X.queued&&X.destroy()});let L=s.matchTransition(p.value,_.value,t,_.params),B=!1;if(!L){if(!i)return;L=s.fallbackTransition,B=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:L,fromState:p,toState:_,player:c,isFallbackTransition:B}),B||(Ja(t,LU),c.onStart(()=>{X_(t,LU)})),c.onDone(()=>{let X=this.players.indexOf(c);X>=0&&this.players.splice(X,1);const ve=this._engine.playersByElement.get(t);if(ve){let Xe=ve.indexOf(c);Xe>=0&&ve.splice(Xe,1)}}),this.players.push(c),x.push(c),c}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,iS,!0);r.forEach(i=>{if(i[Xa])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(c=>c.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){const s=this._engine.statesByElement.get(t),c=new Map;if(s){const h=[];if(s.forEach((p,_)=>{if(c.set(_,p.value),this._triggers.has(_)){const w=this.trigger(t,_,Hw,i);w&&h.push(w)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),r&&Ph(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const i=new Set;e.forEach(s=>{const c=s.name;if(i.has(c))return;i.add(c);const p=this._triggers.get(c).fallbackTransition,_=r.get(c)||kO,w=new xO(Hw),I=new RO(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:p,fromState:_,toState:w,player:I,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(t):[];if(s&&s.length)i=!0;else{let c=t;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Xa];(!s||s===VU)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){Ja(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,c=this._elementListeners.get(s);c&&c.forEach(h=>{if(h.name==r.triggerName){const p=fO(s,r.triggerName,r.fromState.value,r.toState.value);p._data=t,dO(r.player,h.phase,p,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const s=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class P5{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new O5(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,h=this.driver.getParentElement(e);for(;h;){const p=i.get(h);if(p){const _=r.indexOf(p);r.splice(_+1,0,t),c=!0;break}h=this.driver.getParentElement(h)}c||r.unshift(t)}else r.push(t);return i.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&e.add(s)}return e}trigger(t,e,r,i){if(gS(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!gS(e))return;const s=e[Xa];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ja(t,MO)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),X_(t,MO))}removeNode(t,e,r,i){if(gS(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),r){const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,r,i,s){this.collectedLeaveElements.push(e),e[Xa]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,r,i,s){return gS(e)?this._fetchNamespace(t).listen(e,r,i,s):()=>{}}_buildInstruction(t,e,r,i,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,iS,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,yO,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ph(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Xa];if(e&&e.setForRemoval){if(t[Xa]=VU,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(MO)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ja(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Ph(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function O8(n){return new u.vHH(3402,!1)}()}_flushAnimations(t,e){const r=new fS,i=[],s=new Map,c=[],h=new Map,p=new Map,_=new Map,w=new Set;this.disabledNodes.forEach(bt=>{w.add(bt);const Pt=this.driver.query(bt,".ng-animate-queued",!0);for(let $t=0;$t<Pt.length;$t++)w.add(Pt[$t])});const I=this.bodyNode,x=Array.from(this.statesByElement.keys()),L=HU(x,this.collectedEnterElements),B=new Map;let X=0;L.forEach((bt,Pt)=>{const $t=_O+X++;B.set(Pt,$t),bt.forEach(Sn=>Ja(Sn,$t))});const ve=[],Xe=new Set,ut=new Set;for(let bt=0;bt<this.collectedLeaveElements.length;bt++){const Pt=this.collectedLeaveElements[bt],$t=Pt[Xa];$t&&$t.setForRemoval&&(ve.push(Pt),Xe.add(Pt),$t.hasAnimation?this.driver.query(Pt,".ng-star-inserted",!0).forEach(Sn=>Xe.add(Sn)):ut.add(Pt))}const Ct=new Map,gt=HU(x,Array.from(Xe));gt.forEach((bt,Pt)=>{const $t=nS+X++;Ct.set(Pt,$t),bt.forEach(Sn=>Ja(Sn,$t))}),t.push(()=>{L.forEach((bt,Pt)=>{const $t=B.get(Pt);bt.forEach(Sn=>X_(Sn,$t))}),gt.forEach((bt,Pt)=>{const $t=Ct.get(Pt);bt.forEach(Sn=>X_(Sn,$t))}),ve.forEach(bt=>{this.processLeaveNode(bt)})});const Nt=[],jt=[];for(let bt=this._namespaceList.length-1;bt>=0;bt--)this._namespaceList[bt].drainQueuedTransitions(e).forEach($t=>{const Sn=$t.player,Zi=$t.element;if(Nt.push(Sn),this.collectedEnterElements.length){const Is=Zi[Xa];if(Is&&Is.setForMove){if(Is.previousTriggersValues&&Is.previousTriggersValues.has($t.triggerName)){const tm=Is.previousTriggersValues.get($t.triggerName),rl=this.statesByElement.get($t.element);if(rl&&rl.has($t.triggerName)){const tT=rl.get($t.triggerName);tT.value=tm,rl.set($t.triggerName,tT)}}return void Sn.destroy()}}const Gc=!I||!this.driver.containsElement(I,Zi),ba=Ct.get(Zi),Wh=B.get(Zi),Vr=this._buildInstruction($t,r,Wh,ba,Gc);if(Vr.errors&&Vr.errors.length)return void jt.push(Vr);if(Gc)return Sn.onStart(()=>Hp(Zi,Vr.fromStyles)),Sn.onDestroy(()=>Bc(Zi,Vr.toStyles)),void i.push(Sn);if($t.isFallbackTransition)return Sn.onStart(()=>Hp(Zi,Vr.fromStyles)),Sn.onDestroy(()=>Bc(Zi,Vr.toStyles)),void i.push(Sn);const i$=[];Vr.timelines.forEach(Is=>{Is.stretchStartingKeyframe=!0,this.disabledNodes.has(Is.element)||i$.push(Is)}),Vr.timelines=i$,r.append(Zi,Vr.timelines),c.push({instruction:Vr,player:Sn,element:Zi}),Vr.queriedElements.forEach(Is=>_a(h,Is,[]).push(Sn)),Vr.preStyleProps.forEach((Is,tm)=>{if(Is.size){let rl=p.get(tm);rl||p.set(tm,rl=new Set),Is.forEach((tT,XP)=>rl.add(XP))}}),Vr.postStyleProps.forEach((Is,tm)=>{let rl=_.get(tm);rl||_.set(tm,rl=new Set),Is.forEach((tT,XP)=>rl.add(XP))})});if(jt.length){const bt=[];jt.forEach(Pt=>{bt.push(function P8(n,t){return new u.vHH(3505,!1)}())}),Nt.forEach(Pt=>Pt.destroy()),this.reportError(bt)}const vn=new Map,Xs=new Map;c.forEach(bt=>{const Pt=bt.element;r.has(Pt)&&(Xs.set(Pt,Pt),this._beforeAnimationBuild(bt.player.namespaceId,bt.instruction,vn))}),i.forEach(bt=>{const Pt=bt.element;this._getPreviousPlayers(Pt,!1,bt.namespaceId,bt.triggerName,null).forEach(Sn=>{_a(vn,Pt,[]).push(Sn),Sn.destroy()})});const Ju=ve.filter(bt=>$U(bt,p,_)),ed=new Map;UU(ed,this.driver,ut,_,So).forEach(bt=>{$U(bt,p,_)&&Ju.push(bt)});const p0=new Map;L.forEach((bt,Pt)=>{UU(p0,this.driver,new Set(bt),p,"!")}),Ju.forEach(bt=>{const Pt=ed.get(bt),$t=p0.get(bt);ed.set(bt,new Map([...Array.from(Pt?.entries()??[]),...Array.from($t?.entries()??[])]))});const em=[],n$=[],r$={};c.forEach(bt=>{const{element:Pt,player:$t,instruction:Sn}=bt;if(r.has(Pt)){if(w.has(Pt))return $t.onDestroy(()=>Bc(Pt,Sn.toStyles)),$t.disabled=!0,$t.overrideTotalTime(Sn.totalTime),void i.push($t);let Zi=r$;if(Xs.size>1){let ba=Pt;const Wh=[];for(;ba=ba.parentNode;){const Vr=Xs.get(ba);if(Vr){Zi=Vr;break}Wh.push(ba)}Wh.forEach(Vr=>Xs.set(Vr,Zi))}const Gc=this._buildAnimation($t.namespaceId,Sn,vn,s,p0,ed);if($t.setRealPlayer(Gc),Zi===r$)em.push($t);else{const ba=this.playersByElement.get(Zi);ba&&ba.length&&($t.parentPlayer=Ph(ba)),i.push($t)}}else Hp(Pt,Sn.fromStyles),$t.onDestroy(()=>Bc(Pt,Sn.toStyles)),n$.push($t),w.has(Pt)&&i.push($t)}),n$.forEach(bt=>{const Pt=s.get(bt.element);if(Pt&&Pt.length){const $t=Ph(Pt);bt.setRealPlayer($t)}}),i.forEach(bt=>{bt.parentPlayer?bt.syncPlayerEvents(bt.parentPlayer):bt.destroy()});for(let bt=0;bt<ve.length;bt++){const Pt=ve[bt],$t=Pt[Xa];if(X_(Pt,nS),$t&&$t.hasAnimation)continue;let Sn=[];if(h.size){let Gc=h.get(Pt);Gc&&Gc.length&&Sn.push(...Gc);let ba=this.driver.query(Pt,yO,!0);for(let Wh=0;Wh<ba.length;Wh++){let Vr=h.get(ba[Wh]);Vr&&Vr.length&&Sn.push(...Vr)}}const Zi=Sn.filter(Gc=>!Gc.destroyed);Zi.length?V5(this,Pt,Zi):this.processLeaveNode(Pt)}return ve.length=0,em.forEach(bt=>{this.players.push(bt),bt.onDone(()=>{bt.destroy();const Pt=this.players.indexOf(bt);this.players.splice(Pt,1)}),bt.play()}),em}elementContainsData(t,e){let r=!1;const i=e[Xa];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,s){let c=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(c=h)}else{const h=this.playersByElement.get(t);if(h){const p=!s||s==Hw;h.forEach(_=>{_.queued||!p&&_.triggerName!=i||c.push(_)})}}return(r||i)&&(c=c.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),c}_beforeAnimationBuild(t,e,r){const s=e.element,c=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const p of e.timelines){const _=p.element,w=_!==s,I=_a(r,_,[]);this._getPreviousPlayers(_,w,c,h,e.toState).forEach(L=>{const B=L.getRealPlayer();B.beforeDestroy&&B.beforeDestroy(),L.destroy(),I.push(L)})}Hp(s,e.fromStyles)}_buildAnimation(t,e,r,i,s,c){const h=e.triggerName,p=e.element,_=[],w=new Set,I=new Set,x=e.timelines.map(B=>{const X=B.element;w.add(X);const ve=X[Xa];if(ve&&ve.removedBeforeQueried)return new qf(B.duration,B.delay);const Xe=X!==p,ut=function B5(n){const t=[];return jU(n,t),t}((r.get(X)||k5).map(vn=>vn.getRealPlayer())).filter(vn=>!!vn.element&&vn.element===X),Ct=s.get(X),gt=c.get(X),Nt=pU(0,this._normalizer,0,B.keyframes,Ct,gt),jt=this._buildPlayer(B,Nt,ut);if(B.subTimeline&&i&&I.add(X),Xe){const vn=new RO(t,h,X);vn.setRealPlayer(jt),_.push(vn)}return jt});_.forEach(B=>{_a(this.playersByQueriedElement,B.element,[]).push(B),B.onDone(()=>function N5(n,t,e){let r=n.get(t);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,B.element,B))}),w.forEach(B=>Ja(B,EU));const L=Ph(x);return L.onDestroy(()=>{w.forEach(B=>X_(B,EU)),Bc(p,e.toStyles)}),I.forEach(B=>{_a(i,B,[]).push(L)}),L}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new qf(t.duration,t.delay)}}class RO{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new qf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>dO(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){_a(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function gS(n){return n&&1===n.nodeType}function BU(n,t){const e=n.style.display;return n.style.display=t??"none",e}function UU(n,t,e,r,i){const s=[];e.forEach(p=>s.push(BU(p)));const c=[];r.forEach((p,_)=>{const w=new Map;p.forEach(I=>{const x=t.computeStyle(_,I,i);w.set(I,x),(!x||0==x.length)&&(_[Xa]=R5,c.push(_))}),n.set(_,w)});let h=0;return e.forEach(p=>BU(p,s[h++])),c}function HU(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const i=new Set(t),s=new Map;function c(h){if(!h)return 1;let p=s.get(h);if(p)return p;const _=h.parentNode;return p=e.has(_)?_:i.has(_)?1:c(_),s.set(h,p),p}return t.forEach(h=>{const p=c(h);1!==p&&e.get(p).push(h)}),e}function Ja(n,t){n.classList?.add(t)}function X_(n,t){n.classList?.remove(t)}function V5(n,t,e){Ph(e).onDone(()=>n.processLeaveNode(t))}function jU(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof yE?jU(r.players,t):t.push(r)}}function $U(n,t,e){const r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(s=>i.add(s)):t.set(n,r),e.delete(n),!0}class _S{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new P5(t,e,r),this._timelineEngine=new S5(t,e,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(t,e,r,i,s){const c=t+"-"+i;let h=this._triggerCache[c];if(!h){const p=[],w=CO(this._driver,s,p,[]);if(p.length)throw function E8(n,t){return new u.vHH(3404,!1)}();h=function C5(n,t,e){return new E5(n,t,e)}(i,w,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(e,i,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r,i){this._transitionEngine.removeNode(t,e,i||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if("@"==r.charAt(0)){const[s,c]=mU(r);this._timelineEngine.command(s,e,c,i)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,s){if("@"==r.charAt(0)){const[c,h]=mU(r);return this._timelineEngine.listen(c,e,h,s)}return this._transitionEngine.listen(t,e,r,i,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let j5=(()=>{class n{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Bc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Bc(this._element,this._initialStyles),this._endStyles&&(Bc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Hp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Hp(this._element,this._endStyles),this._endStyles=null),Bc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function OO(n){let t=null;return n.forEach((e,r)=>{(function $5(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class zU{constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&t.set(i,this._finished?r:MU(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class z5{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return vU(t,e)}getParentElement(t){return mO(t)}query(t,e,r){return bU(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,i,s,c=[]){const p={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(p.easing=s);const _=new Map,w=c.filter(L=>L instanceof zU);(function q8(n,t){return 0===n||0===t})(r,i)&&w.forEach(L=>{L.currentSnapshot.forEach((B,X)=>_.set(X,B))});let I=function $8(n){return n.length?n[0]instanceof Map?n:n.map(t=>DU(t)):[]}(e).map(L=>Fh(L));I=function Y8(n,t,e){if(e.size&&t.length){let r=t[0],i=[];if(e.forEach((s,c)=>{r.has(c)||i.push(c),r.set(c,s)}),i.length)for(let s=1;s<t.length;s++){let c=t[s];i.forEach(h=>c.set(h,MU(n,h)))}}return t}(t,I,_);const x=function H5(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=OO(t[0]),t.length>1&&(r=OO(t[t.length-1]))):t instanceof Map&&(e=OO(t)),e||r?new j5(n,e,r):null}(t,I);return new zU(t,I,p,x)}}let G5=(()=>{class n extends pE{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?qv(e):e;return GU(this._renderer,null,r,"register",[i]),new W5(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.FYo),u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class W5 extends class _g{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new q5(this._id,t,e||{},this._renderer)}}class q5{constructor(t,e,r,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return GU(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function GU(n,t,e,r,i){return n.setProperty(t,`@@${e}:${r}`,i)}const WU="@.disabled";let Y5=(()=>{class n{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,c)=>{const h=c?.parentNode(s);h&&c.removeChild(h,s)}}createRenderer(e,r){const s=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let w=this._rendererCache.get(s);return w||(w=new qU("",s,this.engine),this._rendererCache.set(s,w)),w}const c=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const p=w=>{Array.isArray(w)?w.forEach(p):this.engine.registerTrigger(c,h,e,w.name,w)};return r.data.animation.forEach(p),new K5(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,h]=s;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.FYo),u.LFG(_S),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class qU{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>e.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==WU?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class K5 extends qU{constructor(t,e,r,i){super(e,r,i),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==WU?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const i=function Z5(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),c="";return"@"!=s.charAt(0)&&([s,c]=function Q5(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,i,s,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(t,e,r)}}let X5=(()=>{class n extends _S{constructor(e,r,i,s){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oe),u.LFG(gO),u.LFG(TO),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const YU=[{provide:pE,useClass:G5},{provide:TO,useFactory:function J5(){return new y5}},{provide:_S,useClass:X5},{provide:u.FYo,useFactory:function eK(n,t,e){return new Y5(n,t,e)},deps:[jo,_S,u.R0b]}],PO=[{provide:gO,useFactory:()=>new z5},{provide:u.QbO,useValue:"BrowserAnimations"},...YU],KU=[{provide:gO,useClass:wU},{provide:u.QbO,useValue:"NoopAnimations"},...YU];let tK=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?KU:PO}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:PO,imports:[di]}),n})();const NO_firebase={projectId:"simple-crm-320aa",appId:"1:24593473523:web:e72f5675a0d4ba34b5bc86",storageBucket:"simple-crm-320aa.appspot.com",apiKey:"AIzaSyAeJZDm5do7qdirZ7FNy1ttQUy_YEX6LuA",authDomain:"simple-crm-320aa.firebaseapp.com",messagingSenderId:"24593473523"};var nK=F(6457);class FO{constructor(t){return t}}class LO{constructor(){return(0,on.vb)("auth")}}const VO=new u.OlP("angularfire2.auth-instances");function iK(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new FO(r)}}const sK={provide:LO,deps:[[new u.FiY,VO]]},oK={provide:FO,useFactory:function rK(n,t){const e=(0,on.JM)("auth",n,t);return e&&new FO(e)},deps:[[new u.FiY,VO],Fp]};let aK=(()=>{class n{constructor(){(0,Ku.KN)("angularfire",on.q4.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[oK,sK]}),n})();function lK(n,...t){return{ngModule:aK,providers:[{provide:VO,useFactory:iK(n),multi:!0,deps:[u.R0b,u.zs3,on.HU,MI,[new u.FiY,K_],...t]}]}}const cK=(0,on.u3)(nK.n,!0),QU="@firebase/database";let BO="";class dK{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,re.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,re.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class hK{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,re.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const JU=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new dK(t)}}catch{}return new hK},$p=JU("localStorage"),UO=JU("sessionStorage"),J_=new qa.Yd("@firebase/database"),eH=function(){let n=1;return function(){return n++}}(),tH=function(n){const t=(0,re.dS)(n),e=new re.gQ;e.update(t);const r=e.digest();return re.US.encodeByteArray(r)},jw=function(...n){let t="";for(let e=0;e<n.length;e++){const r=n[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=jw.apply(null,r):t+="object"==typeof r?(0,re.Pz)(r):r,t+=" "}return t};let zp=null,nH=!0;const Yi=function(...n){if(!0===nH&&(nH=!1,null===zp&&!0===UO.get("logging_enabled")&&function(n,t){(0,re.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(J_.logLevel=qa.in.VERBOSE,zp=J_.log.bind(J_),t&&UO.set("logging_enabled",!0)):"function"==typeof n?zp=n:(zp=null,UO.remove("logging_enabled"))}(!0)),zp){const t=jw.apply(null,n);zp(t)}},$w=function(n){return function(...t){Yi(n,...t)}},HO=function(...n){const t="FIREBASE INTERNAL ERROR: "+jw(...n);J_.error(t)},Uc=function(...n){const t=`FIREBASE FATAL ERROR: ${jw(...n)}`;throw J_.error(t),new Error(t)},Ds=function(...n){const t="FIREBASE WARNING: "+jw(...n);J_.warn(t)},vS=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Qu="[MIN_NAME]",Hc="[MAX_NAME]",Gp=function(n,t){if(n===t)return 0;if(n===Qu||t===Hc)return-1;if(t===Qu||n===Hc)return 1;{const e=bS(n),r=bS(t);return null!==e?null!==r?e-r==0?n.length-t.length:e-r:-1:null!==r?1:n<t?-1:1}},mK=function(n,t){return n===t?0:n<t?-1:1},zw=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,re.Pz)(t))},jO=function(n){if("object"!=typeof n||null===n)return(0,re.Pz)(n);const t=[];for(const r in n)t.push(r);t.sort();let e="{";for(let r=0;r<t.length;r++)0!==r&&(e+=","),e+=(0,re.Pz)(t[r]),e+=":",e+=jO(n[t[r]]);return e+="}",e},iH=function(n,t){const e=n.length;if(e<=t)return[n];const r=[];for(let i=0;i<e;i+=t)r.push(n.substring(i,i+t>e?e:i+t));return r};function Ki(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const sH=function(n){(0,re.hu)(!vS(n),"Invalid JSON number");const r=1023;let i,s,c,h,p;0===n?(s=0,c=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=h+r,c=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const _=[];for(p=52;p;p-=1)_.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)_.push(s%2?1:0),s=Math.floor(s/2);_.push(i?1:0),_.reverse();const w=_.join("");let I="";for(p=0;p<64;p+=8){let x=parseInt(w.substr(p,8),2).toString(16);1===x.length&&(x="0"+x),I+=x}return I.toLowerCase()},vK=new RegExp("^-?(0*)\\d{1,10}$"),bS=function(n){if(vK.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},ey=function(n){try{n()}catch(t){setTimeout(()=>{throw Ds("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Gw=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class wK{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Ds(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class CK{constructor(t,e,r){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Yi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ds(t)}}let Ww=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const dH=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pH="websocket",mH="long_polling";class GO{constructor(t,e,r,i,s=!1,c="",h=!1){this.secure=e,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$p.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&$p.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function gH(n,t,e){let r;if((0,re.hu)("string"==typeof t,"typeof type must == string"),(0,re.hu)("object"==typeof e,"typeof params must == object"),t===pH)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==mH)throw new Error("Unknown connection type: "+t);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function EK(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const i=[];return Ki(e,(s,c)=>{i.push(s+"="+c)}),r+i.join("&")}class DK{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,re.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,re.p$)(this.counters_)}}const WO={},qO={};function YO(n){const t=n.toString();return WO[t]||(WO[t]=new DK),WO[t]}class SK{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ey(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Lh{constructor(t,e,r,i,s,c,h){this.connId=t,this.repoInfo=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$w(t),this.stats_=YO(e),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),gH(e,mH,p))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new SK(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,re.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new KO((...s)=>{const[c,h,p,_,w]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=h,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,h]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&dH.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Lh.forceAllow_=!0}static forceDisallow(){Lh.forceDisallow_=!0}static isAvailable(){return!((0,re.Yr)()||!Lh.forceAllow_&&(Lh.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,re.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,re.h$)(e),i=iH(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,re.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,re.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class KO{constructor(t,e,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,re.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=eH(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=KO.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){Yi("frame writing exception"),h.stack&&Yi(h.stack),Yi(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Yi("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const c=this.pendingSegs.shift();r=r+"&seg"+i+"="+c.seg+"&ts"+i+"="+c.ts+"&d"+i+"="+c.d,i++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,r){this.pendingSegs.push({seg:t,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(i),r()})}addTag(t,e){(0,re.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{Yi("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let CS=null;typeof MozWebSocket<"u"?CS=MozWebSocket:typeof WebSocket<"u"&&(CS=WebSocket);let ty=(()=>{class n{constructor(e,r,i,s,c,h,p){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$w(this.connId),this.stats_=YO(r),this.connURL=n.connectionURL_(r,h,p,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,i,s,c){const h={v:"5"};return!(0,re.Yr)()&&typeof location<"u"&&location.hostname&&dH.test(location.hostname)&&(h.r="f"),r&&(h.s=r),i&&(h.ls=i),s&&(h.ac=s),c&&(h.p=c),gH(e,pH,h)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$p.set("previous_websocket_failure",!0);try{let i;if((0,re.Yr)()){i={headers:{"User-Agent":`Firebase/5/${BO}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,h=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;h&&(i.proxy={origin:h})}this.mySock=new CS(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&null!==CS&&!n.forceDisallow_}static previouslyFailed(){return $p.isInMemoryStorage||!0===$p.get("previous_websocket_failure")}markConnectionHealthy(){$p.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,re.cI)(r);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,re.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const r=(0,re.Pz)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=iH(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),EH=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Lh,ty]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const r=ty&&ty.isAvailable();let i=r&&!ty.previouslyFailed();if(e.webSocketOnly&&(r||Ds("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ty];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class xH{constructor(t,e,r,i,s,c,h,p,_,w){this.id=t,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=p,this.onKill_=_,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$w("c:"+this.id+":"),this.transportManager_=new EH(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Gw(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=zw("t",t),r=zw("d",t);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=zw("t",t),r=zw("d",t);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=zw("t",t);if("d"in t){const r=t.d;if("h"===e)this.onHandshake_(r);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?HO("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):HO("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&Ds("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),Gw(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Gw(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class kH{put(t,e,r,i){}merge(t,e,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,r){}onDisconnectMerge(t,e,r){}onDisconnectCancel(t,e){}reportStats(t){}}class RH{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,re.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)}}on(t,e,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:r});const i=this.getInitialEvent(t);i&&e.apply(r,i)}off(t,e,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===e&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(t){(0,re.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class ES extends RH{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,re.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ES}getInitialEvent(t){return(0,re.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Ln{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function An(){return new Ln("")}function an(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Vh(n){return n.pieces_.length-n.pieceNum_}function Xn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Ln(n.pieces_,t)}function QO(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function qw(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function NH(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Ln(t,0)}function Tr(n,t){const e=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);if(t instanceof Ln)for(let r=t.pieceNum_;r<t.pieces_.length;r++)e.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&e.push(r[i])}return new Ln(e,0)}function ln(n){return n.pieceNum_>=n.pieces_.length}function Qs(n,t){const e=an(n),r=an(t);if(null===e)return t;if(e===r)return Qs(Xn(n),Xn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function XO(n,t){if(Vh(n)!==Vh(t))return!1;for(let e=n.pieceNum_,r=t.pieceNum_;e<=n.pieces_.length;e++,r++)if(n.pieces_[e]!==t.pieces_[r])return!1;return!0}function el(n,t){let e=n.pieceNum_,r=t.pieceNum_;if(Vh(n)>Vh(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[r])return!1;++e,++r}return!0}class KK{constructor(t,e){this.errorPrefix_=e,this.parts_=qw(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,re.ug)(this.parts_[r]);FH(this)}}function FH(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Wp(n))}function Wp(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class JO extends RH{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new JO}getInitialEvent(t){return(0,re.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Yw=1e3;let IS,qp=(()=>{class n extends kH{constructor(e,r,i,s,c,h,p,_){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=$w("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Yw,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,re.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");JO.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&ES.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,i){const s=++this.requestNumber_,c={r:s,a:e,b:r};this.log_((0,re.Pz)(c)),(0,re.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const r=new re.BH,i={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:i,onComplete:h=>{const p=h.d;"ok"===h.s?r.resolve(p):r.reject(p)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(e,r,i,s){this.initConnection_();const c=e._queryIdentifier,h=e._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),(0,re.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,re.hu)(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:r,query:e,tag:i};this.listens.get(h).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(e){const r=e.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const c={p:i};e.tag&&(c.q=r._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,p=>{const _=p.d,w=p.s;n.warnOnListenWarnings_(_,r),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",p),"ok"!==w&&this.removeListen_(i,s),e.onComplete&&e.onComplete(w,_))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,re.r3)(e,"w")){const i=(0,re.DV)(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',c=r._path.toString();Ds(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,re.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,re.w9)(e)?"auth":"gauth",i={cred:e};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const c=s.s,h=s.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,i=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(e,r){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),(0,re.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,r)}sendUnlisten_(e,r,i,s){this.log_("Unlisten on "+e+" for "+r);const c={p:e};s&&(c.q=i,c.t=s),this.sendRequest("n",c)}onDisconnectPut(e,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:i})}onDisconnectMerge(e,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:i})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,i,s){const c={p:r,d:i};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,h=>{s&&setTimeout(()=>{s(h.s,h.d)},Math.floor(0))})}put(e,r,i,s){this.putInternal("p",e,r,i,s)}merge(e,r,i,s){this.putInternal("m",e,r,i,s)}putInternal(e,r,i,s,c){this.initConnection_();const h={p:r,d:i};void 0!==c&&(h.h=c),this.outstandingPuts_.push({action:e,request:h,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,i,c=>{this.log_(r+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,re.Pz)(e));const r=e.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):HO("Unrecognized action received from server: "+(0,re.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,re.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Yw,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Yw,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Yw),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Te.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),i=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,h=e.lastSessionId;let p=!1,_=null;const w=function(){_?_.close():(p=!0,s())};e.realtime_={close:w,sendRequest:function(L){(0,re.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(L)}};const x=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[L,B]=yield Promise.all([e.authTokenProvider_.getToken(x),e.appCheckTokenProvider_.getToken(x)]);p?Yi("getToken() completed but was canceled"):(Yi("getToken() completed. Creating connection."),e.authToken_=L&&L.accessToken,e.appCheckToken_=B&&B.token,_=new xH(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,i,s,X=>{Ds(X+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},h))}catch(L){e.log_("Failed to get token: "+L),p||(e.repoInfo_.nodeAdmin&&Ds(L),w())}}})()}interrupt(e){Yi("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Yi("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,re.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Yw,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let i;i=r?r.map(c=>jO(c)).join("$"):"default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,r){const i=new Ln(e).toString();let s;if(this.listens.has(i)){const c=this.listens.get(i);s=c.get(r),c.delete(r),0===c.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,r){Yi("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){Yi("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,re.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+BO.replace(/\./g,"-")]=1,(0,re.uI)()?e["framework.cordova"]=1:(0,re.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ES.getInstance().currentlyOnline();return(0,re.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class dn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new dn(t,e)}}class DS{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const r=new dn(Qu,t),i=new dn(Qu,e);return 0!==this.compare(r,i)}minPost(){return dn.MIN}}class BH extends DS{static get __EMPTY_NODE(){return IS}static set __EMPTY_NODE(t){IS=t}compare(t,e){return Gp(t.name,e.name)}isDefinedOn(t){throw(0,re.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return dn.MIN}maxPost(){return new dn(Hc,IS)}makePost(t,e){return(0,re.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new dn(t,IS)}toString(){return".key"}}const jc=new BH;class SS{constructor(t,e,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(c=e?r(t.key,e):1,i&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let tP,$l=(()=>{class n{constructor(e,r,i,s,c){this.key=e,this.value=r,this.color=i??n.RED,this.left=s??Oo.EMPTY_NODE,this.right=c??Oo.EMPTY_NODE}copy(e,r,i,s,c){return new n(e??this.key,r??this.value,i??this.color,s??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,i){let s=this;const c=i(e,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(e,r,i),null):0===c?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Oo.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let i,s;if(i=this,r(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(e,i.key)){if(i.right.isEmpty())return Oo.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Oo{constructor(t,e=Oo.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Oo(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,$l.BLACK,null,null))}remove(t){return new Oo(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,$l.BLACK,null,null))}get(t){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(t){let e,r=this.root_,i=null;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new SS(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new SS(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new SS(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new SS(this.root_,null,this.comparator_,!0,t)}}function rZ(n,t){return Gp(n.name,t.name)}function eP(n,t){return Gp(n,t)}Oo.EMPTY_NODE=new class nZ{copy(t,e,r,i,s){return this}insert(t,e,r){return new $l(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const UH=function(n){return"number"==typeof n?"number:"+sH(n):"string:"+n},HH=function(n){if(n.isLeafNode()){const t=n.val();(0,re.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,re.r3)(t,".sv"),"Priority must be a string or number.")}else(0,re.hu)(n===tP||n.isEmpty(),"priority of unexpected type.");(0,re.hu)(n===tP||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let jH,$H,zH,ny=(()=>{class n{constructor(e,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,re.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),HH(this.priorityNode_)}static set __childrenNodeConstructor(e){jH=e}static get __childrenNodeConstructor(){return jH}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ln(e)?this:".priority"===an(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const i=an(e);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,re.hu)(".priority"!==i||1===Vh(e),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Xn(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+UH(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?sH(this.value_):this.value_,this.lazyHash_=tH(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,re.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),c=n.VALUE_TYPE_ORDER.indexOf(i);return(0,re.hu)(s>=0,"Unknown leaf type: "+r),(0,re.hu)(c>=0,"Unknown leaf type: "+i),s===c?"object"===i?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const or=new class aZ extends DS{compare(t,e){const r=t.node.getPriority(),i=e.node.getPriority(),s=r.compareTo(i);return 0===s?Gp(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return dn.MIN}maxPost(){return new dn(Hc,new ny("[PRIORITY-POST]",zH))}makePost(t,e){const r=$H(t);return new dn(e,new ny("[PRIORITY-POST]",r))}toString(){return".priority"}},lZ=Math.log(2);class cZ{constructor(t){this.count=parseInt(Math.log(t+1)/lZ,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const TS=function(n,t,e,r){n.sort(t);const i=function(p,_){const w=_-p;let I,x;if(0===w)return null;if(1===w)return I=n[p],x=e?e(I):I,new $l(x,I.node,$l.BLACK,null,null);{const L=parseInt(w/2,10)+p,B=i(p,L),X=i(L+1,_);return I=n[L],x=e?e(I):I,new $l(x,I.node,$l.BLACK,B,X)}},h=function(p){let _=null,w=null,I=n.length;const x=function(B,X){const ve=I-B,Xe=I;I-=B;const ut=i(ve+1,Xe),Ct=n[ve],gt=e?e(Ct):Ct;L(new $l(gt,Ct.node,X,null,ut))},L=function(B){_?(_.left=B,_=B):(w=B,_=B)};for(let B=0;B<p.count;++B){const X=p.nextBitIsOne(),ve=Math.pow(2,p.count-(B+1));X?x(ve,$l.BLACK):(x(ve,$l.BLACK),x(ve,$l.RED))}return w}(new cZ(n.length));return new Oo(r||t,h)};let nP;const ry={};class Xu{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,re.hu)(ry&&or,"ChildrenNode.ts has not been loaded"),nP=nP||new Xu({".priority":ry},{".priority":or}),nP}get(t){const e=(0,re.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Oo?e:null}hasIndex(t){return(0,re.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,re.hu)(t!==jc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=e.getIterator(dn.Wrap);let h,c=s.getNext();for(;c;)i=i||t.isDefinedOn(c.node),r.push(c),c=s.getNext();h=i?TS(r,t.getCompare()):ry;const p=t.toString(),_=Object.assign({},this.indexSet_);_[p]=t;const w=Object.assign({},this.indexes_);return w[p]=h,new Xu(w,_)}addToIndexes(t,e){const r=(0,re.UI)(this.indexes_,(i,s)=>{const c=(0,re.DV)(this.indexSet_,s);if((0,re.hu)(c,"Missing index implementation for "+s),i===ry){if(c.isDefinedOn(t.node)){const h=[],p=e.getIterator(dn.Wrap);let _=p.getNext();for(;_;)_.name!==t.name&&h.push(_),_=p.getNext();return h.push(t),TS(h,c.getCompare())}return ry}{const h=e.get(t.name);let p=i;return h&&(p=p.remove(new dn(t.name,h))),p.insert(t,t.node)}});return new Xu(r,this.indexSet_)}removeFromIndexes(t,e){const r=(0,re.UI)(this.indexes_,i=>{if(i===ry)return i;{const s=e.get(t.name);return s?i.remove(new dn(t.name,s)):i}});return new Xu(r,this.indexSet_)}}let Kw,tn=(()=>{class n{constructor(e,r,i){this.children_=e,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&HH(this.priorityNode_),this.children_.isEmpty()&&(0,re.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Kw||(Kw=new n(new Oo(eP),null,Xu.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Kw}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?Kw:r}}getChild(e){const r=an(e);return null===r?this:this.getImmediateChild(r).getChild(Xn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,re.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const i=new dn(e,r);let s,c;r.isEmpty()?(s=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,r),c=this.indexMap_.addToIndexes(i,this.children_));const h=s.isEmpty()?Kw:this.priorityNode_;return new n(s,h,c)}}updateChild(e,r){const i=an(e);if(null===i)return r;{(0,re.hu)(".priority"!==an(e)||1===Vh(e),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Xn(e),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let i=0,s=0,c=!0;if(this.forEachChild(or,(h,p)=>{r[h]=p.val(e),i++,c&&n.INTEGER_REGEXP_.test(h)?s=Math.max(s,Number(h)):c=!1}),!e&&c&&s<2*i){const h=[];for(const p in r)h[p]=r[p];return h}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+UH(this.getPriority().val())+":"),this.forEachChild(or,(r,i)=>{const s=i.hash();""!==s&&(e+=":"+r+":"+s)}),this.lazyHash_=""===e?"":tH(e)}return this.lazyHash_}getPredecessorChildName(e,r,i){const s=this.resolveIndex_(i);if(s){const c=s.getPredecessorKey(new dn(e,r));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new dn(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new dn(r,this.children_.get(r)):null}forEachChild(e,r){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,dn.Wrap);let c=s.peek();for(;null!=c&&r.compare(c,e)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,dn.Wrap);let c=s.peek();for(;null!=c&&r.compare(c,e)>0;)s.getNext(),c=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Zw?-1:0}withIndex(e){if(e===jc||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===jc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(or),s=r.getIterator(or);let c=i.getNext(),h=s.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=i.getNext(),h=s.getNext()}return null===c&&null===h}return!1}return!1}}resolveIndex_(e){return e===jc?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Zw=new class uZ extends tn{constructor(){super(new Oo(eP),tn.EMPTY_NODE,Xu.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return tn.EMPTY_NODE}isEmpty(){return!1}};function Lr(n,t=null){if(null===n)return tn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,re.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new ny(n,Lr(t));if(n instanceof Array){let e=tn.EMPTY_NODE;return Ki(n,(r,i)=>{if((0,re.r3)(n,r)&&"."!==r.substring(0,1)){const s=Lr(i);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(r,s))}}),e.updatePriority(Lr(t))}{const e=[];let r=!1;if(Ki(n,(c,h)=>{if("."!==c.substring(0,1)){const p=Lr(h);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),e.push(new dn(c,p)))}}),0===e.length)return tn.EMPTY_NODE;const s=TS(e,rZ,c=>c.name,eP);if(r){const c=TS(e,or.getCompare());return new tn(s,Lr(t),new Xu({".priority":c},{".priority":or}))}return new tn(s,Lr(t),Xu.Default)}}Object.defineProperties(dn,{MIN:{value:new dn(Qu,tn.EMPTY_NODE)},MAX:{value:new dn(Hc,Zw)}}),BH.__EMPTY_NODE=tn.EMPTY_NODE,ny.__childrenNodeConstructor=tn,function iZ(n){tP=n}(Zw),function oZ(n){zH=n}(Zw),function sZ(n){$H=n}(Lr);class rP extends DS{constructor(t){super(),this.indexPath_=t,(0,re.hu)(!ln(t)&&".priority"!==an(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const r=this.extractChild(t.node),i=this.extractChild(e.node),s=r.compareTo(i);return 0===s?Gp(t.name,e.name):s}makePost(t,e){const r=Lr(t),i=tn.EMPTY_NODE.updateChild(this.indexPath_,r);return new dn(e,i)}maxPost(){const t=tn.EMPTY_NODE.updateChild(this.indexPath_,Zw);return new dn(Hc,t)}toString(){return qw(this.indexPath_,0).join("/")}}const iP=new class hZ extends DS{compare(t,e){const r=t.node.compareTo(e.node);return 0===r?Gp(t.name,e.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return dn.MIN}maxPost(){return dn.MAX}makePost(t,e){const r=Lr(t);return new dn(e,r)}toString(){return".value"}};function Xw(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class aP{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=or}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,re.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,re.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Qu}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,re.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,re.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,re.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===or}copy(){const t=new aP;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function ZH(n){const t={};if(n.isDefault())return t;let e;return n.index_===or?e="$priority":n.index_===iP?e="$value":n.index_===jc?e="$key":((0,re.hu)(n.index_ instanceof rP,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,re.Pz)(e),n.startSet_&&(t.startAt=(0,re.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,re.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,re.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,re.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function QH(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==or&&(t.i=n.index_.toString()),t}class MS extends kH{constructor(t,e,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=$w("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,re.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const c=MS.getListenId_(t,r),h={};this.listens_[c]=h;const p=ZH(t._queryParams);this.restRequest_(s+".json",p,(_,w)=>{let I=w;if(404===_&&(I=null,_=null),null===_&&this.onDataUpdate_(s,I,!1,r),(0,re.DV)(this.listens_,c)===h){let x;x=_?401===_?"permission_denied":"rest_error:"+_:"ok",i(x,null)}})}unlisten(t,e){const r=MS.getListenId_(t,e);delete this.listens_[r]}get(t){const e=ZH(t._queryParams),r=t._path.toString(),i=new re.BH;return this.restRequest_(r+".json",e,(s,c)=>{let h=c;404===s&&(h=null,s=null),null===s?(this.onDataUpdate_(r,h,!1,null),i.resolve(h)):i.reject(new Error(h))}),i.promise}refreshAuthToken(t){}restRequest_(t,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(e.auth=i.accessToken),s&&s.token&&(e.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,re.xO)(e);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&4===h.readyState){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=(0,re.cI)(h.responseText)}catch{Ds("Failed to parse JSON response for "+c+": "+h.responseText)}r(null,p)}else 401!==h.status&&404!==h.status&&Ds("Got unsuccessful REST response for "+c+" Status: "+h.status),r(h.status);r=null}},h.open("GET",c,!0),h.send()})}}class wZ{constructor(){this.rootNode_=tn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function xS(){return{value:null,children:new Map}}function oy(n,t,e){if(ln(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const r=an(t);n.children.has(r)||n.children.set(r,xS()),oy(n.children.get(r),t=Xn(t),e)}}function dP(n,t,e){null!==n.value?e(t,n.value):function CZ(n,t){n.children.forEach((e,r)=>{t(r,e)})}(n,(r,i)=>{dP(i,new Ln(t.toString()+"/"+r),e)})}class EZ{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Ki(this.last_,(r,i)=>{e[r]=e[r]-i}),this.last_=t,e}}class SZ{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new EZ(t);const r=1e4+2e4*Math.random();Gw(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),e={};let r=!1;Ki(t,(i,s)=>{s>0&&(0,re.r3)(this.statsToReport_,i)&&(e[i]=s,r=!0)}),r&&this.server_.reportStats(e),Gw(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var tl=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(tl||(tl={})),tl))();function pP(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class kS{constructor(t,e,r){this.path=t,this.affectedTree=e,this.revert=r,this.type=tl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(ln(this.path)){if(null!=this.affectedTree.value)return(0,re.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Ln(t));return new kS(An(),e,this.revert)}}return(0,re.hu)(an(this.path)===t,"operationForChild called for unrelated child."),new kS(Xn(this.path),this.affectedTree,this.revert)}}class Yp{constructor(t,e,r){this.source=t,this.path=e,this.snap=r,this.type=tl.OVERWRITE}operationForChild(t){return ln(this.path)?new Yp(this.source,An(),this.snap.getImmediateChild(t)):new Yp(this.source,Xn(this.path),this.snap)}}class ay{constructor(t,e,r){this.source=t,this.path=e,this.children=r,this.type=tl.MERGE}operationForChild(t){if(ln(this.path)){const e=this.children.subtree(new Ln(t));return e.isEmpty()?null:e.value?new Yp(this.source,An(),e.value):new ay(this.source,An(),e)}return(0,re.hu)(an(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ay(this.source,Xn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Bh{constructor(t,e,r){this.node_=t,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ln(t))return this.isFullyInitialized()&&!this.filtered_;const e=an(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function t0(n,t,e,r,i,s){const c=r.filter(h=>h.type===e);c.sort((h,p)=>function xZ(n,t,e){if(null==t.childName||null==e.childName)throw(0,re.g5)("Should only compare child_ events.");const r=new dn(t.childName,t.snapshotNode),i=new dn(e.childName,e.snapshotNode);return n.index_.compare(r,i)}(n,h,p)),c.forEach(h=>{const p=function MZ(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,h,s);i.forEach(_=>{_.respondsTo(h.type)&&t.push(_.createEvent(p,n.query_))})})}function RS(n,t){return{eventCache:n,serverCache:t}}function n0(n,t,e,r){return RS(new Bh(t,e,r),n.serverCache)}function JH(n,t,e,r){return RS(n.eventCache,new Bh(t,e,r))}function OS(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Kp(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let mP;class ar{constructor(t,e=(()=>(mP||(mP=new Oo(mK)),mP))()){this.value=t,this.children=e}static fromObject(t){let e=new ar(null);return Ki(t,(r,i)=>{e=e.set(new Ln(r),i)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:An(),value:this.value};if(ln(t))return null;{const r=an(t),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(Xn(t),e);return null!=s?{path:Tr(new Ln(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ln(t))return this;{const e=an(t),r=this.children.get(e);return null!==r?r.subtree(Xn(t)):new ar(null)}}set(t,e){if(ln(t))return new ar(e,this.children);{const r=an(t),s=(this.children.get(r)||new ar(null)).set(Xn(t),e),c=this.children.insert(r,s);return new ar(this.value,c)}}remove(t){if(ln(t))return this.children.isEmpty()?new ar(null):new ar(null,this.children);{const e=an(t),r=this.children.get(e);if(r){const i=r.remove(Xn(t));let s;return s=i.isEmpty()?this.children.remove(e):this.children.insert(e,i),null===this.value&&s.isEmpty()?new ar(null):new ar(this.value,s)}return this}}get(t){if(ln(t))return this.value;{const e=an(t),r=this.children.get(e);return r?r.get(Xn(t)):null}}setTree(t,e){if(ln(t))return e;{const r=an(t),s=(this.children.get(r)||new ar(null)).setTree(Xn(t),e);let c;return c=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new ar(this.value,c)}}fold(t){return this.fold_(An(),t)}fold_(t,e){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Tr(t,i),e)}),e(t,this.value,r)}findOnPath(t,e){return this.findOnPath_(t,An(),e)}findOnPath_(t,e,r){const i=!!this.value&&r(e,this.value);if(i)return i;if(ln(t))return null;{const s=an(t),c=this.children.get(s);return c?c.findOnPath_(Xn(t),Tr(e,s),r):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,An(),e)}foreachOnPath_(t,e,r){if(ln(t))return this;{this.value&&r(e,this.value);const i=an(t),s=this.children.get(i);return s?s.foreachOnPath_(Xn(t),Tr(e,i),r):new ar(null)}}foreach(t){this.foreach_(An(),t)}foreach_(t,e){this.children.inorderTraversal((r,i)=>{i.foreach_(Tr(t,r),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,r)=>{r.value&&t(e,r.value)})}}class zl{constructor(t){this.writeTree_=t}static empty(){return new zl(new ar(null))}}function r0(n,t,e){if(ln(t))return new zl(new ar(e));{const r=n.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let s=r.value;const c=Qs(i,t);return s=s.updateChild(c,e),new zl(n.writeTree_.set(i,s))}{const i=new ar(e),s=n.writeTree_.setTree(t,i);return new zl(s)}}}function gP(n,t,e){let r=n;return Ki(e,(i,s)=>{r=r0(r,Tr(t,i),s)}),r}function ej(n,t){if(ln(t))return zl.empty();{const e=n.writeTree_.setTree(t,new ar(null));return new zl(e)}}function _P(n,t){return null!=Zp(n,t)}function Zp(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Qs(e.path,t)):null}function tj(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(or,(r,i)=>{t.push(new dn(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&t.push(new dn(r,i.value))}),t}function Uh(n,t){if(ln(t))return n;{const e=Zp(n,t);return new zl(null!=e?new ar(e):n.writeTree_.subtree(t))}}function yP(n){return n.writeTree_.isEmpty()}function ly(n,t){return nj(An(),n.writeTree_,t)}function nj(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{".priority"===i?((0,re.hu)(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):e=nj(Tr(n,i),s,e)}),!e.getChild(n).isEmpty()&&null!==r&&(e=e.updateChild(Tr(n,".priority"),r)),e}}function PS(n,t){return aj(t,n)}function FZ(n,t){if(n.snap)return el(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&el(Tr(n.path,e),t))return!0;return!1}function VZ(n){return n.visible}function rj(n,t,e){let r=zl.empty();for(let i=0;i<n.length;++i){const s=n[i];if(t(s)){const c=s.path;let h;if(s.snap)el(e,c)?(h=Qs(e,c),r=r0(r,h,s.snap)):el(c,e)&&(h=Qs(c,e),r=r0(r,An(),s.snap.getChild(h)));else{if(!s.children)throw(0,re.g5)("WriteRecord should have .snap or .children");if(el(e,c))h=Qs(e,c),r=gP(r,h,s.children);else if(el(c,e))if(h=Qs(c,e),ln(h))r=gP(r,An(),s.children);else{const p=(0,re.DV)(s.children,an(h));if(p){const _=p.getChild(Xn(h));r=r0(r,An(),_)}}}}}return r}function ij(n,t,e,r,i){if(r||i){const s=Uh(n.visibleWrites,t);return!i&&yP(s)?e:i||null!=e||_P(s,An())?ly(rj(n.allWrites,function(_){return(_.visible||i)&&(!r||!~r.indexOf(_.writeId))&&(el(_.path,t)||el(t,_.path))},t),e||tn.EMPTY_NODE):null}{const s=Zp(n.visibleWrites,t);if(null!=s)return s;{const c=Uh(n.visibleWrites,t);return yP(c)?e:null!=e||_P(c,An())?ly(c,e||tn.EMPTY_NODE):null}}}function NS(n,t,e,r){return ij(n.writeTree,n.treePath,t,e,r)}function vP(n,t){return function BZ(n,t,e){let r=tn.EMPTY_NODE;const i=Zp(n.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(or,(s,c)=>{r=r.updateImmediateChild(s,c)}),r;if(e){const s=Uh(n.visibleWrites,t);return e.forEachChild(or,(c,h)=>{const p=ly(Uh(s,new Ln(c)),h);r=r.updateImmediateChild(c,p)}),tj(s).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}return tj(Uh(n.visibleWrites,t)).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}(n.writeTree,n.treePath,t)}function sj(n,t,e,r){return function UZ(n,t,e,r,i){(0,re.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Tr(t,e);if(_P(n.visibleWrites,s))return null;{const c=Uh(n.visibleWrites,s);return yP(c)?i.getChild(e):ly(c,i.getChild(e))}}(n.writeTree,n.treePath,t,e,r)}function FS(n,t){return function jZ(n,t){return Zp(n.visibleWrites,t)}(n.writeTree,Tr(n.treePath,t))}function bP(n,t,e){return function HZ(n,t,e,r){const i=Tr(t,e),s=Zp(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(e)?ly(Uh(n.visibleWrites,i),r.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function oj(n,t){return aj(Tr(n.treePath,t),n.writeTree)}function aj(n,t){return{treePath:n,writeTree:t}}class WZ{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,r=t.childName;(0,re.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,re.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(r,Xw(r,t.snapshotNode,i.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(r,function Qw(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}(r,i.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(r,function sy(n,t){return{type:"child_added",snapshotNode:t,childName:n}}(r,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,re.g5)("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(r,Xw(r,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const lj=new class qZ{getCompleteChild(t){return null}getChildAfterChild(t,e,r){return null}};class wP{constructor(t,e,r=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new Bh(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return bP(this.writes_,t,r)}}getChildAfterChild(t,e,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Kp(this.viewCache_),s=function GZ(n,t,e,r,i,s){return function $Z(n,t,e,r,i,s,c){let h;const p=Uh(n.visibleWrites,t),_=Zp(p,An());if(null!=_)h=_;else{if(null==e)return[];h=ly(p,e)}if(h=h.withIndex(c),h.isEmpty()||h.isLeafNode())return[];{const w=[],I=c.getCompare(),x=s?h.getReverseIteratorFrom(r,c):h.getIteratorFrom(r,c);let L=x.getNext();for(;L&&w.length<i;)0!==I(L,r)&&w.push(L),L=x.getNext();return w}}(n.writeTree,n.treePath,t,e,r,i,s)}(this.writes_,i,e,1,r,t);return 0===s.length?null:s[0]}}function cj(n,t,e,r,i,s){const c=t.eventCache;if(null!=FS(r,e))return t;{let h,p;if(ln(e))if((0,re.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=Kp(t),I=vP(r,_ instanceof tn?_:tn.EMPTY_NODE);h=n.filter.updateFullNode(t.eventCache.getNode(),I,s)}else{const _=NS(r,Kp(t));h=n.filter.updateFullNode(t.eventCache.getNode(),_,s)}else{const _=an(e);if(".priority"===_){(0,re.hu)(1===Vh(e),"Can't have a priority with additional path components");const w=c.getNode();p=t.serverCache.getNode();const I=sj(r,e,w,p);h=null!=I?n.filter.updatePriority(w,I):c.getNode()}else{const w=Xn(e);let I;if(c.isCompleteForChild(_)){p=t.serverCache.getNode();const x=sj(r,e,c.getNode(),p);I=null!=x?c.getNode().getImmediateChild(_).updateChild(w,x):c.getNode().getImmediateChild(_)}else I=bP(r,_,t.serverCache);h=null!=I?n.filter.updateChild(c.getNode(),_,I,w,i,s):c.getNode()}}return n0(t,h,c.isFullyInitialized()||ln(e),n.filter.filtersNodes())}}function LS(n,t,e,r,i,s,c,h){const p=t.serverCache;let _;const w=c?n.filter:n.filter.getIndexedFilter();if(ln(e))_=w.updateFullNode(p.getNode(),r,null);else if(w.filtersNodes()&&!p.isFiltered()){const L=p.getNode().updateChild(e,r);_=w.updateFullNode(p.getNode(),L,null)}else{const L=an(e);if(!p.isCompleteForPath(e)&&Vh(e)>1)return t;const B=Xn(e),ve=p.getNode().getImmediateChild(L).updateChild(B,r);_=".priority"===L?w.updatePriority(p.getNode(),ve):w.updateChild(p.getNode(),L,ve,B,lj,null)}const I=JH(t,_,p.isFullyInitialized()||ln(e),w.filtersNodes());return cj(n,I,e,i,new wP(i,I,s),h)}function CP(n,t,e,r,i,s,c){const h=t.eventCache;let p,_;const w=new wP(i,t,s);if(ln(e))_=n.filter.updateFullNode(t.eventCache.getNode(),r,c),p=n0(t,_,!0,n.filter.filtersNodes());else{const I=an(e);if(".priority"===I)_=n.filter.updatePriority(t.eventCache.getNode(),r),p=n0(t,_,h.isFullyInitialized(),h.isFiltered());else{const x=Xn(e),L=h.getNode().getImmediateChild(I);let B;if(ln(x))B=r;else{const X=w.getCompleteChild(I);B=null!=X?".priority"===QO(x)&&X.getChild(NH(x)).isEmpty()?X:X.updateChild(x,r):tn.EMPTY_NODE}p=L.equals(B)?t:n0(t,n.filter.updateChild(h.getNode(),I,B,x,w,c),h.isFullyInitialized(),n.filter.filtersNodes())}}return p}function uj(n,t){return n.eventCache.isCompleteForChild(t)}function dj(n,t,e){return e.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function EP(n,t,e,r,i,s,c,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let _,p=t;_=ln(e)?r:new ar(null).setTree(e,r);const w=t.serverCache.getNode();return _.children.inorderTraversal((I,x)=>{if(w.hasChild(I)){const B=dj(0,t.serverCache.getNode().getImmediateChild(I),x);p=LS(n,p,new Ln(I),B,i,s,c,h)}}),_.children.inorderTraversal((I,x)=>{const L=!t.serverCache.isCompleteForChild(I)&&void 0===x.value;if(!w.hasChild(I)&&!L){const X=dj(0,t.serverCache.getNode().getImmediateChild(I),x);p=LS(n,p,new Ln(I),X,i,s,c,h)}}),p}function s7(n,t){const e=Kp(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!ln(t)&&!e.getImmediateChild(an(t)).isEmpty())?e.getChild(t):null}function pj(n,t,e,r){t.type===tl.MERGE&&null!==t.source.queryId&&((0,re.hu)(Kp(n.viewCache_),"We should always have a full cache before handling merges"),(0,re.hu)(OS(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function ZZ(n,t,e,r,i){const s=new WZ;let c,h;if(e.type===tl.OVERWRITE){const _=e;_.source.fromUser?c=CP(n,t,_.path,_.snap,r,i,s):((0,re.hu)(_.source.fromServer,"Unknown source."),h=_.source.tagged||t.serverCache.isFiltered()&&!ln(_.path),c=LS(n,t,_.path,_.snap,r,i,h,s))}else if(e.type===tl.MERGE){const _=e;_.source.fromUser?c=function XZ(n,t,e,r,i,s,c){let h=t;return r.foreach((p,_)=>{const w=Tr(e,p);uj(t,an(w))&&(h=CP(n,h,w,_,i,s,c))}),r.foreach((p,_)=>{const w=Tr(e,p);uj(t,an(w))||(h=CP(n,h,w,_,i,s,c))}),h}(n,t,_.path,_.children,r,i,s):((0,re.hu)(_.source.fromServer,"Unknown source."),h=_.source.tagged||t.serverCache.isFiltered(),c=EP(n,t,_.path,_.children,r,i,h,s))}else if(e.type===tl.ACK_USER_WRITE){const _=e;c=_.revert?function t7(n,t,e,r,i,s){let c;if(null!=FS(r,e))return t;{const h=new wP(r,t,i),p=t.eventCache.getNode();let _;if(ln(e)||".priority"===an(e)){let w;if(t.serverCache.isFullyInitialized())w=NS(r,Kp(t));else{const I=t.serverCache.getNode();(0,re.hu)(I instanceof tn,"serverChildren would be complete if leaf node"),w=vP(r,I)}_=n.filter.updateFullNode(p,w,s)}else{const w=an(e);let I=bP(r,w,t.serverCache);null==I&&t.serverCache.isCompleteForChild(w)&&(I=p.getImmediateChild(w)),_=null!=I?n.filter.updateChild(p,w,I,Xn(e),h,s):t.eventCache.getNode().hasChild(w)?n.filter.updateChild(p,w,tn.EMPTY_NODE,Xn(e),h,s):p,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=NS(r,Kp(t)),c.isLeafNode()&&(_=n.filter.updateFullNode(_,c,s)))}return c=t.serverCache.isFullyInitialized()||null!=FS(r,An()),n0(t,_,c,n.filter.filtersNodes())}}(n,t,_.path,r,i,s):function JZ(n,t,e,r,i,s,c){if(null!=FS(i,e))return t;const h=t.serverCache.isFiltered(),p=t.serverCache;if(null!=r.value){if(ln(e)&&p.isFullyInitialized()||p.isCompleteForPath(e))return LS(n,t,e,p.getNode().getChild(e),i,s,h,c);if(ln(e)){let _=new ar(null);return p.getNode().forEachChild(jc,(w,I)=>{_=_.set(new Ln(w),I)}),EP(n,t,e,_,i,s,h,c)}return t}{let _=new ar(null);return r.foreach((w,I)=>{const x=Tr(e,w);p.isCompleteForPath(x)&&(_=_.set(w,p.getNode().getChild(x)))}),EP(n,t,e,_,i,s,h,c)}}(n,t,_.path,_.affectedTree,r,i,s)}else{if(e.type!==tl.LISTEN_COMPLETE)throw(0,re.g5)("Unknown operation type: "+e.type);c=function e7(n,t,e,r,i){const s=t.serverCache;return cj(n,JH(t,s.getNode(),s.isFullyInitialized()||ln(e),s.isFiltered()),e,r,lj,i)}(n,t,e.path,r,s)}const p=s.getChanges();return function QZ(n,t,e){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=OS(n);(e.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&e.push(function KH(n){return{type:"value",snapshotNode:n}}(OS(t)))}}(t,c,p),{viewCache:c,changes:p}}(n.processor_,i,t,e,r);return function KZ(n,t){(0,re.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,re.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,re.hu)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,function mj(n,t,e,r){return function AZ(n,t,e,r){const i=[],s=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function pZ(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),t0(n,i,"child_removed",t,r,e),t0(n,i,"child_added",t,r,e),t0(n,i,"child_moved",s,r,e),t0(n,i,"child_changed",t,r,e),t0(n,i,"value",t,r,e),i}(n.eventGenerator_,t,e,r?[r]:n.eventRegistrations_)}(n,s.changes,s.viewCache.eventCache.getNode(),null)}let VS,US;function DP(n,t,e,r){const i=t.source.queryId;if(null!==i){const s=n.views.get(i);return(0,re.hu)(null!=s,"SyncTree gave us an op for an invalid query."),pj(s,t,e,r)}{let s=[];for(const c of n.views.values())s=s.concat(pj(c,t,e,r));return s}}function Hh(n,t){let e=null;for(const r of n.views.values())e=e||s7(r,t);return e}class bj{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ar(null),this.pendingWriteTree_=function zZ(){return{visibleWrites:zl.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function SP(n,t,e,r,i){return function RZ(n,t,e,r,i){(0,re.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:t,snap:e,writeId:r,visible:i}),i&&(n.visibleWrites=r0(n.visibleWrites,t,e)),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r,i),i?cy(n,new Yp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function $h(n,t,e=!1){const r=function PZ(n,t){for(let e=0;e<n.allWrites.length;e++){const r=n.allWrites[e];if(r.writeId===t)return r}return null}(n.pendingWriteTree_,t);if(function NZ(n,t){const e=n.allWrites.findIndex(h=>h.writeId===t);(0,re.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[e];n.allWrites.splice(e,1);let i=r.visible,s=!1,c=n.allWrites.length-1;for(;i&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=e&&FZ(h,r.path)?i=!1:el(r.path,h.path)&&(s=!0)),c--}return!!i&&(s?(function LZ(n){n.visibleWrites=rj(n.allWrites,VZ,An()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=ej(n.visibleWrites,r.path):Ki(r.children,p=>{n.visibleWrites=ej(n.visibleWrites,Tr(r.path,p))}),!0))}(n.pendingWriteTree_,t)){let s=new ar(null);return null!=r.snap?s=s.set(An(),!0):Ki(r.children,c=>{s=s.set(new Ln(c),!0)}),cy(n,new kS(r.path,s,e))}return[]}function s0(n,t,e){return cy(n,new Yp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function jS(n,t,e){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(c,h)=>{const _=Hh(h,Qs(c,t));if(_)return _});return ij(i,t,s,e,!0)}function cy(n,t){return Dj(t,n.syncPointTree_,null,PS(n.pendingWriteTree_,An()))}function Dj(n,t,e,r){if(ln(n.path))return Ij(n,t,e,r);{const i=t.get(An());null==e&&null!=i&&(e=Hh(i,An()));let s=[];const c=an(n.path),h=n.operationForChild(c),p=t.children.get(c);if(p&&h){const _=e?e.getImmediateChild(c):null,w=oj(r,c);s=s.concat(Dj(h,p,_,w))}return i&&(s=s.concat(DP(i,n,r,e))),s}}function Ij(n,t,e,r){const i=t.get(An());null==e&&null!=i&&(e=Hh(i,An()));let s=[];return t.children.inorderTraversal((c,h)=>{const p=e?e.getImmediateChild(c):null,_=oj(r,c),w=n.operationForChild(c);w&&(s=s.concat(Ij(w,h,p,_)))}),i&&(s=s.concat(DP(i,n,r,e))),s}function TP(n,t){return n.tagToQueryMap.get(t)}function AP(n){const t=n.indexOf("$");return(0,re.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Ln(n.substr(0,t))}}function MP(n,t,e){const r=n.syncPointTree_.get(t);return(0,re.hu)(r,"Missing sync point for query tag that we're tracking"),DP(r,e,PS(n.pendingWriteTree_,t),null)}class xP{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new xP(e)}node(){return this.node_}}class kP{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Tr(this.path_,t);return new kP(this.syncTree_,e)}node(){return jS(this.syncTree_,this.path_)}}const Tj=function(n,t,e){return n&&"object"==typeof n?((0,re.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?A7(n[".sv"],t,e):"object"==typeof n[".sv"]?M7(n[".sv"],t):void(0,re.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},A7=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,re.hu)(!1,"Unexpected server value: "+n)},M7=function(n,t,e){n.hasOwnProperty("increment")||(0,re.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,re.hu)(!1,"Unexpected increment value: "+r);const i=t.node();if((0,re.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const c=i.getValue();return"number"!=typeof c?r:c+r},RP=function(n,t,e){return OP(n,new xP(t),e)};function OP(n,t,e){const r=n.getPriority().val(),i=Tj(r,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const c=n,h=Tj(c.getValue(),t,e);return h!==c.getValue()||i!==c.getPriority().val()?new ny(h,Lr(i)):n}{const c=n;return s=c,i!==c.getPriority().val()&&(s=s.updatePriority(new ny(i))),c.forEachChild(or,(h,p)=>{const _=OP(p,t.getImmediateChild(h),e);_!==p&&(s=s.updateImmediateChild(h,_))}),s}}class PP{constructor(t="",e=null,r={children:{},childCount:0}){this.name=t,this.parent=e,this.node=r}}function zS(n,t){let e=t instanceof Ln?t:new Ln(t),r=n,i=an(e);for(;null!==i;){const s=(0,re.DV)(r.node.children,i)||{children:{},childCount:0};r=new PP(i,r,s),e=Xn(e),i=an(e)}return r}function Qp(n){return n.node.value}function NP(n,t){n.node.value=t,FP(n)}function Mj(n){return n.node.childCount>0}function GS(n,t){Ki(n.node.children,(e,r)=>{t(new PP(e,n,r))})}function xj(n,t,e,r){e&&!r&&t(n),GS(n,i=>{xj(i,t,!0,r)}),e&&r&&t(n)}function l0(n){return new Ln(null===n.parent?n.name:l0(n.parent)+"/"+n.name)}function FP(n){null!==n.parent&&function R7(n,t,e){const r=function x7(n){return void 0===Qp(n)&&!Mj(n)}(e),i=(0,re.r3)(n.node.children,t);r&&i?(delete n.node.children[t],n.node.childCount--,FP(n)):!r&&!i&&(n.node.children[t]=e.node,n.node.childCount++,FP(n))}(n.parent,n.name,n)}const O7=/[\[\].#$\/\u0000-\u001F\u007F]/,P7=/[\[\].#$\u0000-\u001F\u007F]/,LP=10485760,WS=function(n){return"string"==typeof n&&0!==n.length&&!O7.test(n)},u0=function(n,t,e){const r=e instanceof Ln?new KK(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Wp(r));if("function"==typeof t)throw new Error(n+"contains a function "+Wp(r)+" with contents = "+t.toString());if(vS(t))throw new Error(n+"contains "+t.toString()+" "+Wp(r));if("string"==typeof t&&t.length>LP/3&&(0,re.ug)(t)>LP)throw new Error(n+"contains a string greater than "+LP+" utf8 bytes "+Wp(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let i=!1,s=!1;if(Ki(t,(c,h)=>{if(".value"===c)i=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!WS(c)))throw new Error(n+" contains an invalid key ("+c+") "+Wp(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function ZK(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,re.ug)(t),FH(n)})(r,c),u0(n,h,r),function QK(n){const t=n.parts_.pop();n.byteLength_-=(0,re.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+Wp(r)+" in addition to actual children.")}},Oj=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!WS(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!P7.test(n)}(n)}(e))throw new Error((0,re.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class V7{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function nl(n,t,e){(function qS(n,t){let e=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();null!==e&&!XO(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(i)}e&&n.eventLists_.push(e)})(n,e),function Nj(n,t){n.recursionDepth_++;let e=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(t(i.path)?(B7(n.eventLists_[r]),n.eventLists_[r]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>el(r,t)||el(t,r))}function B7(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const r=e.getEventRunner();zp&&Yi("event: "+e.toString()),ey(r)}}}class H7{constructor(t,e,r,i){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new V7,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xS(),this.transactionQueueTree_=new PP,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Lj(n){const e=n.infoData_.getNode(new Ln(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function h0(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:Lj(n)})}function Vj(n,t,e,r,i){n.dataUpdateCount++;const s=new Ln(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(i)if(r){const p=(0,re.UI)(e,_=>Lr(_));c=function w7(n,t,e,r){const i=TP(n,r);if(i){const s=AP(i),c=s.path,h=s.queryId,p=Qs(c,t),_=ar.fromObject(e);return MP(n,c,new ay(pP(h),p,_))}return[]}(n.serverSyncTree_,s,p,i)}else{const p=Lr(e);c=function wj(n,t,e,r){const i=TP(n,r);if(null!=i){const s=AP(i),c=s.path,h=s.queryId,p=Qs(c,t);return MP(n,c,new Yp(pP(h),p,e))}return[]}(n.serverSyncTree_,s,p,i)}else if(r){const p=(0,re.UI)(e,_=>Lr(_));c=function _7(n,t,e){const r=ar.fromObject(e);return cy(n,new ay({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,s,p)}else{const p=Lr(e);c=s0(n.serverSyncTree_,s,p)}let h=s;c.length>0&&(h=uy(n,s)),nl(n.eventQueue_,h,c)}function Bj(n,t){UP(n,"connected",t),!1===t&&function W7(n){Xp(n,"onDisconnectEvents");const t=h0(n),e=xS();dP(n.onDisconnect_,An(),(i,s)=>{const c=function(n,t,e,r){return OP(t,new kP(e,n),r)}(i,s,n.serverSyncTree_,t);oy(e,i,c)});let r=[];dP(e,An(),(i,s)=>{r=r.concat(s0(n.serverSyncTree_,i,s));const c=function zP(n,t){const e=l0(jj(n,t)),r=zS(n.transactionQueueTree_,t);return function k7(n,t,e){let r=e?n:n.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,i=>{GP(n,i)}),GP(n,r),xj(r,i=>{GP(n,i)}),e}(n,i);uy(n,c)}),n.onDisconnect_=xS(),nl(n.eventQueue_,An(),r)}(n)}function UP(n,t,e){const r=new Ln("/.info/"+t),i=Lr(e);n.infoData_.updateSnapshot(r,i);const s=s0(n.infoSyncTree_,r,i);nl(n.eventQueue_,r,s)}function YS(n){return n.nextWriteId_++}function Xp(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Yi(e,...t)}function $P(n,t,e){return jS(n.serverSyncTree_,t,e)||tn.EMPTY_NODE}function KS(n,t=n.transactionQueueTree_){if(t||ZS(n,t),Qp(t)){const e=$j(n,t);(0,re.hu)(e.length>0,"Sending zero length transaction queue"),e.every(i=>0===i.status)&&function J7(n,t,e){const r=e.map(_=>_.currentWriteId),i=$P(n,t,r);let s=i;const c=i.hash();for(let _=0;_<e.length;_++){const w=e[_];(0,re.hu)(0===w.status,"tryToSendTransactionQueue_: items in queue should all be run."),w.status=1,w.retryCount++;const I=Qs(t,w.path);s=s.updateChild(I,w.currentOutputSnapshotRaw)}const h=s.val(!0),p=t;n.server_.put(p.toString(),h,_=>{Xp(n,"transaction put response",{path:p.toString(),status:_});let w=[];if("ok"===_){const I=[];for(let x=0;x<e.length;x++)e[x].status=2,w=w.concat($h(n.serverSyncTree_,e[x].currentWriteId)),e[x].onComplete&&I.push(()=>e[x].onComplete(null,!0,e[x].currentOutputSnapshotResolved)),e[x].unwatcher();ZS(n,zS(n.transactionQueueTree_,t)),KS(n,n.transactionQueueTree_),nl(n.eventQueue_,t,w);for(let x=0;x<I.length;x++)ey(I[x])}else{if("datastale"===_)for(let I=0;I<e.length;I++)e[I].status=3===e[I].status?4:0;else{Ds("transaction at "+p.toString()+" failed: "+_);for(let I=0;I<e.length;I++)e[I].status=4,e[I].abortReason=_}uy(n,t)}},c)}(n,l0(t),e)}else Mj(t)&&GS(t,e=>{KS(n,e)})}function uy(n,t){const e=jj(n,t),r=l0(e);return function eQ(n,t,e){if(0===t.length)return;const r=[];let i=[];const c=t.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const p=t[h],_=Qs(e,p.path);let I,w=!1;if((0,re.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)w=!0,I=p.abortReason,i=i.concat($h(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)w=!0,I="maxretry",i=i.concat($h(n.serverSyncTree_,p.currentWriteId,!0));else{const x=$P(n,p.path,c);p.currentInputSnapshot=x;const L=t[h].update(x.val());if(void 0!==L){u0("transaction failed: Data returned ",L,p.path);let B=Lr(L);"object"==typeof L&&null!=L&&(0,re.r3)(L,".priority")||(B=B.updatePriority(x.getPriority()));const ve=p.currentWriteId,Xe=h0(n),ut=RP(B,x,Xe);p.currentOutputSnapshotRaw=B,p.currentOutputSnapshotResolved=ut,p.currentWriteId=YS(n),c.splice(c.indexOf(ve),1),i=i.concat(SP(n.serverSyncTree_,p.path,ut,p.currentWriteId,p.applyLocally)),i=i.concat($h(n.serverSyncTree_,ve,!0))}else w=!0,I="nodata",i=i.concat($h(n.serverSyncTree_,p.currentWriteId,!0))}nl(n.eventQueue_,e,i),i=[],w&&(t[h].status=2,setTimeout(t[h].unwatcher,Math.floor(0)),t[h].onComplete&&r.push("nodata"===I?()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot):()=>t[h].onComplete(new Error(I),!1,null)))}ZS(n,n.transactionQueueTree_);for(let h=0;h<r.length;h++)ey(r[h]);KS(n,n.transactionQueueTree_)}(n,$j(n,e),r),r}function jj(n,t){let e,r=n.transactionQueueTree_;for(e=an(t);null!==e&&void 0===Qp(r);)r=zS(r,e),e=an(t=Xn(t));return r}function $j(n,t){const e=[];return zj(n,t,e),e.sort((r,i)=>r.order-i.order),e}function zj(n,t,e){const r=Qp(t);if(r)for(let i=0;i<r.length;i++)e.push(r[i]);GS(t,i=>{zj(n,i,e)})}function ZS(n,t){const e=Qp(t);if(e){let r=0;for(let i=0;i<e.length;i++)2!==e[i].status&&(e[r]=e[i],r++);e.length=r,NP(t,e.length>0?e:void 0)}GS(t,r=>{ZS(n,r)})}function GP(n,t){const e=Qp(t);if(e){const r=[];let i=[],s=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,re.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,e[c].status=3,e[c].abortReason="set"):((0,re.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),i=i.concat($h(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&r.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?NP(t,void 0):e.length=s+1,nl(n.eventQueue_,l0(t),i);for(let c=0;c<r.length;c++)ey(r[c])}}const WP=function(n,t){const e=rQ(n),r=e.namespace;return"firebase.com"===e.domain&&Uc(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&Uc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ds("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new GO(e.host,e.secure,r,"ws"===e.scheme||"wss"===e.scheme,t,"",r!==e.subdomain),path:new Ln(e.pathString)}},rQ=function(n){let t="",e="",r="",i="",s="",c=!0,h="https",p=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(h=n.substring(0,_-1),n=n.substring(_+2));let w=n.indexOf("/");-1===w&&(w=n.length);let I=n.indexOf("?");-1===I&&(I=n.length),t=n.substring(0,Math.min(w,I)),w<I&&(i=function tQ(n){let t="";const e=n.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let i=e[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}(n.substring(w,I)));const x=function nQ(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ds(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,I)));_=t.indexOf(":"),_>=0?(c="https"===h||"wss"===h,p=parseInt(t.substring(_+1),10)):_=t.length;const L=t.slice(0,_);if("localhost"===L.toLowerCase())e="localhost";else if(L.split(".").length<=2)e=L;else{const B=t.indexOf(".");r=t.substring(0,B).toLowerCase(),e=t.substring(B+1),s=r}"ns"in x&&(s=x.ns)}return{host:t,port:p,domain:e,subdomain:r,secure:c,scheme:h,pathString:i,namespace:s}};class va{constructor(t,e,r,i){this._repo=t,this._path=e,this._queryParams=r,this._orderByCalled=i}get key(){return ln(this._path)?null:QO(this._path)}get ref(){return new Gl(this._repo,this._path)}get _queryIdentifier(){const t=QH(this._queryParams),e=jO(t);return"{}"===e?"default":e}get _queryObject(){return QH(this._queryParams)}isEqual(t){if(!((t=(0,re.m9)(t))instanceof va))return!1;const e=this._repo===t._repo,r=XO(this._path,t._path);return e&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function qK(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}class Gl extends va{constructor(t,e){super(t,e,new aP,!1)}get parent(){const t=NH(this._path);return null===t?null:new Gl(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}(function l7(n){(0,re.hu)(!VS,"__referenceConstructor has already been defined"),VS=n})(Gl),function f7(n){(0,re.hu)(!US,"__referenceConstructor has already been defined"),US=n}(Gl);const qP={};class CQ{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function j7(n,t,e){if(n.stats_=YO(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new MS(n.repoInfo_,(r,i,s,c)=>{Vj(n,r,i,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Bj(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,re.Pz)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new qp(n.repoInfo_,t,(r,i,s,c)=>{Vj(n,r,i,s,c)},r=>{Bj(n,r)},r=>{!function $7(n,t){Ki(t,(e,r)=>{UP(n,e,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function IK(n,t){const e=n.toString();return qO[e]||(qO[e]=t()),qO[e]}(n.repoInfo_,()=>new SZ(n.stats_,n.server_)),n.infoData_=new wZ,n.infoSyncTree_=new bj({startListening:(r,i,s,c)=>{let h=[];const p=n.infoData_.getNode(r._path);return p.isEmpty()||(h=s0(n.infoSyncTree_,r._path,p),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),UP(n,"connected",!1),n.serverSyncTree_=new bj({startListening:(r,i,s,c)=>(n.server_.listen(r,s,i,(h,p)=>{const _=c(h,p);nl(n.eventQueue_,r._path,_)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Gl(this._repo,An())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function vQ(n,t){const e=qP[t];(!e||e[n.key]!==n)&&Uc(`Database ${t}(${n.repoInfo_}) has already been deleted.`),function Hj(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Uc("Cannot call "+t+" on a deleted database.")}}function EQ(n=(0,ns.getApp)(),t){return(0,ns._getProvider)(n,"database").getImmediate({identifier:t})}qp.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},qp.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function DQ(n){(function uK(n){BO=n})(ns.SDK_VERSION),(0,ns._registerComponent)(new rh.wA("database",(t,{instanceIdentifier:e})=>function yQ(n,t,e,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||Uc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Yi("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,_,c=WP(s,i),h=c.repoInfo;typeof process<"u"&&process.env&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(p=!0,s=`http://${_}?ns=${h.namespace}`,c=WP(s,i),h=c.repoInfo):p=!c.repoInfo.secure;const w=i&&p?new Ww(Ww.OWNER):new CK(n.name,n.options,t);Oj("Invalid Firebase Database URL",c),ln(c.path)||Uc("Database URL must point to the root of a Firebase Database (not including a child path).");const I=function bQ(n,t,e,r){let i=qP[t.name];i||(i={},qP[t.name]=i);let s=i[n.toURLString()];return s&&Uc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new H7(n,!1,e,r),i[n.toURLString()]=s,s}(h,n,w,new wK(n.name,e));return new CQ(I,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,ns.registerVersion)(QU,"0.13.4",n),(0,ns.registerVersion)(QU,"0.13.4","esm2017")}();class YP{constructor(t){return t}}const Jj="database",KP=new u.OlP("angularfire2.database-instances");function MQ(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new YP(r)}}const xQ={provide:class TQ{constructor(){return(0,on.vb)(Jj)}},deps:[[new u.FiY,KP]]},kQ={provide:YP,useFactory:function AQ(n,t){const e=(0,on.JM)(Jj,n,t);return e&&new YP(e)},deps:[[new u.FiY,KP],Fp]};let RQ=(()=>{class n{constructor(){(0,Ku.KN)("angularfire",on.q4.full,"rtdb")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[kQ,xQ]}),n})();function OQ(n,...t){return{ngModule:RQ,providers:[{provide:KP,useFactory:MQ(n),multi:!0,deps:[u.R0b,u.zs3,on.HU,MI,[new u.FiY,LO],[new u.FiY,K_],...t]}]}}const PQ=(0,on.u3)(EQ,!0);class ZP{constructor(t){return t}}const e$="firestore",QP=new u.OlP("angularfire2.firestore-instances");function LQ(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new ZP(r)}}const VQ={provide:class NQ{constructor(){return(0,on.vb)(e$)}},deps:[[new u.FiY,QP]]},BQ={provide:ZP,useFactory:function FQ(n,t){const e=(0,on.JM)(e$,n,t);return e&&new ZP(e)},deps:[[new u.FiY,QP],Fp]};let UQ=(()=>{class n{constructor(){(0,Ku.KN)("angularfire",on.q4.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[BQ,VQ]}),n})();function HQ(n,...t){return{ngModule:UQ,providers:[{provide:QP,useFactory:LQ(n),multi:!0,deps:[u.R0b,u.zs3,on.HU,MI,[new u.FiY,LO],[new u.FiY,K_],...t]}]}}const jQ=(0,on.u3)(fG,!0);let $Q=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[t8]}),n.\u0275inj=u.cJS({imports:[di,U4,tK,G4,e8,w4,vB,O4,FM,sY,PR,$Y,IM,Jq,C6,da.hO.initializeApp(NO_firebase),QY,L4,wW(()=>CW(NO_firebase)),lK(()=>cK()),OQ(()=>PQ()),HQ(()=>jQ())]}),n})();(0,u.G48)(),ou().bootstrapModule($Q).catch(n=>console.error(n))},5867:(_t,Re,F)=>{F.d(Re,{C6:()=>u.getApps,KN:()=>u.registerVersion,Mq:()=>u.getApp,ZF:()=>u.initializeApp});var u=F(9681);(0,u.registerVersion)("firebase","9.9.2","app")},127:(_t,Re,F)=>{F.d(Re,{Z:()=>u.Z});var u=F(3942);u.Z.registerVersion("firebase","9.9.2","app-compat")},5881:(_t,Re,F)=>{F.r(Re);var u=F(5861),H=F(3942),P=F(6457),ue=F(2090),oe=(F(9681),F(1877),F(4859));function ge(){return window}function q(){return(q=(0,u.Z)(function*(se,$,z){var De;const{BuildInfo:We}=ge();(0,P.aq)($.sessionId,"AuthEvent did not contain a session ID");const Et=yield be($.sessionId),Oe={};return(0,P.ar)()?Oe.ibi=We.packageName:(0,P.as)()?Oe.apn=We.packageName:(0,P.at)(se,"operation-not-supported-in-this-environment"),We.displayName&&(Oe.appDisplayName=We.displayName),Oe.sessionId=Et,(0,P.au)(se,z,$.type,void 0,null!==(De=$.eventId)&&void 0!==De?De:void 0,Oe)})).apply(this,arguments)}function Ge(){return(Ge=(0,u.Z)(function*(se){const{BuildInfo:$}=ge(),z={};(0,P.ar)()?z.iosBundleId=$.packageName:(0,P.as)()?z.androidPackageName=$.packageName:(0,P.at)(se,"operation-not-supported-in-this-environment"),yield(0,P.av)(se,z)})).apply(this,arguments)}function at(){return(at=(0,u.Z)(function*(se,$,z){const{cordova:De}=ge();let We=()=>{};try{yield new Promise((Et,Oe)=>{let tt=null;function Mt(){var St;Et();const Mr=null===(St=De.plugins.browsertab)||void 0===St?void 0:St.close;"function"==typeof Mr&&Mr(),"function"==typeof z?.close&&z.close()}function Mn(){tt||(tt=window.setTimeout(()=>{Oe((0,P.aw)(se,"redirect-cancelled-by-user"))},2e3))}function Ar(){"visible"===document?.visibilityState&&Mn()}$.addPassiveListener(Mt),document.addEventListener("resume",Mn,!1),(0,P.as)()&&document.addEventListener("visibilitychange",Ar,!1),We=()=>{$.removePassiveListener(Mt),document.removeEventListener("resume",Mn,!1),document.removeEventListener("visibilitychange",Ar,!1),tt&&window.clearTimeout(tt)}})}finally{We()}})).apply(this,arguments)}function be(se){return nt.apply(this,arguments)}function nt(){return(nt=(0,u.Z)(function*(se){const $=rt(se),z=yield crypto.subtle.digest("SHA-256",$);return Array.from(new Uint8Array(z)).map(We=>We.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function rt(se){if((0,P.aq)(/[0-9a-zA-Z]+/.test(se),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(se);const $=new ArrayBuffer(se.length),z=new Uint8Array($);for(let De=0;De<se.length;De++)z[De]=se.charCodeAt(De);return z}class Fe extends P.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise($=>{this.resolveInialized=$})}addPassiveListener($){this.passiveListeners.add($)}removePassiveListener($){this.passiveListeners.delete($)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent($){return this.resolveInialized(),this.passiveListeners.forEach(z=>z($)),super.onEvent($)}initialized(){var $=this;return(0,u.Z)(function*(){yield $.initPromise})()}}function ce(se){return pe.apply(this,arguments)}function pe(){return(pe=(0,u.Z)(function*(se){const $=yield ie()._get(_e(se));return $&&(yield ie()._remove(_e(se))),$})).apply(this,arguments)}function te(){const se=[],$="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let z=0;z<20;z++){const De=Math.floor(Math.random()*$.length);se.push($.charAt(De))}return se.join("")}function ie(){return(0,P.ay)(P.b)}function _e(se){return(0,P.az)("authEvent",se.config.apiKey,se.name)}function $e(se){if(!se?.includes("?"))return{};const[$,...z]=se.split("?");return(0,ue.zd)(z.join("?"))}function Qe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.aw)("no-auth-event")}}function en(){var se;return(null===(se=self?.location)||void 0===se?void 0:se.protocol)||null}function Kr(se=(0,ue.z$)()){return!("file:"!==en()&&"ionic:"!==en()&&"capacitor:"!==en()||!se.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ai(){try{const se=self.localStorage,$=P.aI();if(se)return se.setItem($,"1"),se.removeItem($),!function cs(se=(0,ue.z$)()){return function Zr(){return(0,ue.w1)()&&11===document?.documentMode}()||function Vn(se=(0,ue.z$)()){return/Edge\/\d+/.test(se)}(se)}()||(0,ue.hl)()}catch{return Mi()&&(0,ue.hl)()}return!1}function Mi(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Jn(){return(function Wt(){return"http:"===en()||"https:"===en()}()||(0,ue.ru)()||Kr())&&!function Js(){return(0,ue.b$)()||(0,ue.UG)()}()&&Ai()&&!Mi()}function us(){return Kr()&&typeof document<"u"}function Dn(){return(Dn=(0,u.Z)(function*(){return!!us()&&new Promise(se=>{const $=setTimeout(()=>{se(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout($),se(!0)})})})).apply(this,arguments)}const un={LOCAL:"local",NONE:"none",SESSION:"session"},_r=P.ax,si="persistence";function bn(se){return _i.apply(this,arguments)}function _i(){return(_i=(0,u.Z)(function*(se){yield se._initializationPromise;const $=ct(),z=P.az(si,se.config.apiKey,se.name);$&&$.setItem(z,se._getPersistence())})).apply(this,arguments)}function ct(){var se;try{return(null===(se=function Qr(){return typeof window<"u"?window:null}())||void 0===se?void 0:se.sessionStorage)||null}catch{return null}}const st=P.ax;class Bn{constructor(){this.browserResolver=P.ay(P.k),this.cordovaResolver=P.ay(class rn{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize($){var z=this;return(0,u.Z)(function*(){const De=$._key();let We=z.eventManagers.get(De);return We||(We=new Fe($),z.eventManagers.set(De,We),z.attachCallbackListeners($,We)),We})()}_openPopup($){(0,P.at)($,"operation-not-supported-in-this-environment")}_openRedirect($,z,De,We){var Et=this;return(0,u.Z)(function*(){!function Ie(se){var $,z,De,We,Et,Oe,tt,Mt,Mn,Ar;const St=ge();(0,P.ax)("function"==typeof(null===($=St?.universalLinks)||void 0===$?void 0:$.subscribe),se,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.ax)(typeof(null===(z=St?.BuildInfo)||void 0===z?void 0:z.packageName)<"u",se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.ax)("function"==typeof(null===(Et=null===(We=null===(De=St?.cordova)||void 0===De?void 0:De.plugins)||void 0===We?void 0:We.browsertab)||void 0===Et?void 0:Et.openUrl),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(Mt=null===(tt=null===(Oe=St?.cordova)||void 0===Oe?void 0:Oe.plugins)||void 0===tt?void 0:tt.browsertab)||void 0===Mt?void 0:Mt.isAvailable),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(Ar=null===(Mn=St?.cordova)||void 0===Mn?void 0:Mn.InAppBrowser)||void 0===Ar?void 0:Ar.open),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}($);const Oe=yield Et._initialize($);yield Oe.initialized(),Oe.resetRedirect(),(0,P.aD)(),yield Et._originValidation($);const tt=function Ae(se,$,z=null){return{type:$,eventId:z,urlResponse:null,sessionId:te(),postBody:null,tenantId:se.tenantId,error:(0,P.aw)(se,"no-auth-event")}}($,De,We);yield function Ke(se,$){return ie()._set(_e(se),$)}($,tt);const Mt=yield function W(se,$,z){return q.apply(this,arguments)}($,tt,z),Mn=yield function Ve(se){const{cordova:$}=ge();return new Promise(z=>{$.plugins.browsertab.isAvailable(De=>{let We=null;De?$.plugins.browsertab.openUrl(se):We=$.InAppBrowser.open(se,(0,P.ap)()?"_blank":"_system","location=yes"),z(We)})})}(Mt);return function Se(se,$,z){return at.apply(this,arguments)}($,Oe,Mn)})()}_isIframeWebStorageSupported($,z){throw new Error("Method not implemented.")}_originValidation($){const z=$._key();return this.originValidationPromises[z]||(this.originValidationPromises[z]=function ne(se){return Ge.apply(this,arguments)}($)),this.originValidationPromises[z]}attachCallbackListeners($,z){const{universalLinks:De,handleOpenURL:We,BuildInfo:Et}=ge(),Oe=setTimeout((0,u.Z)(function*(){yield ce($),z.onEvent(Qe())}),500),tt=function(){var Ar=(0,u.Z)(function*(St){clearTimeout(Oe);const Mr=yield ce($);let On=null;Mr&&St?.url&&(On=function Ce(se,$){var z,De;const We=function He(se){const $=$e(se),z=$.link?decodeURIComponent($.link):void 0,De=$e(z).link,We=$.deep_link_id?decodeURIComponent($.deep_link_id):void 0;return $e(We).link||We||De||z||se}($);if(We.includes("/__/auth/callback")){const Et=$e(We),Oe=Et.firebaseError?function de(se){try{return JSON.parse(se)}catch{return null}}(decodeURIComponent(Et.firebaseError)):null,tt=null===(De=null===(z=Oe?.code)||void 0===z?void 0:z.split("auth/"))||void 0===De?void 0:De[1],Mt=tt?(0,P.aw)(tt):null;return Mt?{type:se.type,eventId:se.eventId,tenantId:se.tenantId,error:Mt,urlResponse:null,sessionId:null,postBody:null}:{type:se.type,eventId:se.eventId,tenantId:se.tenantId,sessionId:se.sessionId,urlResponse:We,postBody:null}}return null}(Mr,St.url)),z.onEvent(On||Qe())});return function(Mr){return Ar.apply(this,arguments)}}();typeof De<"u"&&"function"==typeof De.subscribe&&De.subscribe(null,tt);const Mt=We,Mn=`${Et.packageName.toLowerCase()}://`;ge().handleOpenURL=function(){var Ar=(0,u.Z)(function*(St){if(St.toLowerCase().startsWith(Mn)&&tt({url:St}),"function"==typeof Mt)try{Mt(St)}catch(Mr){console.error(Mr)}});return function(St){return Ar.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize($){var z=this;return(0,u.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._initialize($)})()}_openPopup($,z,De,We){var Et=this;return(0,u.Z)(function*(){return yield Et.selectUnderlyingResolver(),Et.assertedUnderlyingResolver._openPopup($,z,De,We)})()}_openRedirect($,z,De,We){var Et=this;return(0,u.Z)(function*(){return yield Et.selectUnderlyingResolver(),Et.assertedUnderlyingResolver._openRedirect($,z,De,We)})()}_isIframeWebStorageSupported($,z){this.assertedUnderlyingResolver._isIframeWebStorageSupported($,z)}_originValidation($){return this.assertedUnderlyingResolver._originValidation($)}get _shouldInitProactively(){return us()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return st(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var $=this;return(0,u.Z)(function*(){if($.underlyingResolver)return;const z=yield function vt(){return Dn.apply(this,arguments)}();$.underlyingResolver=z?$.cordovaResolver:$.browserResolver})()}}function oi(se){return se.unwrap()}function qt(se){return ai(se)}function ai(se){const{_tokenResponse:$}=se instanceof ue.ZR?se.customData:se;if(!$)return null;if(!(se instanceof ue.ZR)&&"temporaryProof"in $&&"phoneNumber"in $)return P.P.credentialFromResult(se);const z=$.providerId;if(!z||z===P.o.PASSWORD)return null;let De;switch(z){case P.o.GOOGLE:De=P.Q;break;case P.o.FACEBOOK:De=P.N;break;case P.o.GITHUB:De=P.T;break;case P.o.TWITTER:De=P.W;break;default:const{oauthIdToken:We,oauthAccessToken:Et,oauthTokenSecret:Oe,pendingToken:tt,nonce:Mt}=$;return Et||Oe||We||tt?tt?z.startsWith("saml.")?P.aL._create(z,tt):P.J._fromParams({providerId:z,signInMethod:z,pendingToken:tt,idToken:We,accessToken:Et}):new P.U(z).credential({idToken:We,accessToken:Et,rawNonce:Mt}):null}return se instanceof ue.ZR?De.credentialFromError(se):De.credentialFromResult(se)}function Ut(se,$){return $.catch(z=>{throw z instanceof ue.ZR&&function zn(se,$){var z,De;const We=null===(z=$.customData)||void 0===z?void 0:z._tokenResponse;if("auth/multi-factor-auth-required"===(null===(De=$)||void 0===De?void 0:De.code))$.resolver=new J(se,P.an(se,$));else if(We){const Et=ai($),Oe=$;Et&&(Oe.credential=Et,Oe.tenantId=We.tenantId||void 0,Oe.email=We.email||void 0,Oe.phoneNumber=We.phoneNumber||void 0)}}(se,z),z}).then(z=>{const We=z.user;return{operationType:z.operationType,credential:qt(z),additionalUserInfo:P.al(z),user:G.getOrCreate(We)}})}function xi(se,$){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,u.Z)(function*(se,$){const z=yield $;return{verificationId:z.verificationId,confirm:De=>Ut(se,z.confirm(De))}})).apply(this,arguments)}class J{constructor($,z){this.resolver=z,this.auth=function Un(se){return se.wrapped()}($)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn($){return Ut(oi(this.auth),this.resolver.resolveSignIn($))}}class G{constructor($){this._delegate=$,this.multiFactor=P.ao($)}static getOrCreate($){return G.USER_MAP.has($)||G.USER_MAP.set($,new G($)),G.USER_MAP.get($)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult($){return this._delegate.getIdTokenResult($)}getIdToken($){return this._delegate.getIdToken($)}linkAndRetrieveDataWithCredential($){return this.linkWithCredential($)}linkWithCredential($){var z=this;return(0,u.Z)(function*(){return Ut(z.auth,P.Z(z._delegate,$))})()}linkWithPhoneNumber($,z){var De=this;return(0,u.Z)(function*(){return xi(De.auth,P.l(De._delegate,$,z))})()}linkWithPopup($){var z=this;return(0,u.Z)(function*(){return Ut(z.auth,P.d(z._delegate,$,Bn))})()}linkWithRedirect($){var z=this;return(0,u.Z)(function*(){return yield bn(P.aE(z.auth)),P.g(z._delegate,$,Bn)})()}reauthenticateAndRetrieveDataWithCredential($){return this.reauthenticateWithCredential($)}reauthenticateWithCredential($){var z=this;return(0,u.Z)(function*(){return Ut(z.auth,P._(z._delegate,$))})()}reauthenticateWithPhoneNumber($,z){return xi(this.auth,P.r(this._delegate,$,z))}reauthenticateWithPopup($){return Ut(this.auth,P.e(this._delegate,$,Bn))}reauthenticateWithRedirect($){var z=this;return(0,u.Z)(function*(){return yield bn(P.aE(z.auth)),P.h(z._delegate,$,Bn)})()}sendEmailVerification($){return P.ab(this._delegate,$)}unlink($){var z=this;return(0,u.Z)(function*(){return yield P.ak(z._delegate,$),z})()}updateEmail($){return P.ag(this._delegate,$)}updatePassword($){return P.ah(this._delegate,$)}updatePhoneNumber($){return P.u(this._delegate,$)}updateProfile($){return P.af(this._delegate,$)}verifyBeforeUpdateEmail($,z){return P.ac(this._delegate,$,z)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}G.USER_MAP=new WeakMap;const j=P.ax;let Y=(()=>{class se{constructor(z,De){if(this.app=z,De.isInitialized())return this._delegate=De.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:We}=z.options;j(We,"invalid-api-key",{appName:z.name}),j(We,"invalid-api-key",{appName:z.name});const Et=typeof window<"u"?Bn:void 0;this._delegate=De.initialize({options:{persistence:ke(We,z.name),popupRedirectResolver:Et}}),this._delegate._updateErrorMap(P.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?G.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(z){this._delegate.languageCode=z}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(z){this._delegate.tenantId=z}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(z,De){P.G(this._delegate,z,De)}applyActionCode(z){return P.a2(this._delegate,z)}checkActionCode(z){return P.a3(this._delegate,z)}confirmPasswordReset(z,De){return P.a1(this._delegate,z,De)}createUserWithEmailAndPassword(z,De){var We=this;return(0,u.Z)(function*(){return Ut(We._delegate,P.a5(We._delegate,z,De))})()}fetchProvidersForEmail(z){return this.fetchSignInMethodsForEmail(z)}fetchSignInMethodsForEmail(z){return P.aa(this._delegate,z)}isSignInWithEmailLink(z){return P.a8(this._delegate,z)}getRedirectResult(){var z=this;return(0,u.Z)(function*(){j(Jn(),z._delegate,"operation-not-supported-in-this-environment");const De=yield P.j(z._delegate,Bn);return De?Ut(z._delegate,Promise.resolve(De)):{credential:null,user:null}})()}addFrameworkForLogging(z){!function En(se,$){(0,P.aE)(se)._logFramework($)}(this._delegate,z)}onAuthStateChanged(z,De,We){const{next:Et,error:Oe,complete:tt}=K(z,De,We);return this._delegate.onAuthStateChanged(Et,Oe,tt)}onIdTokenChanged(z,De,We){const{next:Et,error:Oe,complete:tt}=K(z,De,We);return this._delegate.onIdTokenChanged(Et,Oe,tt)}sendSignInLinkToEmail(z,De){return P.a7(this._delegate,z,De)}sendPasswordResetEmail(z,De){return P.a0(this._delegate,z,De||void 0)}setPersistence(z){var De=this;return(0,u.Z)(function*(){let We;switch(function yr(se,$){_r(Object.values(un).includes($),se,"invalid-persistence-type"),(0,ue.b$)()?_r($!==un.SESSION,se,"unsupported-persistence-type"):(0,ue.UG)()?_r($===un.NONE,se,"unsupported-persistence-type"):Mi()?_r($===un.NONE||$===un.LOCAL&&(0,ue.hl)(),se,"unsupported-persistence-type"):_r($===un.NONE||Ai(),se,"unsupported-persistence-type")}(De._delegate,z),z){case un.SESSION:We=P.a;break;case un.LOCAL:We=(yield P.ay(P.i)._isAvailable())?P.i:P.b;break;case un.NONE:We=P.L;break;default:return P.at("argument-error",{appName:De._delegate.name})}return De._delegate.setPersistence(We)})()}signInAndRetrieveDataWithCredential(z){return this.signInWithCredential(z)}signInAnonymously(){return Ut(this._delegate,P.X(this._delegate))}signInWithCredential(z){return Ut(this._delegate,P.Y(this._delegate,z))}signInWithCustomToken(z){return Ut(this._delegate,P.$(this._delegate,z))}signInWithEmailAndPassword(z,De){return Ut(this._delegate,P.a6(this._delegate,z,De))}signInWithEmailLink(z,De){return Ut(this._delegate,P.a9(this._delegate,z,De))}signInWithPhoneNumber(z,De){return xi(this._delegate,P.s(this._delegate,z,De))}signInWithPopup(z){var De=this;return(0,u.Z)(function*(){return j(Jn(),De._delegate,"operation-not-supported-in-this-environment"),Ut(De._delegate,P.c(De._delegate,z,Bn))})()}signInWithRedirect(z){var De=this;return(0,u.Z)(function*(){return j(Jn(),De._delegate,"operation-not-supported-in-this-environment"),yield bn(De._delegate),P.f(De._delegate,z,Bn)})()}updateCurrentUser(z){return this._delegate.updateCurrentUser(z)}verifyPasswordResetCode(z){return P.a4(this._delegate,z)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return se.Persistence=un,se})();function K(se,$,z){let De=se;"function"!=typeof se&&({next:De,error:$,complete:z}=se);const We=De;return{next:Oe=>We(Oe&&G.getOrCreate(Oe)),error:$,complete:z}}function ke(se,$){const z=function Tn(se,$){const z=ct();if(!z)return[];const De=P.az(si,se,$);switch(z.getItem(De)){case un.NONE:return[P.L];case un.LOCAL:return[P.i,P.a];case un.SESSION:return[P.a];default:return[]}}(se,$);if(typeof self<"u"&&!z.includes(P.i)&&z.push(P.i),typeof window<"u")for(const De of[P.b,P.a])z.includes(De)||z.push(De);return z.includes(P.L)||z.push(P.L),z}class Ye{constructor(){this.providerId="phone",this._delegate=new P.P(oi(H.Z.auth()))}static credential($,z){return P.P.credential($,z)}verifyPhoneNumber($,z){return this._delegate.verifyPhoneNumber($,z)}unwrap(){return this._delegate}}Ye.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,Ye.PROVIDER_ID=P.P.PROVIDER_ID;const It=P.ax;class pn{constructor($,z,De=H.Z.app()){var We;It(null===(We=De.options)||void 0===We?void 0:We.apiKey,"invalid-api-key",{appName:De.name}),this._delegate=new P.R($,z,De.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function lr(se){se.INTERNAL.registerComponent(new oe.wA("auth-compat",$=>{const z=$.getProvider("app-compat").getImmediate(),De=$.getProvider("auth");return new Y(z,De)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.M,FacebookAuthProvider:P.N,GithubAuthProvider:P.T,GoogleAuthProvider:P.Q,OAuthProvider:P.U,SAMLAuthProvider:P.V,PhoneAuthProvider:Ye,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:pn,TwitterAuthProvider:P.W,Auth:Y,AuthCredential:P.H,Error:ue.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),se.registerVersion("@firebase/auth-compat","0.2.18")}(H.Z)},9751:(_t,Re,F)=>{F.d(Re,{y:()=>ge});var u=F(930),H=F(727),P=F(8822),ue=F(9635),fe=F(2416),we=F(576),oe=F(2806);let ge=(()=>{class ne{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const Se=new ne;return Se.source=this,Se.operator=Ve,Se}subscribe(Ve,Se,at){const Ie=function q(ne){return ne&&ne instanceof u.Lv||function W(ne){return ne&&(0,we.m)(ne.next)&&(0,we.m)(ne.error)&&(0,we.m)(ne.complete)}(ne)&&(0,H.Nn)(ne)}(Ve)?Ve:new u.Hp(Ve,Se,at);return(0,oe.x)(()=>{const{operator:be,source:nt}=this;Ie.add(be?be.call(Ie,nt):nt?this._subscribe(Ie):this._trySubscribe(Ie))}),Ie}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(Se){Ve.error(Se)}}forEach(Ve,Se){return new(Se=Ee(Se))((at,Ie)=>{const be=new u.Hp({next:nt=>{try{Ve(nt)}catch(rt){Ie(rt),be.unsubscribe()}},error:Ie,complete:at});this.subscribe(be)})}_subscribe(Ve){var Se;return null===(Se=this.source)||void 0===Se?void 0:Se.subscribe(Ve)}[P.L](){return this}pipe(...Ve){return(0,ue.U)(Ve)(this)}toPromise(Ve){return new(Ve=Ee(Ve))((Se,at)=>{let Ie;this.subscribe(be=>Ie=be,be=>at(be),()=>Se(Ie))})}}return ne.create=Ge=>new ne(Ge),ne})();function Ee(ne){var Ge;return null!==(Ge=ne??fe.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(_t,Re,F)=>{F.d(Re,{x:()=>oe});var u=F(9751),H=F(727);const ue=(0,F(3888).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=F(8737),we=F(2806);let oe=(()=>{class Ee extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const ne=new ge(this,this);return ne.operator=q,ne}_throwIfClosed(){if(this.closed)throw new ue}next(q){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(q)}})}error(q){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:ne}=this;for(;ne.length;)ne.shift().error(q)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:ne,isStopped:Ge,observers:Ve}=this;return ne||Ge?H.Lc:(this.currentObservers=null,Ve.push(q),new H.w0(()=>{this.currentObservers=null,(0,fe.P)(Ve,q)}))}_checkFinalizedStatuses(q){const{hasError:ne,thrownError:Ge,isStopped:Ve}=this;ne?q.error(Ge):Ve&&q.complete()}asObservable(){const q=new u.y;return q.source=this,q}}return Ee.create=(W,q)=>new ge(W,q),Ee})();class ge extends oe{constructor(W,q){super(),this.destination=W,this.source=q}next(W){var q,ne;null===(ne=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===ne||ne.call(q,W)}error(W){var q,ne;null===(ne=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===ne||ne.call(q,W)}complete(){var W,q;null===(q=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===q||q.call(W)}_subscribe(W){var q,ne;return null!==(ne=null===(q=this.source)||void 0===q?void 0:q.subscribe(W))&&void 0!==ne?ne:H.Lc}}},930:(_t,Re,F)=>{F.d(Re,{Hp:()=>at,Lv:()=>ne});var u=F(576),H=F(727),P=F(2416),ue=F(7849),fe=F(5032);const we=Ee("C",void 0,void 0);function Ee(Le,Fe,Ae){return{kind:Le,value:Fe,error:Ae}}var W=F(3410),q=F(2806);class ne extends H.w0{constructor(Fe){super(),this.isStopped=!1,Fe?(this.destination=Fe,(0,H.Nn)(Fe)&&Fe.add(this)):this.destination=rt}static create(Fe,Ae,Ke){return new at(Fe,Ae,Ke)}next(Fe){this.isStopped?nt(function ge(Le){return Ee("N",Le,void 0)}(Fe),this):this._next(Fe)}error(Fe){this.isStopped?nt(function oe(Le){return Ee("E",void 0,Le)}(Fe),this):(this.isStopped=!0,this._error(Fe))}complete(){this.isStopped?nt(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Fe){this.destination.next(Fe)}_error(Fe){try{this.destination.error(Fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function Ve(Le,Fe){return Ge.call(Le,Fe)}class Se{constructor(Fe){this.partialObserver=Fe}next(Fe){const{partialObserver:Ae}=this;if(Ae.next)try{Ae.next(Fe)}catch(Ke){Ie(Ke)}}error(Fe){const{partialObserver:Ae}=this;if(Ae.error)try{Ae.error(Fe)}catch(Ke){Ie(Ke)}else Ie(Fe)}complete(){const{partialObserver:Fe}=this;if(Fe.complete)try{Fe.complete()}catch(Ae){Ie(Ae)}}}class at extends ne{constructor(Fe,Ae,Ke){let ce;if(super(),(0,u.m)(Fe)||!Fe)ce={next:Fe??void 0,error:Ae??void 0,complete:Ke??void 0};else{let pe;this&&P.v.useDeprecatedNextContext?(pe=Object.create(Fe),pe.unsubscribe=()=>this.unsubscribe(),ce={next:Fe.next&&Ve(Fe.next,pe),error:Fe.error&&Ve(Fe.error,pe),complete:Fe.complete&&Ve(Fe.complete,pe)}):ce=Fe}this.destination=new Se(ce)}}function Ie(Le){P.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(Le):(0,ue.h)(Le)}function nt(Le,Fe){const{onStoppedNotification:Ae}=P.v;Ae&&W.z.setTimeout(()=>Ae(Le,Fe))}const rt={closed:!0,next:fe.Z,error:function be(Le){throw Le},complete:fe.Z}},727:(_t,Re,F)=>{F.d(Re,{Lc:()=>we,w0:()=>fe,Nn:()=>oe});var u=F(576);const P=(0,F(3888).d)(Ee=>function(q){Ee(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((ne,Ge)=>`${Ge+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var ue=F(8737);class fe{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Ve of q)Ve.remove(this);else q.remove(this);const{initialTeardown:ne}=this;if((0,u.m)(ne))try{ne()}catch(Ve){W=Ve instanceof P?Ve.errors:[Ve]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const Ve of Ge)try{ge(Ve)}catch(Se){W=W??[],Se instanceof P?W=[...W,...Se.errors]:W.push(Se)}}if(W)throw new P(W)}}add(W){var q;if(W&&W!==this)if(this.closed)ge(W);else{if(W instanceof fe){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(W)}}_hasParent(W){const{_parentage:q}=this;return q===W||Array.isArray(q)&&q.includes(W)}_addParent(W){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(W),q):q?[q,W]:W}_removeParent(W){const{_parentage:q}=this;q===W?this._parentage=null:Array.isArray(q)&&(0,ue.P)(q,W)}remove(W){const{_finalizers:q}=this;q&&(0,ue.P)(q,W),W instanceof fe&&W._removeParent(this)}}fe.EMPTY=(()=>{const Ee=new fe;return Ee.closed=!0,Ee})();const we=fe.EMPTY;function oe(Ee){return Ee instanceof fe||Ee&&"closed"in Ee&&(0,u.m)(Ee.remove)&&(0,u.m)(Ee.add)&&(0,u.m)(Ee.unsubscribe)}function ge(Ee){(0,u.m)(Ee)?Ee():Ee.unsubscribe()}},2416:(_t,Re,F)=>{F.d(Re,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(_t,Re,F)=>{F.d(Re,{E:()=>H});const H=new(F(9751).y)(fe=>fe.complete())},8996:(_t,Re,F)=>{F.d(Re,{D:()=>Fe});var u=F(8421),H=F(5363),P=F(9468),we=F(9751),ge=F(2202),Ee=F(576),W=F(9672);function ne(Ae,Ke){if(!Ae)throw new Error("Iterable cannot be null");return new we.y(ce=>{(0,W.f)(ce,Ke,()=>{const pe=Ae[Symbol.asyncIterator]();(0,W.f)(ce,Ke,()=>{pe.next().then(Ce=>{Ce.done?ce.complete():ce.next(Ce.value)})},0,!0)})})}var Ge=F(3670),Ve=F(8239),Se=F(1144),at=F(6495),Ie=F(2206),be=F(4532),nt=F(3260);function Fe(Ae,Ke){return Ke?function Le(Ae,Ke){if(null!=Ae){if((0,Ge.c)(Ae))return function ue(Ae,Ke){return(0,u.Xf)(Ae).pipe((0,P.R)(Ke),(0,H.Q)(Ke))}(Ae,Ke);if((0,Se.z)(Ae))return function oe(Ae,Ke){return new we.y(ce=>{let pe=0;return Ke.schedule(function(){pe===Ae.length?ce.complete():(ce.next(Ae[pe++]),ce.closed||this.schedule())})})}(Ae,Ke);if((0,Ve.t)(Ae))return function fe(Ae,Ke){return(0,u.Xf)(Ae).pipe((0,P.R)(Ke),(0,H.Q)(Ke))}(Ae,Ke);if((0,Ie.D)(Ae))return ne(Ae,Ke);if((0,at.T)(Ae))return function q(Ae,Ke){return new we.y(ce=>{let pe;return(0,W.f)(ce,Ke,()=>{pe=Ae[ge.h](),(0,W.f)(ce,Ke,()=>{let Ce,te;try{({value:Ce,done:te}=pe.next())}catch(ie){return void ce.error(ie)}te?ce.complete():ce.next(Ce)},0,!0)}),()=>(0,Ee.m)(pe?.return)&&pe.return()})}(Ae,Ke);if((0,nt.L)(Ae))return function rt(Ae,Ke){return ne((0,nt.Q)(Ae),Ke)}(Ae,Ke)}throw(0,be.z)(Ae)}(Ae,Ke):(0,u.Xf)(Ae)}},8421:(_t,Re,F)=>{F.d(Re,{Xf:()=>Ge});var u=F(655),H=F(1144),P=F(8239),ue=F(9751),fe=F(3670),we=F(2206),oe=F(4532),ge=F(6495),Ee=F(3260),W=F(576),q=F(7849),ne=F(8822);function Ge(Le){if(Le instanceof ue.y)return Le;if(null!=Le){if((0,fe.c)(Le))return function Ve(Le){return new ue.y(Fe=>{const Ae=Le[ne.L]();if((0,W.m)(Ae.subscribe))return Ae.subscribe(Fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Le);if((0,H.z)(Le))return function Se(Le){return new ue.y(Fe=>{for(let Ae=0;Ae<Le.length&&!Fe.closed;Ae++)Fe.next(Le[Ae]);Fe.complete()})}(Le);if((0,P.t)(Le))return function at(Le){return new ue.y(Fe=>{Le.then(Ae=>{Fe.closed||(Fe.next(Ae),Fe.complete())},Ae=>Fe.error(Ae)).then(null,q.h)})}(Le);if((0,we.D)(Le))return be(Le);if((0,ge.T)(Le))return function Ie(Le){return new ue.y(Fe=>{for(const Ae of Le)if(Fe.next(Ae),Fe.closed)return;Fe.complete()})}(Le);if((0,Ee.L)(Le))return function nt(Le){return be((0,Ee.Q)(Le))}(Le)}throw(0,oe.z)(Le)}function be(Le){return new ue.y(Fe=>{(function rt(Le,Fe){var Ae,Ke,ce,pe;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,u.KL)(Le);!(Ke=yield Ae.next()).done;)if(Fe.next(Ke.value),Fe.closed)return}catch(Ce){ce={error:Ce}}finally{try{Ke&&!Ke.done&&(pe=Ae.return)&&(yield pe.call(Ae))}finally{if(ce)throw ce.error}}Fe.complete()})})(Le,Fe).catch(Ae=>Fe.error(Ae))})}},6451:(_t,Re,F)=>{F.d(Re,{T:()=>we});var u=F(8189),H=F(8421),P=F(515),ue=F(3269),fe=F(8996);function we(...oe){const ge=(0,ue.yG)(oe),Ee=(0,ue._6)(oe,1/0),W=oe;return W.length?1===W.length?(0,H.Xf)(W[0]):(0,u.J)(Ee)((0,fe.D)(W,ge)):P.E}},5403:(_t,Re,F)=>{F.d(Re,{x:()=>H});var u=F(930);function H(ue,fe,we,oe,ge){return new P(ue,fe,we,oe,ge)}class P extends u.Lv{constructor(fe,we,oe,ge,Ee,W){super(fe),this.onFinalize=Ee,this.shouldUnsubscribe=W,this._next=we?function(q){try{we(q)}catch(ne){fe.error(ne)}}:super._next,this._error=ge?function(q){try{ge(q)}catch(ne){fe.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=oe?function(){try{oe()}catch(q){fe.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},4004:(_t,Re,F)=>{F.d(Re,{U:()=>P});var u=F(4482),H=F(5403);function P(ue,fe){return(0,u.e)((we,oe)=>{let ge=0;we.subscribe((0,H.x)(oe,Ee=>{oe.next(ue.call(fe,Ee,ge++))}))})}},8189:(_t,Re,F)=>{F.d(Re,{J:()=>P});var u=F(5577),H=F(4671);function P(ue=1/0){return(0,u.z)(H.y,ue)}},5577:(_t,Re,F)=>{F.d(Re,{z:()=>ge});var u=F(4004),H=F(8421),P=F(4482),ue=F(9672),fe=F(5403),oe=F(576);function ge(Ee,W,q=1/0){return(0,oe.m)(W)?ge((ne,Ge)=>(0,u.U)((Ve,Se)=>W(ne,Ve,Ge,Se))((0,H.Xf)(Ee(ne,Ge))),q):("number"==typeof W&&(q=W),(0,P.e)((ne,Ge)=>function we(Ee,W,q,ne,Ge,Ve,Se,at){const Ie=[];let be=0,nt=0,rt=!1;const Le=()=>{rt&&!Ie.length&&!be&&W.complete()},Fe=Ke=>be<ne?Ae(Ke):Ie.push(Ke),Ae=Ke=>{Ve&&W.next(Ke),be++;let ce=!1;(0,H.Xf)(q(Ke,nt++)).subscribe((0,fe.x)(W,pe=>{Ge?.(pe),Ve?Fe(pe):W.next(pe)},()=>{ce=!0},void 0,()=>{if(ce)try{for(be--;Ie.length&&be<ne;){const pe=Ie.shift();Se?(0,ue.f)(W,Se,()=>Ae(pe)):Ae(pe)}Le()}catch(pe){W.error(pe)}}))};return Ee.subscribe((0,fe.x)(W,Fe,()=>{rt=!0,Le()})),()=>{at?.()}}(ne,Ge,Ee,q)))}},5363:(_t,Re,F)=>{F.d(Re,{Q:()=>ue});var u=F(9672),H=F(4482),P=F(5403);function ue(fe,we=0){return(0,H.e)((oe,ge)=>{oe.subscribe((0,P.x)(ge,Ee=>(0,u.f)(ge,fe,()=>ge.next(Ee),we),()=>(0,u.f)(ge,fe,()=>ge.complete(),we),Ee=>(0,u.f)(ge,fe,()=>ge.error(Ee),we)))})}},3099:(_t,Re,F)=>{F.d(Re,{B:()=>fe});var u=F(8421),H=F(7579),P=F(930),ue=F(4482);function fe(oe={}){const{connector:ge=(()=>new H.x),resetOnError:Ee=!0,resetOnComplete:W=!0,resetOnRefCountZero:q=!0}=oe;return ne=>{let Ge,Ve,Se,at=0,Ie=!1,be=!1;const nt=()=>{Ve?.unsubscribe(),Ve=void 0},rt=()=>{nt(),Ge=Se=void 0,Ie=be=!1},Le=()=>{const Fe=Ge;rt(),Fe?.unsubscribe()};return(0,ue.e)((Fe,Ae)=>{at++,!be&&!Ie&&nt();const Ke=Se=Se??ge();Ae.add(()=>{at--,0===at&&!be&&!Ie&&(Ve=we(Le,q))}),Ke.subscribe(Ae),!Ge&&at>0&&(Ge=new P.Hp({next:ce=>Ke.next(ce),error:ce=>{be=!0,nt(),Ve=we(rt,Ee,ce),Ke.error(ce)},complete:()=>{Ie=!0,nt(),Ve=we(rt,W),Ke.complete()}}),(0,u.Xf)(Fe).subscribe(Ge))})(ne)}}function we(oe,ge,...Ee){if(!0===ge)return void oe();if(!1===ge)return;const W=new P.Hp({next:()=>{W.unsubscribe(),oe()}});return ge(...Ee).subscribe(W)}},9468:(_t,Re,F)=>{F.d(Re,{R:()=>H});var u=F(4482);function H(P,ue=0){return(0,u.e)((fe,we)=>{we.add(P.schedule(()=>fe.subscribe(we),ue))})}},8505:(_t,Re,F)=>{F.d(Re,{b:()=>fe});var u=F(576),H=F(4482),P=F(5403),ue=F(4671);function fe(we,oe,ge){const Ee=(0,u.m)(we)||oe||ge?{next:we,error:oe,complete:ge}:we;return Ee?(0,H.e)((W,q)=>{var ne;null===(ne=Ee.subscribe)||void 0===ne||ne.call(Ee);let Ge=!0;W.subscribe((0,P.x)(q,Ve=>{var Se;null===(Se=Ee.next)||void 0===Se||Se.call(Ee,Ve),q.next(Ve)},()=>{var Ve;Ge=!1,null===(Ve=Ee.complete)||void 0===Ve||Ve.call(Ee),q.complete()},Ve=>{var Se;Ge=!1,null===(Se=Ee.error)||void 0===Se||Se.call(Ee,Ve),q.error(Ve)},()=>{var Ve,Se;Ge&&(null===(Ve=Ee.unsubscribe)||void 0===Ve||Ve.call(Ee)),null===(Se=Ee.finalize)||void 0===Se||Se.call(Ee)}))}):ue.y}},4408:(_t,Re,F)=>{F.d(Re,{o:()=>fe});var u=F(727);class H extends u.w0{constructor(oe,ge){super()}schedule(oe,ge=0){return this}}const P={setInterval(we,oe,...ge){const{delegate:Ee}=P;return Ee?.setInterval?Ee.setInterval(we,oe,...ge):setInterval(we,oe,...ge)},clearInterval(we){const{delegate:oe}=P;return(oe?.clearInterval||clearInterval)(we)},delegate:void 0};var ue=F(8737);class fe extends H{constructor(oe,ge){super(oe,ge),this.scheduler=oe,this.work=ge,this.pending=!1}schedule(oe,ge=0){if(this.closed)return this;this.state=oe;const Ee=this.id,W=this.scheduler;return null!=Ee&&(this.id=this.recycleAsyncId(W,Ee,ge)),this.pending=!0,this.delay=ge,this.id=this.id||this.requestAsyncId(W,this.id,ge),this}requestAsyncId(oe,ge,Ee=0){return P.setInterval(oe.flush.bind(oe,this),Ee)}recycleAsyncId(oe,ge,Ee=0){if(null!=Ee&&this.delay===Ee&&!1===this.pending)return ge;P.clearInterval(ge)}execute(oe,ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(oe,ge);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,ge){let W,Ee=!1;try{this.work(oe)}catch(q){Ee=!0,W=q||new Error("Scheduled action threw falsy error")}if(Ee)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:oe,scheduler:ge}=this,{actions:Ee}=ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(Ee,this),null!=oe&&(this.id=this.recycleAsyncId(ge,oe,null)),this.delay=null,super.unsubscribe()}}}},7565:(_t,Re,F)=>{F.d(Re,{v:()=>P});var u=F(6063);class H{constructor(fe,we=H.now){this.schedulerActionCtor=fe,this.now=we}schedule(fe,we=0,oe){return new this.schedulerActionCtor(this,fe).schedule(oe,we)}}H.now=u.l.now;class P extends H{constructor(fe,we=H.now){super(fe,we),this.actions=[],this._active=!1,this._scheduled=void 0}flush(fe){const{actions:we}=this;if(this._active)return void we.push(fe);let oe;this._active=!0;do{if(oe=fe.execute(fe.state,fe.delay))break}while(fe=we.shift());if(this._active=!1,oe){for(;fe=we.shift();)fe.unsubscribe();throw oe}}}},4986:(_t,Re,F)=>{F.d(Re,{P:()=>ue,z:()=>P});var u=F(4408);const P=new(F(7565).v)(u.o),ue=P},6063:(_t,Re,F)=>{F.d(Re,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(_t,Re,F)=>{F.d(Re,{z:()=>u});const u={setTimeout(H,P,...ue){const{delegate:fe}=u;return fe?.setTimeout?fe.setTimeout(H,P,...ue):setTimeout(H,P,...ue)},clearTimeout(H){const{delegate:P}=u;return(P?.clearTimeout||clearTimeout)(H)},delegate:void 0}},2202:(_t,Re,F)=>{F.d(Re,{h:()=>H});const H=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(_t,Re,F)=>{F.d(Re,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(_t,Re,F)=>{F.d(Re,{_6:()=>we,jO:()=>ue,yG:()=>fe});var u=F(576),H=F(3532);function P(oe){return oe[oe.length-1]}function ue(oe){return(0,u.m)(P(oe))?oe.pop():void 0}function fe(oe){return(0,H.K)(P(oe))?oe.pop():void 0}function we(oe,ge){return"number"==typeof P(oe)?oe.pop():ge}},8737:(_t,Re,F)=>{function u(H,P){if(H){const ue=H.indexOf(P);0<=ue&&H.splice(ue,1)}}F.d(Re,{P:()=>u})},3888:(_t,Re,F)=>{function u(H){const ue=H(fe=>{Error.call(fe),fe.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}F.d(Re,{d:()=>u})},2806:(_t,Re,F)=>{F.d(Re,{O:()=>ue,x:()=>P});var u=F(2416);let H=null;function P(fe){if(u.v.useDeprecatedSynchronousErrorHandling){const we=!H;if(we&&(H={errorThrown:!1,error:null}),fe(),we){const{errorThrown:oe,error:ge}=H;if(H=null,oe)throw ge}}else fe()}function ue(fe){u.v.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=fe)}},9672:(_t,Re,F)=>{function u(H,P,ue,fe=0,we=!1){const oe=P.schedule(function(){ue(),we?H.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(H.add(oe),!we)return oe}F.d(Re,{f:()=>u})},4671:(_t,Re,F)=>{function u(H){return H}F.d(Re,{y:()=>u})},1144:(_t,Re,F)=>{F.d(Re,{z:()=>u});const u=H=>H&&"number"==typeof H.length&&"function"!=typeof H},2206:(_t,Re,F)=>{F.d(Re,{D:()=>H});var u=F(576);function H(P){return Symbol.asyncIterator&&(0,u.m)(P?.[Symbol.asyncIterator])}},576:(_t,Re,F)=>{function u(H){return"function"==typeof H}F.d(Re,{m:()=>u})},3670:(_t,Re,F)=>{F.d(Re,{c:()=>P});var u=F(8822),H=F(576);function P(ue){return(0,H.m)(ue[u.L])}},6495:(_t,Re,F)=>{F.d(Re,{T:()=>P});var u=F(2202),H=F(576);function P(ue){return(0,H.m)(ue?.[u.h])}},8239:(_t,Re,F)=>{F.d(Re,{t:()=>H});var u=F(576);function H(P){return(0,u.m)(P?.then)}},3260:(_t,Re,F)=>{F.d(Re,{L:()=>ue,Q:()=>P});var u=F(655),H=F(576);function P(fe){return(0,u.FC)(this,arguments,function*(){const oe=fe.getReader();try{for(;;){const{value:ge,done:Ee}=yield(0,u.qq)(oe.read());if(Ee)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(ge)}}finally{oe.releaseLock()}})}function ue(fe){return(0,H.m)(fe?.getReader)}},3532:(_t,Re,F)=>{F.d(Re,{K:()=>H});var u=F(576);function H(P){return P&&(0,u.m)(P.schedule)}},4482:(_t,Re,F)=>{F.d(Re,{A:()=>H,e:()=>P});var u=F(576);function H(ue){return(0,u.m)(ue?.lift)}function P(ue){return fe=>{if(H(fe))return fe.lift(function(we){try{return ue(we,this)}catch(oe){this.error(oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(_t,Re,F)=>{function u(){}F.d(Re,{Z:()=>u})},9635:(_t,Re,F)=>{F.d(Re,{U:()=>P,z:()=>H});var u=F(4671);function H(...ue){return P(ue)}function P(ue){return 0===ue.length?u.y:1===ue.length?ue[0]:function(we){return ue.reduce((oe,ge)=>ge(oe),we)}}},7849:(_t,Re,F)=>{F.d(Re,{h:()=>P});var u=F(2416),H=F(3410);function P(ue){H.z.setTimeout(()=>{const{onUnhandledError:fe}=u.v;if(!fe)throw ue;fe(ue)})}},4532:(_t,Re,F)=>{function u(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Re,{z:()=>u})},655:(_t,Re,F)=>{function ue(te,ie){var _e={};for(var de in te)Object.prototype.hasOwnProperty.call(te,de)&&ie.indexOf(de)<0&&(_e[de]=te[de]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var He=0;for(de=Object.getOwnPropertySymbols(te);He<de.length;He++)ie.indexOf(de[He])<0&&Object.prototype.propertyIsEnumerable.call(te,de[He])&&(_e[de[He]]=te[de[He]])}return _e}function ge(te,ie,_e,de){return new(_e||(_e=Promise))(function($e,wt){function rn(En){try{Qe(de.next(En))}catch(Kn){wt(Kn)}}function Jt(En){try{Qe(de.throw(En))}catch(Kn){wt(Kn)}}function Qe(En){En.done?$e(En.value):function He($e){return $e instanceof _e?$e:new _e(function(wt){wt($e)})}(En.value).then(rn,Jt)}Qe((de=de.apply(te,ie||[])).next())})}function Ie(te){return this instanceof Ie?(this.v=te,this):new Ie(te)}function be(te,ie,_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,de=_e.apply(te,ie||[]),$e=[];return He={},wt("next"),wt("throw"),wt("return"),He[Symbol.asyncIterator]=function(){return this},He;function wt(cn){de[cn]&&(He[cn]=function(sn){return new Promise(function(en,Wt){$e.push([cn,sn,en,Wt])>1||rn(cn,sn)})})}function rn(cn,sn){try{!function Jt(cn){cn.value instanceof Ie?Promise.resolve(cn.value.v).then(Qe,En):Kn($e[0][2],cn)}(de[cn](sn))}catch(en){Kn($e[0][3],en)}}function Qe(cn){rn("next",cn)}function En(cn){rn("throw",cn)}function Kn(cn,sn){cn(sn),$e.shift(),$e.length&&rn($e[0][0],$e[0][1])}}function rt(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,ie=te[Symbol.asyncIterator];return ie?ie.call(te):(te=function ne(te){var ie="function"==typeof Symbol&&Symbol.iterator,_e=ie&&te[ie],de=0;if(_e)return _e.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&de>=te.length&&(te=void 0),{value:te&&te[de++],done:!te}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),_e={},de("next"),de("throw"),de("return"),_e[Symbol.asyncIterator]=function(){return this},_e);function de($e){_e[$e]=te[$e]&&function(wt){return new Promise(function(rn,Jt){!function He($e,wt,rn,Jt){Promise.resolve(Jt).then(function(Qe){$e({value:Qe,done:rn})},wt)}(rn,Jt,(wt=te[$e](wt)).done,wt.value)})}}}F.d(Re,{FC:()=>be,KL:()=>rt,_T:()=>ue,mG:()=>ge,qq:()=>Ie})},4650:(_t,Re,F)=>{F.d(Re,{$8M:()=>_o,$Z:()=>tA,AFp:()=>kb,ALo:()=>Ng,AaK:()=>ge,BQk:()=>Ov,CHM:()=>Uo,CRH:()=>op,CZH:()=>dp,CqO:()=>ZA,D6c:()=>ii,EJc:()=>wD,EiD:()=>yf,EpF:()=>Xd,F$t:()=>$C,F4k:()=>Jd,FYo:()=>Vy,FiY:()=>he,G48:()=>UD,Gf:()=>eD,GfV:()=>By,Gpc:()=>q,Hsn:()=>zC,Ikx:()=>gg,JOm:()=>aa,JVY:()=>vm,KtG:()=>Xc,L6k:()=>Cy,LAX:()=>Dy,LFG:()=>Wn,LSH:()=>v0,Lbi:()=>_D,Lck:()=>rb,MAs:()=>qA,MMx:()=>ep,NdJ:()=>$a,O4$:()=>ud,OlP:()=>fn,Oqu:()=>Uv,PXZ:()=>lx,Q6J:()=>Uf,QGY:()=>UC,QP$:()=>Ll,QbO:()=>hp,Qsj:()=>A0,R0b:()=>ws,RDi:()=>yy,Rgc:()=>Ac,SBq:()=>Cf,Sil:()=>fp,Suo:()=>zg,TTD:()=>ao,TgZ:()=>lg,Udp:()=>eh,WFA:()=>cg,X6Q:()=>ux,XFs:()=>vt,Xpm:()=>j,Xts:()=>Dm,Y36:()=>Rf,YKP:()=>Jf,YNc:()=>WA,Yjl:()=>se,Yz7:()=>sn,ZZ4:()=>Bl,_Bn:()=>VE,_UZ:()=>BC,_Vd:()=>gc,_c5:()=>Gs,_uU:()=>fM,aQg:()=>mh,c2e:()=>bD,cJS:()=>Wt,cg1:()=>fE,d8E:()=>Gv,dDg:()=>ax,dqk:()=>st,eBb:()=>Ey,eFA:()=>mt,ekj:()=>JC,eoX:()=>MD,f3M:()=>na,g9A:()=>Ya,h0i:()=>Mu,hGG:()=>gx,hij:()=>pg,iGM:()=>wb,ifc:()=>ct,ip1:()=>gD,kL8:()=>SM,kcU:()=>nc,lG2:()=>lr,lcZ:()=>fb,lqb:()=>Td,lri:()=>AD,mCW:()=>xe,n5z:()=>Zo,n_E:()=>np,oAB:()=>It,oxw:()=>ug,pB0:()=>bm,q3G:()=>Rr,q4F:()=>Rd,qLn:()=>Ef,qOj:()=>FC,qZA:()=>Qd,qzn:()=>hc,rWj:()=>d_,sBO:()=>sr,sIi:()=>qd,s_b:()=>Vg,soG:()=>Vu,tb:()=>yD,tp0:()=>Ze,uIk:()=>LC,vHH:()=>Se,vpe:()=>ha,wAp:()=>Rt,xp6:()=>$T,ynx:()=>Rv,z2F:()=>f_,z3N:()=>js,zSh:()=>Ry,zs3:()=>Ud});var u=F(7579),H=F(727),P=F(9751),ue=F(6451),fe=F(3099);function we(o){for(let a in o)if(o[a]===we)return a;throw Error("Could not find renamed property on target object.")}function oe(o,a){for(const l in a)a.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=a[l])}function ge(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ge).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function Ee(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const W=we({__forward_ref__:we});function q(o){return o.__forward_ref__=q,o.toString=function(){return ge(this())},o}function ne(o){return Ge(o)?o():o}function Ge(o){return"function"==typeof o&&o.hasOwnProperty(W)&&o.__forward_ref__===q}class Se extends Error{constructor(a,l){super(function at(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}(a,l)),this.code=a}}function Ie(o){return"string"==typeof o?o:null==o?"":String(o)}function Fe(o,a){throw new Se(-201,!1)}function Jt(o,a){null==o&&function Qe(o,a,l,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${l} ${d} ${a} <=Actual]`))}(a,o,null,"!=")}function sn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Wt(o){return{providers:o.providers||[],imports:o.imports||[]}}function Kr(o){return Js(o,Ai)||Js(o,Jn)}function Js(o,a){return o.hasOwnProperty(a)?o[a]:null}function cs(o){return o&&(o.hasOwnProperty(Mi)||o.hasOwnProperty(us))?o[Mi]:null}const Ai=we({\u0275prov:we}),Mi=we({\u0275inj:we}),Jn=we({ngInjectableDef:we}),us=we({ngInjectorDef:we});var vt=(()=>((vt=vt||{})[vt.Default=0]="Default",vt[vt.Host=1]="Host",vt[vt.Self=2]="Self",vt[vt.SkipSelf=4]="SkipSelf",vt[vt.Optional=8]="Optional",vt))();let Dn;function un(o){const a=Dn;return Dn=o,a}function _r(o,a,l){const d=Kr(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&vt.Optional?null:void 0!==a?a:void Fe(ge(o))}function yr(o){return{toString:o}.toString()}var bn=(()=>((bn=bn||{})[bn.OnPush=0]="OnPush",bn[bn.Default=1]="Default",bn))(),ct=(()=>{return(o=ct||(ct={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",ct;var o})();const st=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Un={},qt=[],zn=we({\u0275cmp:we}),ai=we({\u0275dir:we}),Ut=we({\u0275pipe:we}),xi=we({\u0275mod:we}),Lt=we({\u0275fac:we}),J=we({__NG_ELEMENT_ID__:we});let G=0;function j(o){return yr(()=>{const l=!0===o.standalone,d={},f={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===bn.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||qt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||ct.Emulated,id:"c"+G++,styles:o.styles||qt,_:null,setInput:null,schemas:o.schemas||null,tView:null},m=o.dependencies,v=o.features;return f.inputs=hn(o.inputs,d),f.outputs=hn(o.outputs),v&&v.forEach(C=>C(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(K).filter(ke):null,f.pipeDefs=m?()=>("function"==typeof m?m():m).map(De).filter(ke):null,f})}function K(o){return $(o)||z(o)}function ke(o){return null!==o}const Ye={};function It(o){return yr(()=>{const a={type:o.type,bootstrap:o.bootstrap||qt,declarations:o.declarations||qt,imports:o.imports||qt,exports:o.exports||qt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(Ye[o.id]=o.type),a})}function hn(o,a){if(null==o)return Un;const l={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),l[f]=d,a&&(a[f]=m)}return l}const lr=j;function se(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function $(o){return o[zn]||null}function z(o){return o[ai]||null}function De(o){return o[Ut]||null}function We(o,a){const l=o[xi]||null;if(!l&&!0===a)throw new Error(`Type ${ge(o)} does not have '\u0275mod' property.`);return l}function li(o){return Array.isArray(o)&&"object"==typeof o[1]}function Ur(o){return Array.isArray(o)&&!0===o[1]}function ql(o){return 0!=(8&o.flags)}function xs(o){return 2==(2&o.flags)}function il(o){return 1==(1&o.flags)}function ki(o){return null!==o.template}function qc(o){return 0!=(256&o[2])}function Qi(o,a){return o.hasOwnProperty(Lt)?o[Lt]:null}class hs{constructor(a,l,d){this.previousValue=a,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function ao(){return Fo}function Fo(o){return o.type.prototype.ngOnChanges&&(o.setInput=Zl),Zh}function Zh(){const o=sd(this),a=o?.current;if(a){const l=o.previous;if(l===Un)o.previous=a;else for(let d in a)l[d]=a[d];o.current=null,this.ngOnChanges(a)}}function Zl(o,a,l,d){const f=sd(o)||function ol(o,a){return o[Ql]=a}(o,{previous:Un,current:null}),m=f.current||(f.current={}),v=f.previous,C=this.declaredInputs[l],D=v[C];m[C]=new hs(D&&D.currentValue,a,v===Un),o[d]=a}ao.ngInherit=!0;const Ql="__ngSimpleChanges__";function sd(o){return o[Ql]||null}function Hn(o){for(;Array.isArray(o);)o=o[0];return o}function ll(o,a){return Hn(a[o])}function ur(o,a){return Hn(a[o.index])}function Da(o,a){return o.data[a]}function Rs(o,a){return o[a]}function Cr(o,a){const l=a[o];return li(l)?l:l[0]}function lo(o){return 4==(4&o[2])}function ps(o){return 64==(64&o[2])}function ui(o,a){return null==a?null:o[a]}function Ia(o){o[18]=0}function Vo(o,a){o[5]+=a;let l=o,d=o[3];for(;null!==d&&(1===a&&1===l[5]||-1===a&&0===l[5]);)d[5]+=a,l=d,d=d[3]}const dt={lFrame:cd(null),bindingsEnabled:!0};function Bo(){return dt.bindingsEnabled}function Pe(){return dt.lFrame.lView}function Qt(){return dt.lFrame.tView}function Uo(o){return dt.lFrame.contextLView=o,o[8]}function Xc(o){return dt.lFrame.contextLView=null,o}function Pn(){let o=Jc();for(;null!==o&&64===o.type;)o=o.parent;return o}function Jc(){return dt.lFrame.currentTNode}function ms(o,a){const l=dt.lFrame;l.currentTNode=o,l.isParent=a}function Ho(){return dt.lFrame.isParent}function uo(){dt.lFrame.isParent=!1}function ho(){return dt.lFrame.bindingIndex++}function tu(o,a){const l=dt.lFrame;l.bindingIndex=l.bindingRootIndex=o,fl(a)}function fl(o){dt.lFrame.currentDirectiveIndex=o}function $o(o){const a=dt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function ld(){return dt.lFrame.currentQueryIndex}function zo(o){dt.lFrame.currentQueryIndex=o}function ru(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function pl(o,a,l){if(l&vt.SkipSelf){let f=a,m=o;for(;!(f=f.parent,null!==f||l&vt.Host||(f=ru(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;a=f,o=m}const d=dt.lFrame=Ta();return d.currentTNode=a,d.lView=o,!0}function iu(o){const a=Ta(),l=o[1];dt.lFrame=a,a.currentTNode=l.firstChild,a.lView=o,a.tView=l,a.contextLView=o,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function Ta(){const o=dt.lFrame,a=null===o?null:o.child;return null===a?cd(o):a}function cd(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Aa(){const o=dt.lFrame;return dt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const su=Aa;function ou(){const o=Aa();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function xr(){return dt.lFrame.selectedIndex}function di(o){dt.lFrame.selectedIndex=o}function Gn(){const o=dt.lFrame;return Da(o.tView,o.selectedIndex)}function ud(){dt.lFrame.currentNamespace="svg"}function nc(){!function dd(){dt.lFrame.currentNamespace=null}()}function Jh(o,a){for(let l=a.directiveStart,d=a.directiveEnd;l<d;l++){const m=o.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:D,ngAfterViewChecked:M,ngOnDestroy:O}=m;v&&(o.contentHooks||(o.contentHooks=[])).push(-l,v),C&&((o.contentHooks||(o.contentHooks=[])).push(l,C),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(l,C)),D&&(o.viewHooks||(o.viewHooks=[])).push(-l,D),M&&((o.viewHooks||(o.viewHooks=[])).push(l,M),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(l,M)),null!=O&&(o.destroyHooks||(o.destroyHooks=[])).push(l,O)}}function ef(o,a,l){lm(o,a,3,l)}function Ma(o,a,l,d){(3&o[2])===l&&lm(o,a,l,d)}function fo(o,a){let l=o[2];(3&l)===a&&(l&=2047,l+=1,o[2]=l)}function lm(o,a,l,d){const m=d??-1,v=a.length-1;let C=0;for(let D=void 0!==d?65535&o[18]:0;D<v;D++)if("number"==typeof a[D+1]){if(C=a[D],null!=d&&C>=d)break}else a[D]<0&&(o[18]+=65536),(C<m||-1==m)&&(lu(o,l,a,D),o[18]=(4294901760&o[18])+D+2),D++}function lu(o,a,l,d){const f=l[d]<0,m=l[d+1],C=o[f?-l[d]:l[d]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class po{constructor(a,l,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function yl(o,a,l){let d=0;for(;d<l.length;){const f=l[d];if("number"==typeof f){if(0!==f)break;d++;const m=l[d++],v=l[d++],C=l[d++];o.setAttribute(a,v,C,m)}else{const m=f,v=l[++d];rc(m)?o.setProperty(a,m,v):o.setAttribute(a,m,v),d++}}return d}function vl(o){return 3===o||4===o||6===o}function rc(o){return 64===o.charCodeAt(0)}function cu(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let l=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?l=f:0===l||sf(o,l,f,null,-1===l||2===l?a[++d]:null)}}return o}function sf(o,a,l,d,f){let m=0,v=o.length;if(-1===a)v=-1;else for(;m<o.length;){const C=o[m++];if("number"==typeof C){if(C===a){v=-1;break}if(C>a){v=m-1;break}}}for(;m<o.length;){const C=o[m];if("number"==typeof C)break;if(C===l){if(null===d)return void(null!==f&&(o[m+1]=f));if(d===o[m+1])return void(o[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==v&&(o.splice(v,0,a),m=v+1),o.splice(m++,0,l),null!==d&&o.splice(m++,0,d),null!==f&&o.splice(m++,0,f)}function af(o){return-1!==o}function ic(o){return 32767&o}function Go(o,a){let l=function yi(o){return o>>16}(o),d=a;for(;l>0;)d=d[15],l--;return d}let bl=!0;function wl(o){const a=bl;return bl=o,a}let qe=0;const yt={};function tr(o,a){const l=uu(o,a);if(-1!==l)return l;const d=a[1];d.firstCreatePass&&(o.injectorIndex=a.length,qo(d.data,o),qo(a,null),qo(d.blueprint,null));const f=sc(o,a),m=o.injectorIndex;if(af(f)){const v=ic(f),C=Go(f,a),D=C[1].data;for(let M=0;M<8;M++)a[m+M]=C[v+M]|D[v+M]}return a[m+8]=f,m}function qo(o,a){o.push(0,0,0,0,0,0,0,0,a)}function uu(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function sc(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,d=null,f=a;for(;null!==f;){if(d=go(f),null===d)return-1;if(l++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function Cl(o,a,l){!function Hr(o,a,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(J)&&(d=l[J]),null==d&&(d=l[J]=qe++);const f=255&d;a.data[o+(f>>5)]|=1<<f}(o,a,l)}function El(o,a,l){if(l&vt.Optional)return o;Fe()}function Ls(o,a,l,d){if(l&vt.Optional&&void 0===d&&(d=null),0==(l&(vt.Self|vt.Host))){const f=o[9],m=un(void 0);try{return f?f.get(a,d,l&vt.Optional):_r(a,d,l&vt.Optional)}finally{un(m)}}return El(d,0,l)}function ht(o,a,l,d=vt.Default,f){if(null!==o){if(1024&a[2]){const v=function Qo(o,a,l,d,f){let m=o,v=a;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const C=Yo(m,v,l,d|vt.Self,yt);if(C!==yt)return C;let D=m.parent;if(!D){const M=v[21];if(M){const O=M.get(l,yt,d);if(O!==yt)return O}D=go(v),v=v[15]}m=D}return f}(o,a,l,d,yt);if(v!==yt)return v}const m=Yo(o,a,l,d,yt);if(m!==yt)return m}return Ls(a,l,d,f)}function Yo(o,a,l,d,f){const m=function Nn(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(J)?o[J]:void 0;return"number"==typeof a?a>=0?255&a:du:a}(l);if("function"==typeof m){if(!pl(a,o,d))return d&vt.Host?El(f,0,d):Ls(a,l,d,f);try{const v=m(d);if(null!=v||d&vt.Optional)return v;Fe()}finally{su()}}else if("number"==typeof m){let v=null,C=uu(o,a),D=-1,M=d&vt.Host?a[16][6]:null;for((-1===C||d&vt.SkipSelf)&&(D=-1===C?sc(o,a):a[C+8],-1!==D&&mo(d,!1)?(v=a[1],C=ic(D),a=Go(D,a)):C=-1);-1!==C;){const O=a[1];if(fd(m,C,O.data)){const V=lf(C,a,l,v,d,M);if(V!==yt)return V}D=a[C+8],-1!==D&&mo(d,a[1].data[C+8]===M)&&fd(m,C,a)?(v=O,C=ic(D),a=Go(D,a)):C=-1}}return f}function lf(o,a,l,d,f,m){const v=a[1],C=v.data[o+8],O=_s(C,v,l,null==d?xs(C)&&bl:d!=v&&0!=(3&C.type),f&vt.Host&&m===C);return null!==O?Ko(a,v,O,C):yt}function _s(o,a,l,d,f){const m=o.providerIndexes,v=a.data,C=1048575&m,D=o.directiveStart,O=m>>20,Q=f?C+O:o.directiveEnd;for(let le=d?C:C+O;le<Q;le++){const Me=v[le];if(le<D&&l===Me||le>=D&&Me.type===l)return le}if(f){const le=v[D];if(le&&ki(le)&&le.type===l)return D}return null}function Ko(o,a,l,d){let f=o[l];const m=a.data;if(function xa(o){return o instanceof po}(f)){const v=f;v.resolving&&function nt(o,a){const l=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new Se(-200,`Circular dependency in DI detected for ${o}${l}`)}(function be(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ie(o)}(m[l]));const C=wl(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?un(v.injectImpl):null;pl(o,d,vt.Default);try{f=o[l]=v.factory(void 0,m,o,d),a.firstCreatePass&&l>=d.directiveStart&&function am(o,a,l){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=a.type.prototype;if(d){const v=Fo(a);(l.preOrderHooks||(l.preOrderHooks=[])).push(o,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,v)}f&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-o,f),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(o,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,m))}(l,m[l],a)}finally{null!==D&&un(D),wl(C),v.resolving=!1,su()}}return f}function fd(o,a,l){return!!(l[a+(o>>5)]&1<<o)}function mo(o,a){return!(o&vt.Self||o&vt.Host&&a)}class Vs{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,d){return ht(this._tNode,this._lView,a,d,l)}}function du(){return new Vs(Pn(),Pe())}function Zo(o){return yr(()=>{const a=o.prototype.constructor,l=a[Lt]||pd(a),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const m=f[Lt]||pd(f);if(m&&m!==l)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function pd(o){return Ge(o)?()=>{const a=pd(ne(o));return a&&a()}:Qi(o)}function go(o){const a=o[1],l=a.type;return 2===l?a.declTNode:1===l?o[6]:null}function _o(o){return function oc(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const l=o.attrs;if(l){const d=l.length;let f=0;for(;f<d;){const m=l[f];if(vl(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof l[f];)f++;else{if(m===a)return l[f+1];f+=2}}}return null}(Pn(),o)}const xn="__parameters__";function hi(o,a,l){return yr(()=>{const d=function Pi(o){return function(...l){if(o){const d=o(...l);for(const f in d)this[f]=d[f]}}}(a);function f(...m){if(this instanceof f)return d.apply(this,m),this;const v=new f(...m);return C.annotation=v,C;function C(D,M,O){const V=D.hasOwnProperty(xn)?D[xn]:Object.defineProperty(D,xn,{value:[]})[xn];for(;V.length<=O;)V.push(null);return(V[O]=V[O]||[]).push(v),D}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class fn{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=sn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function $r(o,a){void 0===a&&(a=o);for(let l=0;l<o.length;l++){let d=o[l];Array.isArray(d)?(a===o&&(a=o.slice(0,l)),$r(d,a)):a!==o&&a.push(d)}return a}function Ni(o,a){o.forEach(l=>Array.isArray(l)?Ni(l,a):a(l))}function md(o,a,l){a>=o.length?o.push(l):o.splice(a,0,l)}function vo(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Xi(o,a){const l=[];for(let d=0;d<o;d++)l.push(a);return l}function ei(o,a,l){let d=ta(o,a);return d>=0?o[1|d]=l:(d=~d,function Jo(o,a,l,d){let f=o.length;if(f==a)o.push(l,d);else if(1===f)o.push(d,o[0]),o[0]=l;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=l,o[a+1]=d}}(o,d,a,l)),d}function Sl(o,a){const l=ta(o,a);if(l>=0)return o[1|l]}function ta(o,a){return function Zn(o,a,l){let d=0,f=o.length>>l;for(;f!==d;){const m=d+(f-d>>1),v=o[m<<l];if(a===v)return m<<l;v>a?f=m:d=m+1}return~(f<<l)}(o,a,1)}const ys={},Bs="__NG_DI_FLAG__",bo="ngTempTokenPath",Kt=/\n/gm,gd="__source";let Dr;function Pa(o){const a=Dr;return Dr=o,a}function _d(o,a=vt.Default){if(void 0===Dr)throw new Se(-203,!1);return null===Dr?_r(o,void 0,a):Dr.get(o,a&vt.Optional?null:void 0,a)}function Wn(o,a=vt.Default){return(function Qr(){return Dn}()||_d)(ne(o),a)}function na(o,a=vt.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),Wn(o,a)}function ra(o){const a=[];for(let l=0;l<o.length;l++){const d=ne(o[l]);if(Array.isArray(d)){if(0===d.length)throw new Se(900,!1);let f,m=vt.Default;for(let v=0;v<d.length;v++){const C=d[v],D=T(C);"number"==typeof D?-1===D?f=C.token:m|=D:f=C}a.push(Wn(f,m))}else a.push(Wn(d))}return a}function S(o,a){return o[Bs]=a,o.prototype[Bs]=a,o}function T(o){return o[Bs]}const he=S(hi("Optional"),8),Ze=S(hi("SkipSelf"),4);let ff,uc;function yy(o){ff=o}function wo(o){return function mu(){if(void 0===uc&&(uc=null,st.trustedTypes))try{uc=st.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return uc}()?.createHTML(o)||o}class bs{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class gm extends bs{getTypeName(){return"HTML"}}class gf extends bs{getTypeName(){return"Style"}}class by extends bs{getTypeName(){return"Script"}}class _m extends bs{getTypeName(){return"URL"}}class wy extends bs{getTypeName(){return"ResourceURL"}}function js(o){return o instanceof bs?o.changingThisBreaksApplicationSecurity:o}function hc(o,a){const l=function ym(o){return o instanceof bs&&o.getTypeName()||null}(o);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===a}function vm(o){return new gm(o)}function Cy(o){return new gf(o)}function Ey(o){return new by(o)}function Dy(o){return new _m(o)}function bm(o){return new wy(o)}class g{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const l=(new window.DOMParser).parseFromString(wo(a),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(a):(l.removeChild(l.firstChild),l)}catch{return null}}}class y{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(a){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=wo(a),l;const d=this.inertDocument.createElement("body");return d.innerHTML=wo(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const l=a.attributes;for(let f=l.length-1;0<f;f--){const v=l.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&a.removeAttribute(v)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const k=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ae=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function xe(o){return(o=String(o)).match(k)||o.match(ae)?o:"unsafe:"+o}function lt(o){const a={};for(const l of o.split(","))a[l]=!0;return a}function Ht(...o){const a={};for(const l of o)for(const d in l)l.hasOwnProperty(d)&&(a[d]=!0);return a}const jn=lt("area,br,col,hr,img,wbr"),Li=lt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Eo=lt("rp,rt"),fc=Ht(jn,Ht(Li,lt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ht(Eo,lt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ht(Eo,Li)),Dd=lt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),sa=lt("srcset"),pc=Ht(Dd,sa,lt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),lt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_f=lt("script,style,template");class Cm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let l=a.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let f=this.checkClobberedElement(l,l.nextSibling);if(f){l=f;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(a){const l=a.nodeName.toLowerCase();if(!fc.hasOwnProperty(l))return this.sanitizedSomething=!0,!_f.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=a.attributes;for(let f=0;f<d.length;f++){const m=d.item(f),v=m.name,C=v.toLowerCase();if(!pc.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let D=m.value;Dd[C]&&(D=xe(D)),sa[C]&&(o=D,D=(o=String(o)).split(",").map(a=>xe(a.trim())).join(", ")),this.buf.push(" ",v,'="',g0(D),'"')}var o;return this.buf.push(">"),!0}endElement(a){const l=a.nodeName.toLowerCase();fc.hasOwnProperty(l)&&!jn.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(a){this.buf.push(g0(a))}checkClobberedElement(a,l){if(l&&(a.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return l}}const Id=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Em=/([^\#-~ |!])/g;function g0(o){return o.replace(/&/g,"&amp;").replace(Id,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(Em,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mc;function yf(o,a){let l=null;try{mc=mc||function b(o){const a=new y(o);return function E(){try{return!!(new window.DOMParser).parseFromString(wo(""),"text/html")}catch{return!1}}()?new g(a):a}(o);let d=a?String(a):"";l=mc.getInertBodyElement(d);let f=5,m=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=m,m=l.innerHTML,l=mc.getInertBodyElement(d)}while(d!==m);return wo((new Cm).sanitizeChildren(vf(l)||l))}finally{if(l){const d=vf(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function vf(o){return"content"in o&&function nT(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Rr=(()=>((Rr=Rr||{})[Rr.NONE=0]="NONE",Rr[Rr.HTML=1]="HTML",Rr[Rr.STYLE=2]="STYLE",Rr[Rr.SCRIPT=3]="SCRIPT",Rr[Rr.URL=4]="URL",Rr[Rr.RESOURCE_URL=5]="RESOURCE_URL",Rr))();function v0(o){const a=function Vi(){const o=Pe();return o&&o[12]}();return a?a.sanitize(Rr.URL,o)||"":hc(o,"URL")?js(o):xe(Ie(o))}const Dm=new fn("ENVIRONMENT_INITIALIZER"),Ay=new fn("INJECTOR",-1),w0=new fn("INJECTOR_DEF_TYPES");class C0{get(a,l=ys){if(l===ys){const d=new Error(`NullInjectorError: No provider for ${ge(a)}!`);throw d.name="NullInjectorError",d}return l}}function E0(...o){return{\u0275providers:bf(0,o)}}function bf(o,...a){const l=[],d=new Set;let f;return Ni(a,m=>{const v=m;My(v,l,[],d)&&(f||(f=[]),f.push(v))}),void 0!==f&&D0(f,l),l}function D0(o,a){for(let l=0;l<o.length;l++){const{providers:f}=o[l];Ni(f,m=>{a.push(m)})}}function My(o,a,l,d){if(!(o=ne(o)))return!1;let f=null,m=cs(o);const v=!m&&$(o);if(m||v){if(v&&!v.standalone)return!1;f=o}else{const D=o.ngModule;if(m=cs(D),!m)return!1;f=D}const C=d.has(f);if(v){if(C)return!1;if(d.add(f),v.dependencies){const D="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const M of D)My(M,a,l,d)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let M;d.add(f);try{Ni(m.imports,O=>{My(O,a,l,d)&&(M||(M=[]),M.push(O))})}finally{}void 0!==M&&D0(M,a)}if(!C){const M=Qi(f)||(()=>new f);a.push({provide:f,useFactory:M,deps:qt},{provide:w0,useValue:f,multi:!0},{provide:Dm,useValue:()=>Wn(f),multi:!0})}const D=m.providers;null==D||C||Ni(D,O=>{a.push(O)})}}return f!==o&&void 0!==o.providers}const wf=we({provide:String,useValue:we});function ky(o){return null!==o&&"object"==typeof o&&wf in o}function oa(o){return"function"==typeof o}const Ry=new fn("Set Injector scope."),Im={},aT={};let Oy;function Sm(){return void 0===Oy&&(Oy=new C0),Oy}class Td{}class S0 extends Td{constructor(a,l,d,f){super(),this.parent=l,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Py(a,v=>this.processProvider(v)),this.records.set(Ay,xd(void 0,this)),f.has("environment")&&this.records.set(Td,xd(void 0,this));const m=this.records.get(Ry);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(w0.multi,qt,vt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const l=Pa(this),d=un(void 0);try{return a()}finally{Pa(l),un(d)}}get(a,l=ys,d=vt.Default){this.assertNotDestroyed();const f=Pa(this),m=un(void 0);try{if(!(d&vt.SkipSelf)){let C=this.records.get(a);if(void 0===C){const D=function dT(o){return"function"==typeof o||"object"==typeof o&&o instanceof fn}(a)&&Kr(a);C=D&&this.injectableDefInScope(D)?xd(Ad(a),Im):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(d&vt.Self?Sm():this.parent).get(a,l=d&vt.Optional&&l===ys?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[bo]=v[bo]||[]).unshift(ge(a)),f)throw v;return function R(o,a,l,d){const f=o[bo];throw a[gd]&&f.unshift(a[gd]),o.message=function U(o,a,l,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=ge(a);if(Array.isArray(a))f=a.map(ge).join(" -> ");else if("object"==typeof a){let m=[];for(let v in a)if(a.hasOwnProperty(v)){let C=a[v];m.push(v+":"+("string"==typeof C?JSON.stringify(C):ge(C)))}f=`{${m.join(", ")}}`}return`${l}${d?"("+d+")":""}[${f}]: ${o.replace(Kt,"\n  ")}`}("\n"+o.message,f,l,d),o.ngTokenPath=f,o[bo]=null,o}(v,a,"R3InjectorError",this.source)}throw v}finally{un(m),Pa(f)}}resolveInjectorInitializers(){const a=Pa(this),l=un(void 0);try{const d=this.get(Dm.multi,qt,vt.Self);for(const f of d)f()}finally{Pa(a),un(l)}}toString(){const a=[],l=this.records;for(const d of l.keys())a.push(ge(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processProvider(a){let l=oa(a=ne(a))?a:ne(a&&a.provide);const d=function lT(o){return ky(o)?xd(void 0,o.useValue):xd(T0(o),Im)}(a);if(oa(a)||!0!==a.multi)this.records.get(l);else{let f=this.records.get(l);f||(f=xd(void 0,Im,!0),f.factory=()=>ra(f.multi),this.records.set(l,f)),l=a,f.multi.push(a)}this.records.set(l,d)}hydrate(a,l){return l.value===Im&&(l.value=aT,l.value=l.factory()),"object"==typeof l.value&&l.value&&function uT(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(a){if(!a.providedIn)return!1;const l=ne(a.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Ad(o){const a=Kr(o),l=null!==a?a.factory:Qi(o);if(null!==l)return l;if(o instanceof fn)throw new Se(204,!1);if(o instanceof Function)return function Md(o){const a=o.length;if(a>0)throw Xi(a,"?"),new Se(204,!1);const l=function Zr(o){const a=o&&(o[Ai]||o[Jn]);if(a){const l=function Vn(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),a}return null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new Se(204,!1)}function T0(o,a,l){let d;if(oa(o)){const f=ne(o);return Qi(f)||Ad(f)}if(ky(o))d=()=>ne(o.useValue);else if(function Sd(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...ra(o.deps||[]));else if(function I0(o){return!(!o||!o.useExisting)}(o))d=()=>Wn(ne(o.useExisting));else{const f=ne(o&&(o.useClass||o.provide));if(!function cT(o){return!!o.deps}(o))return Qi(f)||Ad(f);d=()=>new f(...ra(o.deps))}return d}function xd(o,a,l=!1){return{factory:o,value:a,multi:l?[]:void 0}}function hT(o){return!!o.\u0275providers}function Py(o,a){for(const l of o)Array.isArray(l)?Py(l,a):hT(l)?Py(l.\u0275providers,a):a(l)}class Ny{}class Fy{resolveComponentFactory(a){throw function pT(o){const a=Error(`No component factory found for ${ge(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let gc=(()=>{class o{}return o.NULL=new Fy,o})();function gT(){return kd(Pn(),Pe())}function kd(o,a){return new Cf(ur(o,a))}let Cf=(()=>{class o{constructor(l){this.nativeElement=l}}return o.__NG_ELEMENT_ID__=gT,o})();function _T(o){return o instanceof Cf?o.nativeElement:o}class Vy{}let A0=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function Am(){const o=Pe(),l=Cr(Pn().index,o);return(li(l)?l:o)[11]}(),o})(),Mm=(()=>{class o{}return o.\u0275prov=sn({token:o,providedIn:"root",factory:()=>null}),o})();class By{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Rd=new By("14.1.1"),xm={};function Om(o){return o.ngOriginalError}class Ef{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a);this._console.error("ERROR",a),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&Om(a);for(;l&&Om(l);)l=Om(l);return l||null}}const Pm=new Map;let P0=0;const Wy="__ngContext__";function Ui(o,a){li(a)?(o[Wy]=a[20],function ST(o){Pm.set(o[20],o)}(a)):o[Wy]=a}function _c(o){const a=o[Wy];return"number"==typeof a?function N0(o){return Pm.get(o)||null}(a):a||null}function qy(o){const a=_c(o);return a?li(a)?a:a.lView:null}const Ky=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(st))();function yc(o){return o instanceof Function?o():o}var aa=(()=>((aa=aa||{})[aa.Important=1]="Important",aa[aa.DashCase=2]="DashCase",aa))();function Qy(o,a){return undefined(o,a)}function Sf(o){const a=o[3];return Ur(a)?a[3]:a}function Lm(o){return ev(o[13])}function Jy(o){return ev(o[4])}function ev(o){for(;null!==o&&!Ur(o);)o=o[4];return o}function Pd(o,a,l,d,f){if(null!=d){let m,v=!1;Ur(d)?m=d:li(d)&&(v=!0,d=d[0]);const C=Hn(d);0===o&&null!==l?null==f?vc(a,l,C):Ba(a,l,C,f||null,!0):1===o&&null!==l?Ba(a,l,C,f||null,!0):2===o?function X0(o,a,l){const d=Um(o,a);d&&function Af(o,a,l,d){o.removeChild(a,l,d)}(o,d,a,l)}(a,C,v):3===o&&a.destroyNode(C),null!=m&&function Ld(o,a,l,d,f){const m=l[7];m!==Hn(l)&&Pd(a,o,d,m,f);for(let C=10;C<l.length;C++){const D=l[C];jm(D[1],D,o,a,d,m)}}(a,o,m,l,f)}}function nv(o,a,l){return o.createElement(a,l)}function zr(o,a){const l=o[9],d=l.indexOf(a),f=a[3];512&a[2]&&(a[2]&=-513,Vo(f,-1)),l.splice(d,1)}function q0(o,a){if(o.length<=10)return;const l=10+a,d=o[l];if(d){const f=d[17];null!==f&&f!==o&&zr(f,d),a>0&&(o[l-1][4]=d[4]);const m=vo(o,10+a);!function LT(o,a){jm(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function yu(o,a){if(!(128&a[2])){const l=a[11];l.destroyNode&&jm(o,a,l,3,null,null),function G0(o){let a=o[13];if(!a)return Bm(o[1],o);for(;a;){let l=null;if(li(a))l=a[13];else{const d=a[10];d&&(l=d)}if(!l){for(;a&&!a[4]&&a!==o;)li(a)&&Bm(a[1],a),a=a[3];null===a&&(a=o),li(a)&&Bm(a[1],a),l=a&&a[4]}a=l}}(a)}}function Bm(o,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function Tf(o,a){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let d=0;d<l.length;d+=2){const f=a[l[d]];if(!(f instanceof po)){const m=l[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const C=f[m[v]],D=m[v+1];try{D.call(C)}finally{}}else try{m.call(f)}finally{}}}}(o,a),function Y0(o,a){const l=o.cleanup,d=a[7];let f=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const v=l[m+1],C="function"==typeof v?v(a):Hn(a[v]),D=d[f=l[m+2]],M=l[m+3];"boolean"==typeof M?C.removeEventListener(l[m],D,M):M>=0?d[f=M]():d[f=-M].unsubscribe(),m+=2}else{const v=d[f=l[m+1]];l[m].call(v)}if(null!==d){for(let m=f+1;m<d.length;m++)(0,d[m])();a[7]=null}}(o,a),1===a[1].type&&a[11].destroy();const l=a[17];if(null!==l&&Ur(a[3])){l!==a[3]&&zr(l,a);const d=a[19];null!==d&&d.detachView(o)}!function TT(o){Pm.delete(o[20])}(a)}}function K0(o,a,l){return function Nd(o,a,l){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return l[0];if(2&d.flags){const f=o.data[d.directiveStart].encapsulation;if(f===ct.None||f===ct.Emulated)return null}return ur(d,l)}(o,a.parent,l)}function Ba(o,a,l,d,f){o.insertBefore(a,l,d,f)}function vc(o,a,l){o.appendChild(a,l)}function iv(o,a,l,d,f){null!==d?Ba(o,a,l,d,f):vc(o,a,l)}function Um(o,a){return o.parentNode(a)}function Fd(o,a,l){return Hm(o,a,l)}let Hm=function bc(o,a,l){return 40&o.type?ur(o,l):null};function sv(o,a,l,d){const f=K0(o,d,a),m=a[11],C=Fd(d.parent||a[6],d,a);if(null!=f)if(Array.isArray(l))for(let D=0;D<l.length;D++)iv(m,f,l[D],C,!1);else iv(m,f,l,C,!1)}function ov(o,a){if(null!==a){const l=a.type;if(3&l)return ur(a,o);if(4&l)return av(-1,o[a.index]);if(8&l){const d=a.child;if(null!==d)return ov(o,d);{const f=o[a.index];return Ur(f)?av(-1,f):Hn(f)}}if(32&l)return Qy(a,o)()||Hn(o[a.index]);{const d=vu(o,a);return null!==d?Array.isArray(d)?d[0]:ov(Sf(o[16]),d):ov(o,a.next)}}return null}function vu(o,a){return null!==a?o[16][6].projection[a.projection]:null}function av(o,a){const l=10+o+1;if(l<a.length){const d=a[l],f=d[1].firstChild;if(null!==f)return ov(d,f)}return a[7]}function lv(o,a,l,d,f,m,v){for(;null!=l;){const C=d[l.index],D=l.type;if(v&&0===a&&(C&&Ui(Hn(C),d),l.flags|=4),64!=(64&l.flags))if(8&D)lv(o,a,l.child,d,f,m,!1),Pd(a,o,f,C,m);else if(32&D){const M=Qy(l,d);let O;for(;O=M();)Pd(a,o,f,O,m);Pd(a,o,f,C,m)}else 16&D?bu(o,a,d,l,f,m):Pd(a,o,f,C,m);l=v?l.projectionNext:l.next}}function jm(o,a,l,d,f,m){lv(l,d,o.firstChild,a,f,m,!1)}function bu(o,a,l,d,f,m){const v=l[16],D=v[6].projection[d.projection];if(Array.isArray(D))for(let M=0;M<D.length;M++)Pd(a,o,f,D[M],m);else lv(o,a,D,v[3],f,m,!0)}function Mf(o,a,l){o.setAttribute(a,"style",l)}function xf(o,a,l){""===l?o.removeAttribute(a,"class"):o.setAttribute(a,"class",l)}function zm(o,a,l){let d=o.length;for(;;){const f=o.indexOf(a,l);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const m=a.length;if(f+m===d||o.charCodeAt(f+m)<=32)return f}l=f+1}}const Vd="ng-template";function Gm(o,a,l){let d=0;for(;d<o.length;){let f=o[d++];if(l&&"class"===f){if(f=o[d],-1!==zm(f.toLowerCase(),a,0))return!0}else if(1===f){for(;d<o.length&&"string"==typeof(f=o[d++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function Bd(o){return 4===o.type&&o.value!==Vd}function fN(o,a,l){return a===(4!==o.type||l?o.value:Vd)}function pN(o,a,l){let d=4;const f=o.attrs||[],m=function _N(o){for(let a=0;a<o.length;a++)if(vl(o[a]))return a;return o.length}(f);let v=!1;for(let C=0;C<a.length;C++){const D=a[C];if("number"!=typeof D){if(!v)if(4&d){if(d=2|1&d,""!==D&&!fN(o,D,l)||""===D&&1===a.length){if(Ua(d))return!1;v=!0}}else{const M=8&d?D:a[++C];if(8&d&&null!==o.attrs){if(!Gm(o.attrs,M,l)){if(Ua(d))return!1;v=!0}continue}const V=mN(8&d?"class":D,f,Bd(o),l);if(-1===V){if(Ua(d))return!1;v=!0;continue}if(""!==M){let Q;Q=V>m?"":f[V+1].toLowerCase();const le=8&d?Q:null;if(le&&-1!==zm(le,M,0)||2&d&&M!==Q){if(Ua(d))return!1;v=!0}}}}else{if(!v&&!Ua(d)&&!Ua(D))return!1;if(v&&Ua(D))continue;v=!1,d=D|1&d}}return Ua(d)||v}function Ua(o){return 0==(1&o)}function mN(o,a,l,d){if(null===a)return-1;let f=0;if(d||!l){let m=!1;for(;f<a.length;){const v=a[f];if(v===o)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let C=a[++f];for(;"string"==typeof C;)C=a[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function yN(o,a){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const d=o[l];if("number"==typeof d)return-1;if(d===a)return l;l++}return-1}(a,o)}function HT(o,a,l=!1){for(let d=0;d<a.length;d++)if(pN(o,a[d],l))return!0;return!1}function vN(o,a){e:for(let l=0;l<a.length;l++){const d=a[l];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function jT(o,a){return o?":not("+a.trim()+")":a}function bN(o){let a=o[0],l=1,d=2,f="",m=!1;for(;l<o.length;){let v=o[l];if("string"==typeof v)if(2&d){const C=o[++l];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!Ua(v)&&(a+=jT(m,f),f=""),d=v,m=m||!Ua(d);l++}return""!==f&&(a+=jT(m,f)),a}const Xt={};function $T(o){zT(Qt(),Pe(),xr()+o,!1)}function zT(o,a,l,d){if(!d)if(3==(3&a[2])){const m=o.preOrderCheckHooks;null!==m&&ef(a,m,l)}else{const m=o.preOrderHooks;null!==m&&Ma(a,m,0,l)}di(l)}function YT(o,a=null,l=null,d){const f=KT(o,a,l,d);return f.resolveInjectorInitializers(),f}function KT(o,a=null,l=null,d,f=new Set){const m=[l||qt,E0(o)];return d=d||("object"==typeof o?void 0:ge(o)),new S0(m,a||Sm(),d||null,f)}let Ud=(()=>{class o{static create(l,d){if(Array.isArray(l))return YT({name:""},d,l,"");{const f=l.name??"";return YT({name:f},l.parent,l.providers,f)}}}return o.THROW_IF_NOT_FOUND=ys,o.NULL=new C0,o.\u0275prov=sn({token:o,providedIn:"any",factory:()=>Wn(Ay)}),o.__NG_ELEMENT_ID__=-1,o})();function Rf(o,a=vt.Default){const l=Pe();return null===l?Wn(o,a):ht(Pn(),l,ne(o),a)}function tA(){throw new Error("invalid")}function dv(o,a){return o<<17|a<<2}function Ha(o){return o>>17&32767}function iC(o){return 2|o}function wc(o){return(131068&o)>>2}function sC(o,a){return-131069&o|a<<2}function oC(o){return 1|o}function mC(o,a){const l=o.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const f=l[d],m=l[d+1];if(-1!==m){const v=o.data[m];zo(f),v.contentQueries(2,a[m],m)}}}function mv(o,a,l,d,f,m,v,C,D,M,O){const V=a.blueprint.slice();return V[0]=f,V[2]=76|d,(null!==O||o&&1024&o[2])&&(V[2]|=1024),Ia(V),V[3]=V[15]=o,V[8]=l,V[10]=v||o&&o[10],V[11]=C||o&&o[11],V[12]=D||o&&o[12]||null,V[9]=M||o&&o[9]||null,V[6]=m,V[20]=function IT(){return P0++}(),V[21]=O,V[16]=2==a.type?o[16]:V,V}function wu(o,a,l,d,f){let m=o.data[a];if(null===m)m=function Ec(o,a,l,d,f){const m=Jc(),v=Ho(),D=o.data[a]=function hA(o,a,l,d,f,m){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,l,a,d,f);return null===o.firstChild&&(o.firstChild=D),null!==m&&(v?null==m.child&&null!==D.parent&&(m.child=D):null===m.next&&(m.next=D)),D}(o,a,l,d,f),function ad(){return dt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=l,m.value=d,m.attrs=f;const v=function Ps(){const o=dt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return ms(m,!0),m}function zd(o,a,l,d){if(0===l)return-1;const f=a.length;for(let m=0;m<l;m++)a.push(d),o.blueprint.push(d),o.data.push(null);return f}function qm(o,a,l){iu(a);try{const d=o.viewQuery;null!==d&&xl(1,d,l);const f=o.template;null!==f&&gv(o,a,f,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&mC(o,a),o.staticViewQueries&&xl(2,o.viewQuery,l);const m=o.components;null!==m&&function gC(o,a){for(let l=0;l<a.length;l++)AC(o,a[l])}(a,m)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[2]&=-5,ou()}}function Pf(o,a,l,d){const f=a[2];if(128!=(128&f)){iu(a);try{Ia(a),function eu(o){return dt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==l&&gv(o,a,l,2,d);const v=3==(3&f);if(v){const M=o.preOrderCheckHooks;null!==M&&ef(a,M,null)}else{const M=o.preOrderHooks;null!==M&&Ma(a,M,0,null),fo(a,0)}if(function TC(o){for(let a=Lm(o);null!==a;a=Jy(a)){if(!a[2])continue;const l=a[9];for(let d=0;d<l.length;d++){const f=l[d],m=f[3];0==(512&f[2])&&Vo(m,1),f[2]|=512}}}(a),function SC(o){for(let a=Lm(o);null!==a;a=Jy(a))for(let l=10;l<a.length;l++){const d=a[l],f=d[1];ps(d)&&Pf(f,d,f.template,d[8])}}(a),null!==o.contentQueries&&mC(o,a),v){const M=o.contentCheckHooks;null!==M&&ef(a,M)}else{const M=o.contentHooks;null!==M&&Ma(a,M,1),fo(a,1)}!function pC(o,a){const l=o.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const f=l[d];if(f<0)di(~f);else{const m=f,v=l[++d],C=l[++d];tu(v,m),C(2,a[m])}}}finally{di(-1)}}(o,a);const C=o.components;null!==C&&function uA(o,a){for(let l=0;l<a.length;l++)wA(o,a[l])}(a,C);const D=o.viewQuery;if(null!==D&&xl(2,D,d),v){const M=o.viewCheckHooks;null!==M&&ef(a,M)}else{const M=o.viewHooks;null!==M&&Ma(a,M,2),fo(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,Vo(a[3],-1))}finally{ou()}}}function _C(o,a,l,d){const f=a[10],v=lo(a);try{!v&&f.begin&&f.begin(),v&&qm(o,a,d),Pf(o,a,l,d)}finally{!v&&f.end&&f.end()}}function gv(o,a,l,d,f){const m=xr(),v=2&d;try{di(-1),v&&a.length>22&&zT(o,a,22,!1),l(d,f)}finally{di(m)}}function yC(o,a,l){if(ql(a)){const f=a.directiveEnd;for(let m=a.directiveStart;m<f;m++){const v=o.data[m];v.contentQueries&&v.contentQueries(1,l[m],m)}}}function Ym(o,a,l){!Bo()||(function gA(o,a,l,d){const f=l.directiveStart,m=l.directiveEnd;o.firstCreatePass||tr(l,a),Ui(d,a);const v=l.initialInputs;for(let C=f;C<m;C++){const D=o.data[C],M=ki(D);M&&Nf(a,l,D);const O=Ko(a,o,C,l);Ui(O,a),null!==v&&XN(0,C-f,O,D,0,v),M&&(Cr(l.index,a)[8]=O)}}(o,a,l,ur(l,a)),128==(128&l.flags)&&function _A(o,a,l){const d=l.directiveStart,f=l.directiveEnd,m=l.index,v=function nu(){return dt.lFrame.currentDirectiveIndex}();try{di(m);for(let C=d;C<f;C++){const D=o.data[C],M=a[C];fl(C),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&wC(D,M)}}finally{di(-1),fl(v)}}(o,a,l))}function _v(o,a,l=ur){const d=a.localNames;if(null!==d){let f=a.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],C=-1===v?l(a,o):o[v];o[f++]=C}}}function vC(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=Gd(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function Gd(o,a,l,d,f,m,v,C,D,M){const O=22+d,V=O+f,Q=function KN(o,a){const l=[];for(let d=0;d<a;d++)l.push(d<o?null:Xt);return l}(O,V),le="function"==typeof M?M():M;return Q[1]={type:o,blueprint:Q,template:l,queries:null,viewQuery:C,declTNode:a,data:Q.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:le,incompleteFirstPass:!1}}function Zm(o,a,l,d){const f=Ev(a);null===l?f.push(d):(f.push(l),o.firstCreatePass&&eg(o).push(d,f.length-1))}function Qm(o,a,l){for(let d in o)if(o.hasOwnProperty(d)){const f=o[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(a,f):l[d]=[a,f]}return l}function yv(o,a){const d=a.directiveEnd,f=o.data,m=a.attrs,v=[];let C=null,D=null;for(let M=a.directiveStart;M<d;M++){const O=f[M],V=O.inputs,Q=null===m||Bd(a)?null:JN(V,m);v.push(Q),C=Qm(V,M,C),D=Qm(O.outputs,M,D)}null!==C&&(C.hasOwnProperty("class")&&(a.flags|=16),C.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=v,a.inputs=C,a.outputs=D}function Do(o,a,l,d,f,m,v,C){const D=ur(a,l);let O,M=a.inputs;!C&&null!=M&&(O=M[d])?(Iv(o,l,O,d,f),xs(a)&&fA(l,a.index)):3&a.type&&(d=function ZN(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=v?v(f,a.value||"",d):f,m.setProperty(D,d,f))}function fA(o,a){const l=Cr(a,o);16&l[2]||(l[2]|=32)}function vv(o,a,l,d){let f=!1;if(Bo()){const m=function CC(o,a,l){const d=o.directiveRegistry;let f=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];HT(l,v.selectors,!1)&&(f||(f=[]),Cl(tr(l,a),o,v.type),ki(v)?(bv(o,l),f.unshift(v)):f.push(v))}return f}(o,a,l),v=null===d?null:{"":-1};if(null!==m){f=!0,EC(l,o.data.length,m.length);for(let O=0;O<m.length;O++){const V=m[O];V.providersResolver&&V.providersResolver(V)}let C=!1,D=!1,M=zd(o,a,m.length,null);for(let O=0;O<m.length;O++){const V=m[O];l.mergedAttrs=cu(l.mergedAttrs,V.hostAttrs),DC(o,l,a,M,V),vA(M,V,v),null!==V.contentQueries&&(l.flags|=8),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(l.flags|=128);const Q=V.type.prototype;!C&&(Q.ngOnChanges||Q.ngOnInit||Q.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(l.index),C=!0),!D&&(Q.ngOnChanges||Q.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(l.index),D=!0),M++}yv(o,l)}v&&function yA(o,a,l){if(a){const d=o.localNames=[];for(let f=0;f<a.length;f+=2){const m=l[a[f+1]];if(null==m)throw new Se(-301,!1);d.push(a[f],m)}}}(l,d,v)}return l.mergedAttrs=cu(l.mergedAttrs,l.attrs),f}function bC(o,a,l,d,f,m){const v=m.hostBindings;if(v){let C=o.hostBindingOpCodes;null===C&&(C=o.hostBindingOpCodes=[]);const D=~a.index;(function mA(o){let a=o.length;for(;a>0;){const l=o[--a];if("number"==typeof l&&l<0)return l}return 0})(C)!=D&&C.push(D),C.push(d,f,v)}}function wC(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function bv(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function vA(o,a,l){if(l){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)l[a.exportAs[d]]=o;ki(a)&&(l[""]=o)}}function EC(o,a,l){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+l,o.providerIndexes=a}function DC(o,a,l,d,f){o.data[d]=f;const m=f.factory||(f.factory=Qi(f.type)),v=new po(m,ki(f),Rf);o.blueprint[d]=v,l[d]=v,bC(o,a,0,d,zd(o,l,f.hostVars,Xt),f)}function Nf(o,a,l){const d=ur(a,o),f=vC(l),m=o[10],v=Jm(o,mv(o,f,null,l.onPush?32:16,d,a,m,m.createRenderer(d,l),null,null,null));o[a.index]=v}function ja(o,a,l,d,f,m){const v=ur(o,a);!function IC(o,a,l,d,f,m,v){if(null==m)o.removeAttribute(a,f,l);else{const C=null==v?Ie(m):v(m,d||"",f);o.setAttribute(a,f,C,l)}}(a[11],v,m,o.value,l,d,f)}function XN(o,a,l,d,f,m){const v=m[a];if(null!==v){const C=d.setInput;for(let D=0;D<v.length;){const M=v[D++],O=v[D++],V=v[D++];null!==C?d.setInput(l,V,M,O):l[O]=V}}}function JN(o,a){let l=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===l&&(l=[]),l.push(f,o[f],a[d+1])),d+=2}else d+=2;else d+=4}return l}function bA(o,a,l,d){return new Array(o,!0,!1,a,null,0,d,l,null,null)}function wA(o,a){const l=Cr(a,o);if(ps(l)){const d=l[1];48&l[2]?Pf(d,l,d.template,l[8]):l[5]>0&&wv(l)}}function wv(o){for(let d=Lm(o);null!==d;d=Jy(d))for(let f=10;f<d.length;f++){const m=d[f];if(512&m[2]){const v=m[1];Pf(v,m,v.template,m[8])}else m[5]>0&&wv(m)}const l=o[1].components;if(null!==l)for(let d=0;d<l.length;d++){const f=Cr(l[d],o);ps(f)&&f[5]>0&&wv(f)}}function AC(o,a){const l=Cr(a,o),d=l[1];(function Wd(o,a){for(let l=a.length;l<o.blueprint.length;l++)a.push(o.blueprint[l])})(d,l),qm(d,l,l[8])}function Jm(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function MC(o){for(;o;){o[2]|=32;const a=Sf(o);if(qc(o)&&!a)return o;o=a}return null}function DA(o){!function EA(o){for(let a=0;a<o.components.length;a++){const l=o.components[a],d=qy(l);if(null!==d){const f=d[1];_C(f,d,f.template,l)}}}(o[8])}function xl(o,a,l){zo(0),a(o,l)}const kC=(()=>Promise.resolve(null))();function Ev(o){return o[7]||(o[7]=[])}function eg(o){return o.cleanup||(o.cleanup=[])}function Dv(o,a,l){return(null===o||ki(o))&&(l=function Kc(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(l[a.index])),l[11]}function tg(o,a){const l=o[9],d=l?l.get(Ef,null):null;d&&d.handleError(a)}function Iv(o,a,l,d,f){for(let m=0;m<l.length;){const v=l[m++],C=l[m++],D=a[v],M=o.data[v];null!==M.setInput?M.setInput(D,f,d,C):D[C]=f}}function ng(o,a,l){let d=l?o.styles:null,f=l?o.classes:null,m=0;if(null!==a)for(let v=0;v<a.length;v++){const C=a[v];"number"==typeof C?m=C:1==m?f=Ee(f,C):2==m&&(d=Ee(d,C+": "+a[++v]+";"))}l?o.styles=d:o.stylesWithoutHost=d,l?o.classes=f:o.classesWithoutHost=f}function rg(o,a,l,d,f=!1){for(;null!==l;){const m=a[l.index];if(null!==m&&d.push(Hn(m)),Ur(m))for(let C=10;C<m.length;C++){const D=m[C],M=D[1].firstChild;null!==M&&rg(D[1],D,M,d)}const v=l.type;if(8&v)rg(o,a,l.child,d);else if(32&v){const C=Qy(l,a);let D;for(;D=C();)d.push(D)}else if(16&v){const C=vu(a,l);if(Array.isArray(C))d.push(...C);else{const D=Sf(a[16]);rg(D[1],D,C,d,!0)}}l=f?l.projectionNext:l.next}return d}class la{constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,l=a[1];return rg(l,a,l.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Ur(a)){const l=a[8],d=l?l.indexOf(this):-1;d>-1&&(q0(a,d),vo(l,d))}this._attachedToViewContainer=!1}yu(this._lView[1],this._lView)}onDestroy(a){Zm(this._lView[1],this._lView,null,a)}markForCheck(){MC(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function xC(o,a,l){const d=a[10];d.begin&&d.begin();try{Pf(o,a,o.template,l)}catch(f){throw tg(a,f),f}finally{d.end&&d.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dN(o,a){jm(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Se(902,!1);this._appRef=a}}class RC extends la{constructor(a){super(a),this._view=a}detectChanges(){DA(this._view)}checkNoChanges(){}get context(){return null}}class Sv extends gc{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=$(a);return new Rl(l,this.ngModule)}}function OC(o){const a=[];for(let l in o)o.hasOwnProperty(l)&&a.push({propName:o[l],templateName:l});return a}class PC{constructor(a,l){this.injector=a,this.parentInjector=l}get(a,l,d){const f=this.injector.get(a,xm,d);return f!==xm||l===xm?f:this.parentInjector.get(a,l,d)}}class Rl extends Ny{constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function wN(o){return o.map(bN).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return OC(this.componentDef.inputs)}get outputs(){return OC(this.componentDef.outputs)}create(a,l,d,f){let m=(f=f||this.ngModule)instanceof Td?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new PC(a,m):a,C=v.get(Vy,null);if(null===C)throw new Se(407,!1);const D=v.get(Mm,null),M=C.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",V=d?function Km(o,a,l){return o.selectRootElement(a,l===ct.ShadowDom)}(M,d,this.componentDef.encapsulation):nv(C.createRenderer(null,this.componentDef),O,function IA(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(O)),Q=this.componentDef.onPush?288:272,le=function Tv(o,a){return{components:[],scheduler:o||Ky,clean:kC,playerHandler:a||null,flags:0}}(),Me=Gd(0,null,null,1,0,null,null,null,null,null),je=mv(null,Me,le,Q,null,null,C,M,D,v,null);let Je,pt;iu(je);try{const Ot=function r1(o,a,l,d,f,m){const v=l[1];l[22]=o;const D=wu(v,22,2,"#host",null),M=D.mergedAttrs=a.hostAttrs;null!==M&&(ng(D,M,!0),null!==o&&(yl(f,o,M),null!==D.classes&&xf(f,o,D.classes),null!==D.styles&&Mf(f,o,D.styles)));const O=d.createRenderer(o,a),V=mv(l,vC(a),null,a.onPush?32:16,l[22],D,d,O,m||null,null,null);return v.firstCreatePass&&(Cl(tr(D,l),v,a.type),bv(v,D),EC(D,l.length,1)),Jm(l,V),l[22]=V}(V,this.componentDef,je,C,M);if(V)if(d)yl(M,V,["ng-version",Rd.full]);else{const{attrs:Be,classes:At}=function CN(o){const a=[],l=[];let d=1,f=2;for(;d<o.length;){let m=o[d];if("string"==typeof m)2===f?""!==m&&a.push(m,o[++d]):8===f&&l.push(m);else{if(!Ua(f))break;f=m}d++}return{attrs:a,classes:l}}(this.componentDef.selectors[0]);Be&&yl(M,V,Be),At&&At.length>0&&xf(M,V,At.join(" "))}if(pt=Da(Me,22),void 0!==l){const Be=pt.projection=[];for(let At=0;At<this.ngContentSelectors.length;At++){const kt=l[At];Be.push(null!=kt?Array.from(kt):null)}}Je=function MA(o,a,l,d,f){const m=l[1],v=function pA(o,a,l){const d=Pn();o.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),DC(o,d,a,zd(o,a,1,null),l),yv(o,d));const f=Ko(a,o,d.directiveStart,d);Ui(f,a);const m=ur(d,a);return m&&Ui(m,a),f}(m,l,a);if(d.components.push(v),o[8]=v,null!==f)for(const D of f)D(v,a);if(a.contentQueries){const D=Pn();a.contentQueries(1,v,D.directiveStart)}const C=Pn();return!m.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(di(C.index),bC(l[1],C,0,C.directiveStart,C.directiveEnd,a),wC(a,v)),v}(Ot,this.componentDef,je,le,[ig]),qm(Me,je,null)}finally{ou()}return new AA(this.componentType,Je,kd(pt,je),je,pt)}}class AA extends class fT{}{constructor(a,l,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new RC(f),this.componentType=a}setInput(a,l){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[a])){const m=this._rootLView;Iv(m[1],m,f,a,l),fA(m,this._tNode.index)}}get injector(){return new Vs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function ig(){const o=Pn();Jh(Pe()[1],o)}function FC(o){let a=function NC(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),l=!0;const d=[o];for(;a;){let f;if(ki(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Se(903,!1);f=a.\u0275dir}if(f){if(l){d.push(f);const v=o;v.inputs=Av(o.inputs),v.declaredInputs=Av(o.declaredInputs),v.outputs=Av(o.outputs);const C=f.hostBindings;C&&OA(o,C);const D=f.viewQuery,M=f.contentQueries;if(D&&sg(o,D),M&&RA(o,M),oe(o.inputs,f.inputs),oe(o.declaredInputs,f.declaredInputs),oe(o.outputs,f.outputs),ki(f)&&f.data.animation){const O=o.data;O.animation=(O.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const C=m[v];C&&C.ngInherit&&C(o),C===FC&&(l=!1)}}a=Object.getPrototypeOf(a)}!function kA(o){let a=0,l=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=a+=f.hostVars,f.hostAttrs=cu(f.hostAttrs,l=cu(l,f.hostAttrs))}}(d)}function Av(o){return o===Un?{}:o===qt?[]:o}function sg(o,a){const l=o.viewQuery;o.viewQuery=l?(d,f)=>{a(d,f),l(d,f)}:a}function RA(o,a){const l=o.contentQueries;o.contentQueries=l?(d,f,m)=>{a(d,f,m),l(d,f,m)}:a}function OA(o,a){const l=o.hostBindings;o.hostBindings=l?(d,f)=>{a(d,f),l(d,f)}:a}let og=null;function Cu(){if(!og){const o=st.Symbol;if(o&&o.iterator)og=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<a.length;++l){const d=a[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(og=d)}}}return og}function qd(o){return!!Mv(o)&&(Array.isArray(o)||!(o instanceof Map)&&Cu()in o)}function Mv(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function qr(o,a,l){return!Object.is(o[a],l)&&(o[a]=l,!0)}function LC(o,a,l,d){const f=Pe();return qr(f,ho(),a)&&(Qt(),ja(Gn(),f,o,a,l,d)),LC}function WA(o,a,l,d,f,m,v,C){const D=Pe(),M=Qt(),O=o+22,V=M.firstCreatePass?function c1(o,a,l,d,f,m,v,C,D){const M=a.consts,O=wu(a,o,4,v||null,ui(M,C));vv(a,l,O,ui(M,D)),Jh(a,O);const V=O.tViews=Gd(2,O,d,f,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,M);return null!==a.queries&&(a.queries.template(a,O),V.queries=a.queries.embeddedTView(O)),O}(O,M,D,a,l,d,f,m,v):M.data[O];ms(V,!1);const Q=D[11].createComment("");sv(M,D,Q,V),Ui(Q,D),Jm(D,D[O]=bA(Q,D,Q,V)),il(V)&&Ym(M,D,V),null!=v&&_v(D,V,C)}function qA(o){return Rs(function om(){return dt.lFrame.contextLView}(),22+o)}function Uf(o,a,l){const d=Pe();return qr(d,ho(),a)&&Do(Qt(),Gn(),d,o,a,d[11],l,!1),Uf}function Sc(o,a,l,d,f){const v=f?"class":"style";Iv(o,l,a.inputs[v],v,d)}function lg(o,a,l,d){const f=Pe(),m=Qt(),v=22+o,C=f[11],D=f[v]=nv(C,a,function au(){return dt.lFrame.currentNamespace}()),M=m.firstCreatePass?function VC(o,a,l,d,f,m,v){const C=a.consts,M=wu(a,o,2,f,ui(C,m));return vv(a,l,M,ui(C,v)),null!==M.attrs&&ng(M,M.attrs,!1),null!==M.mergedAttrs&&ng(M,M.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,M),M}(v,m,f,0,a,l,d):m.data[v];ms(M,!0);const O=M.mergedAttrs;null!==O&&yl(C,D,O);const V=M.classes;null!==V&&xf(C,D,V);const Q=M.styles;return null!==Q&&Mf(C,D,Q),64!=(64&M.flags)&&sv(m,f,D,M),0===function od(){return dt.lFrame.elementDepthCount}()&&Ui(D,f),function co(){dt.lFrame.elementDepthCount++}(),il(M)&&(Ym(m,f,M),yC(m,M,f)),null!==d&&_v(f,M),lg}function Qd(){let o=Pn();Ho()?uo():(o=o.parent,ms(o,!1));const a=o;!function ul(){dt.lFrame.elementDepthCount--}();const l=Qt();return l.firstCreatePass&&(Jh(l,o),ql(o)&&l.queries.elementEnd(o)),null!=a.classesWithoutHost&&function tf(o){return 0!=(16&o.flags)}(a)&&Sc(l,a,Pe(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function cm(o){return 0!=(32&o.flags)}(a)&&Sc(l,a,Pe(),a.stylesWithoutHost,!1),Qd}function BC(o,a,l,d){return lg(o,a,l,d),Qd(),BC}function Rv(o,a,l){const d=Pe(),f=Qt(),m=o+22,v=f.firstCreatePass?function YA(o,a,l,d,f){const m=a.consts,v=ui(m,d),C=wu(a,o,8,"ng-container",v);return null!==v&&ng(C,v,!0),vv(a,l,C,ui(m,f)),null!==a.queries&&a.queries.elementStart(a,C),C}(m,f,d,a,l):f.data[m];ms(v,!0);const C=d[m]=d[11].createComment("");return sv(f,d,C,v),Ui(C,d),il(v)&&(Ym(f,d,v),yC(f,v,d)),null!=l&&_v(d,v),Rv}function Ov(){let o=Pn();const a=Qt();return Ho()?uo():(o=o.parent,ms(o,!1)),a.firstCreatePass&&(Jh(a,o),ql(o)&&a.queries.elementEnd(o)),Ov}function Xd(){return Pe()}function UC(o){return!!o&&"function"==typeof o.then}function Jd(o){return!!o&&"function"==typeof o.subscribe}const ZA=Jd;function $a(o,a,l,d){const f=Pe(),m=Qt(),v=Pn();return XA(m,f,f[11],v,o,a,0,d),$a}function cg(o,a){const l=Pn(),d=Pe(),f=Qt();return XA(f,d,Dv($o(f.data),l,d),l,o,a),cg}function XA(o,a,l,d,f,m,v,C){const D=il(d),O=o.firstCreatePass&&eg(o),V=a[8],Q=Ev(a);let le=!0;if(3&d.type||C){const Je=ur(d,a),pt=C?C(Je):Je,Ot=Q.length,Be=C?kt=>C(Hn(kt[d.index])):d.index;let At=null;if(!C&&D&&(At=function QA(o,a,l,d){const f=o.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===l&&f[m+1]===d){const C=a[7],D=f[m+2];return C.length>D?C[D]:null}"string"==typeof v&&(m+=2)}return null}(o,a,f,d.index)),null!==At)(At.__ngLastListenerFn__||At).__ngNextListenerFn__=m,At.__ngLastListenerFn__=m,le=!1;else{m=Pv(d,a,V,m,!1);const kt=l.listen(pt,f,m);Q.push(m,kt),O&&O.push(f,Be,Ot,Ot+1)}}else m=Pv(d,a,V,m,!1);const Me=d.outputs;let je;if(le&&null!==Me&&(je=Me[f])){const Je=je.length;if(Je)for(let pt=0;pt<Je;pt+=2){const Yn=a[je[pt]][je[pt+1]].subscribe(m),wn=Q.length;Q.push(m,Yn),O&&O.push(f,d.index,wn,-(wn+1))}}}function HC(o,a,l,d){try{return!1!==l(d)}catch(f){return tg(o,f),!1}}function Pv(o,a,l,d,f){return function m(v){if(v===Function)return d;MC(2&o.flags?Cr(o.index,a):a);let D=HC(a,0,d,v),M=m.__ngNextListenerFn__;for(;M;)D=HC(a,0,M,v)&&D,M=M.__ngNextListenerFn__;return f&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function ug(o=1){return function ml(o){return(dt.lFrame.contextLView=function gl(o,a){for(;o>0;)a=a[15],o--;return a}(o,dt.lFrame.contextLView))[8]}(o)}function jC(o,a){let l=null;const d=function gN(o){const a=o.attrs;if(null!=a){const l=a.indexOf(5);if(0==(1&l))return a[l+1]}return null}(o);for(let f=0;f<a.length;f++){const m=a[f];if("*"!==m){if(null===d?HT(o,m,!0):vN(d,m))return f}else l=f}return l}function $C(o){const a=Pe()[16][6];if(!a.projection){const d=a.projection=Xi(o?o.length:1,null),f=d.slice();let m=a.child;for(;null!==m;){const v=o?jC(m,o):0;null!==v&&(f[v]?f[v].projectionNext=m:d[v]=m,f[v]=m),m=m.next}}}function zC(o,a=0,l){const d=Pe(),f=Qt(),m=wu(f,22+o,16,null,l||null);null===m.projection&&(m.projection=a),uo(),64!=(64&m.flags)&&function hN(o,a,l){bu(a[11],0,a,l,K0(o,l,a),Fd(l.parent||a[6],l,a))}(f,d,m)}function Fv(o,a,l,d,f){const m=o[l+1],v=null===a;let C=d?Ha(m):wc(m),D=!1;for(;0!==C&&(!1===D||v);){const O=o[C+1];Du(o[C],a)&&(D=!0,o[C+1]=d?oC(O):iC(O)),C=d?Ha(O):wc(O)}D&&(o[l+1]=d?iC(m):oC(m))}function Du(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&ta(o,a)>=0}function eh(o,a,l){return $s(o,a,l,!1),eh}function JC(o,a){return $s(o,a,null,!0),JC}function $s(o,a,l,d){const f=Pe(),m=Qt(),v=function Ns(o){const a=dt.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,l}(2);m.firstUpdatePass&&function tE(o,a,l,d){const f=o.data;if(null===f[l+1]){const m=f[xr()],v=function eE(o,a){return a>=o.expandoStartIndex}(o,l);(function hM(o,a){return 0!=(o.flags&(a?16:32))})(m,d)&&null===a&&!v&&(a=!1),a=function oM(o,a,l,d){const f=$o(o);let m=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(l=$f(l=jf(null,o,a,l,d),a.attrs,d),m=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==f)if(l=jf(f,o,a,l,d),null===m){let D=function aM(o,a,l){const d=l?a.classBindings:a.styleBindings;if(0!==wc(d))return o[Ha(d)]}(o,a,d);void 0!==D&&Array.isArray(D)&&(D=jf(null,o,a,D[1],d),D=$f(D,a.attrs,d),function lM(o,a,l,d){o[Ha(l?a.classBindings:a.styleBindings)]=d}(o,a,d,D))}else m=function nE(o,a,l){let d;const f=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<f;m++)d=$f(d,o[m].hostAttrs,l);return $f(d,a.attrs,l)}(o,a,d)}return void 0!==m&&(d?a.residualClasses=m:a.residualStyles=m),l}(f,m,a,d),function KC(o,a,l,d,f,m){let v=m?a.classBindings:a.styleBindings,C=Ha(v),D=wc(v);o[d]=l;let O,M=!1;if(Array.isArray(l)){const V=l;O=V[1],(null===O||ta(V,O)>0)&&(M=!0)}else O=l;if(f)if(0!==D){const Q=Ha(o[C+1]);o[d+1]=dv(Q,C),0!==Q&&(o[Q+1]=sC(o[Q+1],d)),o[C+1]=function HN(o,a){return 131071&o|a<<17}(o[C+1],d)}else o[d+1]=dv(C,0),0!==C&&(o[C+1]=sC(o[C+1],d)),C=d;else o[d+1]=dv(D,0),0===C?C=d:o[D+1]=sC(o[D+1],d),D=d;M&&(o[d+1]=iC(o[d+1])),Fv(o,O,d,!0),Fv(o,O,d,!1),function nM(o,a,l,d,f){const m=f?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&ta(m,a)>=0&&(l[d+1]=oC(l[d+1]))}(a,O,o,d,m),v=dv(C,D),m?a.classBindings=v:a.styleBindings=v}(f,m,a,l,v,d)}}(m,o,v,d),a!==Xt&&qr(f,v,a)&&function uM(o,a,l,d,f,m,v,C){if(!(3&a.type))return;const D=o.data,M=D[C+1];Bv(function iA(o){return 1==(1&o)}(M)?dM(D,a,l,f,wc(M),v):void 0)||(Bv(m)||function rA(o){return 2==(2&o)}(M)&&(m=dM(D,null,l,f,C,v)),function $m(o,a,l,d,f){if(a)f?o.addClass(l,d):o.removeClass(l,d);else{let m=-1===d.indexOf("-")?void 0:aa.DashCase;null==f?o.removeStyle(l,d,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=aa.Important),o.setStyle(l,d,f,m))}}(d,v,ll(xr(),l),f,m))}(m,m.data[xr()],f,f[11],o,f[v+1]=function iE(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=ge(js(o)))),o}(a,l),d,v)}function jf(o,a,l,d,f){let m=null;const v=l.directiveEnd;let C=l.directiveStylingLast;for(-1===C?C=l.directiveStart:C++;C<v&&(m=a[C],d=$f(d,m.hostAttrs,f),m!==o);)C++;return null!==o&&(l.directiveStylingLast=C),d}function $f(o,a,l){const d=l?1:2;let f=-1;if(null!==a)for(let m=0;m<a.length;m++){const v=a[m];"number"==typeof v?f=v:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),ei(o,v,!!l||a[++m]))}return void 0===o?null:o}function dM(o,a,l,d,f,m){const v=null===a;let C;for(;f>0;){const D=o[f],M=Array.isArray(D),O=M?D[1]:D,V=null===O;let Q=l[f+1];Q===Xt&&(Q=V?qt:void 0);let le=V?Sl(Q,d):O===d?Q:void 0;if(M&&!Bv(le)&&(le=Sl(D,d)),Bv(le)&&(C=le,v))return C;const Me=o[f+1];f=v?Ha(Me):wc(Me)}if(null!==a){let D=m?a.residualClasses:a.residualStyles;null!=D&&(C=Sl(D,d))}return C}function Bv(o){return void 0!==o}function fM(o,a=""){const l=Pe(),d=Qt(),f=o+22,m=d.firstCreatePass?wu(d,f,1,a,null):d.data[f],v=l[f]=function Vm(o,a){return o.createText(a)}(l[11],a);sv(d,l,v,m),ms(m,!1)}function Uv(o){return pg("",o,""),Uv}function pg(o,a,l){const d=Pe(),f=function Lf(o,a,l,d){return qr(o,ho(),l)?a+Ie(l)+d:Xt}(d,o,a,l);return f!==Xt&&function kl(o,a,l){const d=ll(a,o);!function z0(o,a,l){o.setValue(a,l)}(o[11],d,l)}(d,xr(),f),pg}function gg(o,a,l){const d=Pe();return qr(d,ho(),a)&&Do(Qt(),Gn(),d,o,a,d[11],l,!0),gg}function Gv(o,a,l){const d=Pe();if(qr(d,ho(),a)){const m=Qt(),v=Gn();Do(m,v,d,o,a,Dv($o(m.data),v,d),l,!0)}return Gv}const th=void 0;var D1=["en",[["a","p"],["AM","PM"],th],[["AM","PM"],th,th],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],th,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],th,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",th,"{1} 'at' {0}",th],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function E1(o){const l=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Gf={};function fE(o){const a=function I1(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=TM(a);if(l)return l;const d=a.split("-")[0];if(l=TM(d),l)return l;if("en"===d)return D1;throw new Se(701,!1)}function SM(o){return fE(o)[Rt.PluralCase]}function TM(o){return o in Gf||(Gf[o]=st.ng&&st.ng.common&&st.ng.common.locales&&st.ng.common.locales[o]),Gf[o]}var Rt=(()=>((Rt=Rt||{})[Rt.LocaleId=0]="LocaleId",Rt[Rt.DayPeriodsFormat=1]="DayPeriodsFormat",Rt[Rt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Rt[Rt.DaysFormat=3]="DaysFormat",Rt[Rt.DaysStandalone=4]="DaysStandalone",Rt[Rt.MonthsFormat=5]="MonthsFormat",Rt[Rt.MonthsStandalone=6]="MonthsStandalone",Rt[Rt.Eras=7]="Eras",Rt[Rt.FirstDayOfWeek=8]="FirstDayOfWeek",Rt[Rt.WeekendRange=9]="WeekendRange",Rt[Rt.DateFormat=10]="DateFormat",Rt[Rt.TimeFormat=11]="TimeFormat",Rt[Rt.DateTimeFormat=12]="DateTimeFormat",Rt[Rt.NumberSymbols=13]="NumberSymbols",Rt[Rt.NumberFormats=14]="NumberFormats",Rt[Rt.CurrencyCode=15]="CurrencyCode",Rt[Rt.CurrencySymbol=16]="CurrencySymbol",Rt[Rt.CurrencyName=17]="CurrencyName",Rt[Rt.Currencies=18]="Currencies",Rt[Rt.Directionality=19]="Directionality",Rt[Rt.PluralCase=20]="PluralCase",Rt[Rt.ExtraData=21]="ExtraData",Rt))();const Wf="en-US";let Wv=Wf;function Tg(o,a,l,d,f){if(o=ne(o),Array.isArray(o))for(let m=0;m<o.length;m++)Tg(o[m],a,l,d,f);else{const m=Qt(),v=Pe();let C=oa(o)?o:ne(o.provide),D=T0(o);const M=Pn(),O=1048575&M.providerIndexes,V=M.directiveStart,Q=M.providerIndexes>>20;if(oa(o)||!o.multi){const le=new po(D,f,Rf),Me=nb(C,a,f?O:O+Q,V);-1===Me?(Cl(tr(M,v),m,C),Qf(m,o,a.length),a.push(C),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),l.push(le),v.push(le)):(l[Me]=le,v[Me]=le)}else{const le=nb(C,a,O+Q,V),Me=nb(C,a,O,O+Q),je=le>=0&&l[le],Je=Me>=0&&l[Me];if(f&&!Je||!f&&!je){Cl(tr(M,v),m,C);const pt=function LE(o,a,l,d,f){const m=new po(o,l,Rf);return m.multi=[],m.index=a,m.componentProviders=0,NE(m,f,d&&!l),m}(f?FE:sh,l.length,f,d,D);!f&&Je&&(l[Me].providerFactory=pt),Qf(m,o,a.length,0),a.push(C),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),l.push(pt),v.push(pt)}else Qf(m,o,le>-1?le:Me,NE(l[f?Me:le],D,!f&&d));!f&&d&&Je&&l[Me].componentProviders++}}}function Qf(o,a,l,d){const f=oa(a),m=function oT(o){return!!o.useClass}(a);if(f||m){const D=(m?ne(a.useClass):a).prototype.ngOnDestroy;if(D){const M=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const O=M.indexOf(l);-1===O?M.push(l,[d,D]):M[O+1].push(d,D)}else M.push(l,D)}}}function NE(o,a,l){return l&&o.componentProviders++,o.multi.push(a)-1}function nb(o,a,l,d){for(let f=l;f<d;f++)if(a[f]===o)return f;return-1}function sh(o,a,l,d){return Xf(this.multi,[])}function FE(o,a,l,d){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=Ko(l,l[1],this.providerFactory.index,d);m=C.slice(0,v),Xf(f,m);for(let D=v;D<C.length;D++)m.push(C[D])}else m=[],Xf(f,m);return m}function Xf(o,a){for(let l=0;l<o.length;l++)a.push((0,o[l])());return a}function VE(o,a=[]){return l=>{l.providersResolver=(d,f)=>function PE(o,a,l){const d=Qt();if(d.firstCreatePass){const f=ki(o);Tg(l,d.data,d.blueprint,f,!0),Tg(a,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,a)}}class Mu{}class Jf{}function rb(o,a){return new Ag(o,a??null)}class Ag extends Mu{constructor(a,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sv(this);const d=We(a);this._bootstrapComponents=yc(d.bootstrap),this._r3Injector=KT(a,l,[{provide:Mu,useValue:this},{provide:gc,useValue:this.componentFactoryResolver}],ge(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class ib extends Jf{constructor(a){super(),this.moduleType=a}create(a){return new Ag(this.moduleType,a)}}class HM extends Mu{constructor(a,l,d){super(),this.componentFactoryResolver=new Sv(this),this.instance=null;const f=new S0([...a,{provide:Mu,useValue:this},{provide:gc,useValue:this.componentFactoryResolver}],l||Sm(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function ep(o,a,l=null){return new HM(o,a,l).injector}function qE(o,a,l,d,f,m){const v=a+l;return qr(o,v,f)?function Wr(o,a,l){return o[a]=l}(o,v+1,m?d.call(m,f):d(f)):function tp(o,a){const l=o[a];return l===Xt?void 0:l}(o,v+1)}function Ng(o,a){const l=Qt();let d;const f=o+22;l.firstCreatePass?(d=function qM(o,a){if(a)for(let l=a.length-1;l>=0;l--){const d=a[l];if(o===d.name)return d}}(a,l.pipeRegistry),l.data[f]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(f,d.onDestroy)):d=l.data[f];const m=d.factory||(d.factory=Qi(d.type)),v=un(Rf);try{const C=wl(!1),D=m();return wl(C),function u1(o,a,l,d){l>=o.data.length&&(o.data[l]=null,o.blueprint[l]=null),a[l]=d}(l,Pe(),f,D),D}finally{un(v)}}function fb(o,a,l){const d=o+22,f=Pe(),m=Rs(f,d);return function lh(o,a){return o[1].data[a].pure}(f,d)?qE(f,function Er(){const o=dt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}(),a,m.transform,l,m):m.transform(l)}function xu(o){return a=>{setTimeout(o,void 0,a)}}const ha=class KM extends u.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,d){let f=a,m=l||(()=>null),v=d;if(a&&"object"==typeof a){const D=a;f=D.next?.bind(D),m=D.error?.bind(D),v=D.complete?.bind(D)}this.__isAsync&&(m=xu(m),f&&(f=xu(f)),v&&(v=xu(v)));const C=super.subscribe({next:f,error:m,complete:v});return a instanceof H.w0&&a.add(C),C}};function QE(){return this._results[Cu()]()}class np{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Cu(),d=np.prototype;d[l]||(d[l]=QE)}get changes(){return this._changes||(this._changes=new ha)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const d=this;d.dirty=!1;const f=$r(a);(this._changesDetected=!function yo(o,a,l){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],m=a[d];if(l&&(f=l(f),m=l(m)),m!==f)return!1}return!0}(d._results,f,l))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ac=(()=>{class o{}return o.__NG_ELEMENT_ID__=ch,o})();const ZM=Ac,QM=class extends ZM{constructor(a,l,d){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(a,l){const d=this._declarationTContainer.tViews,f=mv(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,l||null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(d)),qm(d,f,a),new la(f)}};function ch(){return Lg(Pn(),Pe())}function Lg(o,a){return 4&o.type?new QM(a,o,kd(o,a)):null}let Vg=(()=>{class o{}return o.__NG_ELEMENT_ID__=ku,o})();function ku(){return _b(Pn(),Pe())}const XE=Vg,rp=class extends XE{constructor(a,l,d){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=d}get element(){return kd(this._hostTNode,this._hostLView)}get injector(){return new Vs(this._hostTNode,this._hostLView)}get parentInjector(){const a=sc(this._hostTNode,this._hostLView);if(af(a)){const l=Go(a,this._hostLView),d=ic(a);return new Vs(l[1].data[d+8],l)}return new Vs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=gb(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,l,d){let f,m;"number"==typeof d?f=d:null!=d&&(f=d.index,m=d.injector);const v=a.createEmbeddedView(l||{},m);return this.insert(v,f),v}createComponent(a,l,d,f,m){const v=a&&!function Jr(o){return"function"==typeof o}(a);let C;if(v)C=l;else{const V=l||{};C=V.index,d=V.injector,f=V.projectableNodes,m=V.environmentInjector||V.ngModuleRef}const D=v?a:new Rl($(a)),M=d||this.parentInjector;if(!m&&null==D.ngModule){const Q=(v?M:this.parentInjector).get(Td,null);Q&&(m=Q)}const O=D.create(M,f,void 0,m);return this.insert(O.hostView,C),O}insert(a,l){const d=a._lView,f=d[1];if(function Zc(o){return Ur(o[3])}(d)){const O=this.indexOf(a);if(-1!==O)this.detach(O);else{const V=d[3],Q=new rp(V,V[6],V[3]);Q.detach(Q.indexOf(a))}}const m=this._adjustIndex(l),v=this._lContainer;!function W0(o,a,l,d){const f=10+d,m=l.length;d>0&&(l[f-1][4]=a),d<m-10?(a[4]=l[f],md(l,10+d,a)):(l.push(a),a[4]=null),a[3]=l;const v=a[17];null!==v&&l!==v&&function rv(o,a){const l=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===l?o[9]=[a]:l.push(a)}(v,a);const C=a[19];null!==C&&C.insertView(o),a[2]|=64}(f,d,v,m);const C=av(m,v),D=d[11],M=Um(D,v[7]);return null!==M&&function VT(o,a,l,d,f,m){d[0]=f,d[6]=a,jm(o,d,l,1,f,m)}(f,v[6],D,d,M,C),a.attachToViewContainerRef(),md(Ru(v),m,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=gb(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),d=q0(this._lContainer,l);d&&(vo(Ru(this._lContainer),l),yu(d[1],d))}detach(a){const l=this._adjustIndex(a,-1),d=q0(this._lContainer,l);return d&&null!=vo(Ru(this._lContainer),l)?new la(d):null}_adjustIndex(a,l=0){return a??this.length+l}};function gb(o){return o[8]}function Ru(o){return o[8]||(o[8]=[])}function _b(o,a){let l;const d=a[o.index];if(Ur(d))l=d;else{let f;if(8&o.type)f=Hn(d);else{const m=a[11];f=m.createComment("");const v=ur(o,a);Ba(m,Um(m,v),f,function BT(o,a){return o.nextSibling(a)}(m,v),!1)}a[o.index]=l=bA(d,a,f,o),Jm(a,l)}return new rp(l,o,a)}class uh{constructor(a){this.queryList=a,this.matches=null}clone(){return new uh(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ug{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const d=null!==a.contentQueries?a.contentQueries[0]:l.length,f=[];for(let m=0;m<d;m++){const v=l.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new Ug(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==nD(a,l).matches&&this.queries[l].setDirty()}}class Hg{constructor(a,l,d=null){this.predicate=a,this.flags=l,this.read=d}}class jg{constructor(a=[]){this.queries=a}elementStart(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let d=0;d<this.length;d++){const f=null!==l?l.length:0,m=this.getByIndex(d).embeddedTView(a,f);m&&(m.indexInDeclarationView=d,null!==l?l.push(m):l=[m])}return null!==l?new jg(l):null}template(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class $g{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new $g(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(a,l,ip(l,m)),this.matchTNodeWithReadOption(a,l,_s(l,a,m,!1,!1))}else d===Ac?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,_s(l,a,d,!1,!1))}matchTNodeWithReadOption(a,l,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Cf||f===Vg||f===Ac&&4&l.type)this.addMatch(l.index,-2);else{const m=_s(l,a,f,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,d)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function ip(o,a){const l=o.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===a)return l[d+1];return null}function vb(o,a,l,d){return-1===l?function yb(o,a){return 11&o.type?kd(o,a):4&o.type?Lg(o,a):null}(a,o):-2===l?function bb(o,a,l){return l===Cf?kd(a,o):l===Ac?Lg(a,o):l===Vg?_b(a,o):void 0}(o,a,d):Ko(o,o[1],l,a)}function sp(o,a,l,d){const f=a[19].queries[d];if(null===f.matches){const m=o.data,v=l.matches,C=[];for(let D=0;D<v.length;D+=2){const M=v[D];C.push(M<0?null:vb(a,m[M],v[D+1],l.metadata.read))}f.matches=C}return f.matches}function Ou(o,a,l,d){const f=o.queries.getByIndex(l),m=f.matches;if(null!==m){const v=sp(o,a,f,l);for(let C=0;C<m.length;C+=2){const D=m[C];if(D>0)d.push(v[C/2]);else{const M=m[C+1],O=a[-D];for(let V=10;V<O.length;V++){const Q=O[V];Q[17]===Q[3]&&Ou(Q[1],Q,M,d)}if(null!==O[9]){const V=O[9];for(let Q=0;Q<V.length;Q++){const le=V[Q];Ou(le[1],le,M,d)}}}}}return d}function wb(o){const a=Pe(),l=Qt(),d=ld();zo(d+1);const f=nD(l,d);if(o.dirty&&lo(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const m=f.crossesNgTemplate?Ou(l,a,d,[]):sp(l,a,f,d);o.reset(m,_T),o.notifyOnChanges()}return!0}return!1}function eD(o,a,l){const d=Qt();d.firstCreatePass&&(Db(d,new Hg(o,a,l),-1),2==(2&a)&&(d.staticViewQueries=!0)),Eb(d,Pe(),a)}function zg(o,a,l,d){const f=Qt();if(f.firstCreatePass){const m=Pn();Db(f,new Hg(a,l,d),m.index),function tD(o,a){const l=o.contentQueries||(o.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,a)}(f,o),2==(2&l)&&(f.staticContentQueries=!0)}Eb(f,Pe(),l)}function op(){return function Cb(o,a){return o[19].queries[a].queryList}(Pe(),ld())}function Eb(o,a,l){const d=new np(4==(4&l));Zm(o,a,d,d.destroy),null===a[19]&&(a[19]=new Ug),a[19].queries.push(new uh(d))}function Db(o,a,l){null===o.queries&&(o.queries=new jg),o.queries.track(new $g(a,l))}function nD(o,a){return o.queries.getByIndex(a)}function Ll(o){const a=$(o)||z(o)||De(o);return null!==a&&a.standalone}function s_(...o){}const gD=new fn("Application Initializer");let dp=(()=>{class o{constructor(l){this.appInits=l,this.resolve=s_,this.reject=s_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(UC(m))l.push(m);else if(ZA(m)){const v=new Promise((C,D)=>{m.subscribe({complete:C,error:D})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(f=>{this.reject(f)}),0===l.length&&d(),this.initialized=!0}}return o.\u0275fac=function(l){return new(l||o)(Wn(gD,8))},o.\u0275prov=sn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const kb=new fn("AppId",{providedIn:"root",factory:function Rb(){return`${o_()}${o_()}${o_()}`}});function o_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ya=new fn("Platform Initializer"),_D=new fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),yD=new fn("appBootstrapListener"),hp=new fn("AnimationModuleType");let bD=(()=>{class o{log(l){console.log(l)}warn(l){console.warn(l)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=sn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Vu=new fn("LocaleId",{providedIn:"root",factory:()=>na(Vu,vt.Optional|vt.SkipSelf)||function Pb(){return typeof $localize<"u"&&$localize.locale||Wf}()}),wD=new fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ED{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let fp=(()=>{class o{compileModuleSync(l){return new ib(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),m=yc(We(l).declarations).reduce((v,C)=>{const D=$(C);return D&&v.push(new Rl(D)),v},[]);return new ED(d,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=sn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const ID=(()=>Promise.resolve(0))();function Vl(o){typeof Zone>"u"?ID.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class ws{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ha(!1),this.onMicrotaskEmpty=new ha(!1),this.onStable=new ha(!1),this.onError=new ha(!1),typeof Zone>"u")throw new Se(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&l,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function SD(){let o=st.requestAnimationFrame,a=st.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function zs(o){const a=()=>{!function c_(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(st,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,u_(o),o.isCheckStableRunning=!0,l_(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),u_(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,f,m,v,C)=>{try{return Bb(o),l.invokeTask(f,m,v,C)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),Bu(o)}},onInvoke:(l,d,f,m,v,C,D)=>{try{return Bb(o),l.invoke(f,m,v,C,D)}finally{o.shouldCoalesceRunChangeDetection&&a(),Bu(o)}},onHasTask:(l,d,f,m)=>{l.hasTask(f,m),d===f&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,u_(o),l_(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,d,f,m)=>(l.handleError(f,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ws.isInAngularZone())throw new Se(909,!1)}static assertNotInAngularZone(){if(ws.isInAngularZone())throw new Se(909,!1)}run(a,l,d){return this._inner.run(a,l,d)}runTask(a,l,d,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,a,TD,s_,s_);try{return m.runTask(v,l,d)}finally{m.cancelTask(v)}}runGuarded(a,l,d){return this._inner.runGuarded(a,l,d)}runOutsideAngular(a){return this._outer.run(a)}}const TD={};function l_(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function u_(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Bb(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Bu(o){o._nesting--,l_(o)}class ox{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ha,this.onMicrotaskEmpty=new ha,this.onStable=new ha,this.onError=new ha}run(a,l,d){return a.apply(l,d)}runGuarded(a,l,d){return a.apply(l,d)}runOutsideAngular(a){return a()}runTask(a,l,d,f){return a.apply(l,d)}}const AD=new fn(""),d_=new fn("");let Ub,ax=(()=>{class o{constructor(l,d,f){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ub||(function xD(o){Ub=o}(f),f.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ws.assertNotInAngularZone(),Vl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Vl(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:f})}whenStable(l,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,f){return[]}}return o.\u0275fac=function(l){return new(l||o)(Wn(ws),Wn(MD),Wn(d_))},o.\u0275prov=sn({token:o,factory:o.\u0275fac}),o})(),MD=(()=>{class o{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return Ub?.findTestabilityInTree(this,l,d)??null}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=sn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),fa=null;const kD=new fn("AllowMultipleToken"),h_=new fn("PlatformDestroyListeners");class lx{constructor(a,l){this.name=a,this.token=l}}function mt(o,a,l=[]){const d=`Platform: ${a}`,f=new fn(d);return(m=[])=>{let v=ye();if(!v||v.injector.get(kD,!1)){const C=[...l,...m,{provide:f,useValue:!0}];o?o(C):function ze(o){if(fa&&!fa.get(kD,!1))throw new Se(400,!1);fa=o;const a=o.get(Ue);(function kc(o){const a=o.get(Ya,null);a&&a.forEach(l=>l())})(o)}(function OD(o=[],a){return Ud.create({name:a,providers:[{provide:Ry,useValue:"platform"},{provide:h_,useValue:new Set([()=>fa=null])},...o]})}(C,d))}return function Bt(o){const a=ye();if(!a)throw new Se(401,!1);return a}()}}function ye(){return fa?.get(Ue)??null}let Ue=(()=>{class o{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const f=function PD(o,a){let l;return l="noop"===o?new ox:("zone.js"===o?void 0:o)||new ws(a),l}(d?.ngZone,function ri(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:ws,useValue:f}];return f.run(()=>{const v=Ud.create({providers:m,parent:this.injector,name:l.moduleType.name}),C=l.create(v),D=C.injector.get(Ef,null);if(!D)throw new Se(402,!1);return f.runOutsideAngular(()=>{const M=f.onError.subscribe({next:O=>{D.handleError(O)}});C.onDestroy(()=>{p_(this._modules,C),M.unsubscribe()})}),function ND(o,a,l){try{const d=l();return UC(d)?d.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(D,f,()=>{const M=C.injector.get(dp);return M.runInitializers(),M.donePromise.then(()=>(function qv(o){Jt(o,"Expected localeId to be defined"),"string"==typeof o&&(Wv=o.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Vu,Wf)||Wf),this._moduleDoBootstrap(C),C))})})}bootstrapModule(l,d=[]){const f=FD({},d);return function ph(o,a,l){const d=new ib(l);return Promise.resolve(d)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(l){const d=l.injector.get(f_);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new Se(403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Se(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(h_,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(l){return new(l||o)(Wn(Ud))},o.\u0275prov=sn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function FD(o,a){return Array.isArray(a)?a.reduce(FD,o):{...o,...a}}let f_=(()=>{class o{constructor(l,d,f){this._zone=l,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new P.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new P.y(C=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{ws.assertNotInAngularZone(),Vl(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{ws.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{D.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ue.T)(m,v.pipe((0,fe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const f=l instanceof Ny;if(!this._injector.get(dp).done)throw!f&&Ll(l),new Se(405,false);let v;v=f?l:this._injector.get(gc).resolveComponentFactory(l),this.componentTypes.push(v.componentType);const C=function Hb(o){return o.isBoundToModule}(v)?void 0:this._injector.get(Mu),M=v.create(Ud.NULL,[],d||v.selector,C),O=M.location.nativeElement,V=M.injector.get(AD,null);return V?.registerApplication(O),M.onDestroy(()=>{this.detachView(M.hostView),p_(this.components,M),V?.unregisterApplication(O)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new Se(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;p_(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(yD,[]).concat(this._bootstrapListeners).forEach(f=>f(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>p_(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Se(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(l){return new(l||o)(Wn(ws),Wn(Td),Wn(Ef))},o.\u0275prov=sn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function p_(o,a){const l=o.indexOf(a);l>-1&&o.splice(l,1)}let BD=!0,cx=!1;function ux(){return cx=!0,BD}function UD(){if(cx)throw new Error("Cannot enable prod mode after platform setup.");BD=!1}let sr=(()=>{class o{}return o.__NG_ELEMENT_ID__=Ft,o})();function Ft(o){return function mp(o,a,l){if(xs(o)&&!l){const d=Cr(o.index,a);return new la(d,d)}return 47&o.type?new la(a[16],a):null}(Pn(),Pe(),16==(16&o))}class $D{constructor(){}supports(a){return qd(a)}create(a){return new Rc(a)}}const gp=(o,a)=>a;class Rc{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||gp}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,d=this._removalsHead,f=0,m=null;for(;l||d;){const v=!d||l&&l.currentIndex<v_(d,f,m)?l:d,C=v_(v,f,m),D=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)f++;else{m||(m=[]);const M=C-f,O=D-f;if(M!=O){for(let Q=0;Q<M;Q++){const le=Q<m.length?m[Q]:m[Q]=0,Me=le+Q;O<=Me&&Me<M&&(m[Q]=le+1)}m[v.previousIndex]=O-M}}C!==D&&a(v,C,D)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!qd(a))throw new Se(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,m,v,l=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let C=0;C<this.length;C++)m=a[C],v=this._trackByFn(C,m),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,m,v,C)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,v,C),d=!0),l=l._next}else f=0,function LA(o,a){if(Array.isArray(o))for(let l=0;l<o.length;l++)a(o[l]);else{const l=o[Cu()]();let d;for(;!(d=l.next()).done;)a(d.value)}}(a,C=>{v=this._trackByFn(f,C),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,C,v,f)),Object.is(l.item,C)||this._addIdentityChange(l,C)):(l=this._mismatch(l,C,v,f),d=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,d,f){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,m,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,m,f)):a=this._addAfter(new hx(l,d),m,f),a}_verifyReinsertion(a,l,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?a=this._reinsertAfter(m,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,m=a._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(a,l,d),this._addToMoves(a,d),a}_moveAfter(a,l,d){return this._unlink(a),this._insertAfter(a,l,d),this._addToMoves(a,d),a}_addAfter(a,l,d){return this._insertAfter(a,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,d){const f=null===l?this._itHead:l._next;return a._next=f,a._prev=l,null===f?this._itTail=a:f._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new Yb),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,d=a._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Yb),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class hx{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Hu{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const l=a._prevDup,d=a._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class Yb{constructor(){this.map=new Map}put(a){const l=a.trackById;let d=this.map.get(l);d||(d=new Hu,this.map.set(l,d)),d.add(a)}get(a,l){const f=this.map.get(a);return f?f.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function v_(o,a,l){const d=o.previousIndex;if(null===d)return d;let f=0;return l&&d<l.length&&(f=l[d]),d+a+f}class zD{constructor(){}supports(a){return a instanceof Map||Mv(a)}create(){return new fx}}class fx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||Mv(a)))throw new Se(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(f,d);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const d=a._prev;return l._next=a,l._prev=d,a._prev=l,d&&(d._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,l);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const d=new Cs(a);return this._records.set(a,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(d=>l(a[d],d))}}class Cs{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Kb(){return new Bl([new $D])}let Bl=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(null!=d){const f=d.factories.slice();l=l.concat(f)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||Kb()),deps:[[o,new Ze,new he]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(null!=d)return d;throw new Se(901,!1)}}return o.\u0275prov=sn({token:o,providedIn:"root",factory:Kb}),o})();function mr(){return new mh([new zD])}let mh=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(d){const f=d.factories.slice();l=l.concat(f)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||mr()),deps:[[o,new Ze,new he]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(d)return d;throw new Se(901,!1)}}return o.\u0275prov=sn({token:o,providedIn:"root",factory:mr}),o})();const Gs=mt(null,"core",[]);let gx=(()=>{class o{constructor(l){}}return o.\u0275fac=function(l){return new(l||o)(Wn(f_))},o.\u0275mod=It({type:o}),o.\u0275inj=Wt({}),o})();function ii(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(_t,Re,F)=>{F.d(Re,{Z:()=>Se});var u=F(2090),H=F(4859),P=F(9681),ue=F(1877);class fe{constructor(Ie,be){this._delegate=Ie,this.firebase=be,(0,P._addComponent)(Ie,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=Ie.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this._delegate.automaticDataCollectionEnabled=Ie}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ie=>{this._delegate.checkDestroyed(),Ie()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(Ie,be=P._DEFAULT_ENTRY_NAME){var nt;this._delegate.checkDestroyed();const rt=this._delegate.container.getProvider(Ie);return!rt.isInitialized()&&"EXPLICIT"===(null===(nt=rt.getComponent())||void 0===nt?void 0:nt.instantiationMode)&&rt.initialize(),rt.getImmediate({identifier:be})}_removeServiceInstance(Ie,be=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ie).clearInstance(be)}_addComponent(Ie){(0,P._addComponent)(this._delegate,Ie)}_addOrOverwriteComponent(Ie){(0,P._addOrOverwriteComponent)(this._delegate,Ie)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function Ee(){const at=function ge(at){const Ie={},be={__esModule:!0,initializeApp:function Le(ce,pe={}){const Ce=P.initializeApp(ce,pe);if((0,u.r3)(Ie,Ce.name))return Ie[Ce.name];const te=new at(Ce,be);return Ie[Ce.name]=te,te},app:rt,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Ae(ce){const pe=ce.name,Ce=pe.replace("-compat","");if(P._registerComponent(ce)&&"PUBLIC"===ce.type){const te=(ie=rt())=>{if("function"!=typeof ie[Ce])throw oe.create("invalid-app-argument",{appName:pe});return ie[Ce]()};void 0!==ce.serviceProps&&(0,u.ZB)(te,ce.serviceProps),be[Ce]=te,at.prototype[Ce]=function(...ie){return this._getService.bind(this,pe).apply(this,ce.multipleInstances?ie:[])}}return"PUBLIC"===ce.type?be[Ce]:null},removeApp:function nt(ce){delete Ie[ce]},useAsService:function Ke(ce,pe){return"serverAuth"===pe?null:pe},modularAPIs:P}};function rt(ce){if(!(0,u.r3)(Ie,ce=ce||P._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:ce});return Ie[ce]}return be.default=be,Object.defineProperty(be,"apps",{get:function Fe(){return Object.keys(Ie).map(ce=>Ie[ce])}}),rt.App=at,be}(fe);return at.INTERNAL=Object.assign(Object.assign({},at.INTERNAL),{createFirebaseNamespace:Ee,extendNamespace:function Ie(be){(0,u.ZB)(at,be)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),at}(),q=new ue.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const at=self.firebase.SDK_VERSION;at&&at.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Se=W;!function Ve(at){(0,P.registerVersion)("@firebase/app-compat","0.1.31",at)}()},9681:(_t,Re,F)=>{F.r(Re),F.d(Re,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>Ai,_DEFAULT_ENTRY_NAME:()=>Jt,_addComponent:()=>cn,_addOrOverwriteComponent:()=>sn,_apps:()=>En,_clearComponents:()=>Js,_components:()=>Kn,_getProvider:()=>Wt,_registerComponent:()=>en,_removeServiceInstance:()=>Kr,deleteApp:()=>vt,getApp:()=>Jn,getApps:()=>us,initializeApp:()=>Mi,onLog:()=>un,registerVersion:()=>Qr,setLogLevel:()=>_r});var u=F(5861),H=F(4859),P=F(1877),ue=F(2090),fe=F(8766);class we{constructor(Y){this.container=Y}getPlatformInfoString(){return this.container.getProviders().map(K=>{if(function oe(j){return"VERSION"===j.getComponent()?.type}(K)){const ke=K.getImmediate();return`${ke.library}/${ke.version}`}return null}).filter(K=>K).join(" ")}}const ge="@firebase/app",W=new P.Yd("@firebase/app"),Jt="[DEFAULT]",Qe={[ge]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},En=new Map,Kn=new Map;function cn(j,Y){try{j.container.addComponent(Y)}catch(K){W.debug(`Component ${Y.name} failed to register with FirebaseApp ${j.name}`,K)}}function sn(j,Y){j.container.addOrOverwriteComponent(Y)}function en(j){const Y=j.name;if(Kn.has(Y))return W.debug(`There were multiple attempts to register component ${Y}.`),!1;Kn.set(Y,j);for(const K of En.values())cn(K,j);return!0}function Wt(j,Y){const K=j.container.getProvider("heartbeat").getImmediate({optional:!0});return K&&K.triggerHeartbeat(),j.container.getProvider(Y)}function Kr(j,Y,K=Jt){Wt(j,Y).clearInstance(K)}function Js(){Kn.clear()}const Vn=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class cs{constructor(Y,K,ke){this._isDeleted=!1,this._options=Object.assign({},Y),this._config=Object.assign({},K),this._name=K.name,this._automaticDataCollectionEnabled=K.automaticDataCollectionEnabled,this._container=ke,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Y){this.checkDestroyed(),this._automaticDataCollectionEnabled=Y}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Y){this._isDeleted=Y}checkDestroyed(){if(this.isDeleted)throw Vn.create("app-deleted",{appName:this._name})}}const Ai="9.9.2";function Mi(j,Y={}){"object"!=typeof Y&&(Y={name:Y});const K=Object.assign({name:Jt,automaticDataCollectionEnabled:!1},Y),ke=K.name;if("string"!=typeof ke||!ke)throw Vn.create("bad-app-name",{appName:String(ke)});const Ye=En.get(ke);if(Ye){if((0,ue.vZ)(j,Ye.options)&&(0,ue.vZ)(K,Ye.config))return Ye;throw Vn.create("duplicate-app",{appName:ke})}const It=new H.H0(ke);for(const hn of Kn.values())It.addComponent(hn);const pn=new cs(j,K,It);return En.set(ke,pn),pn}function Jn(j=Jt){const Y=En.get(j);if(!Y)throw Vn.create("no-app",{appName:j});return Y}function us(){return Array.from(En.values())}function vt(j){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,u.Z)(function*(j){const Y=j.name;En.has(Y)&&(En.delete(Y),yield Promise.all(j.container.getProviders().map(K=>K.delete())),j.isDeleted=!0)})).apply(this,arguments)}function Qr(j,Y,K){var ke;let Ye=null!==(ke=Qe[j])&&void 0!==ke?ke:j;K&&(Ye+=`-${K}`);const It=Ye.match(/\s|\//),pn=Y.match(/\s|\//);if(It||pn){const hn=[`Unable to register library "${Ye}" with version "${Y}":`];return It&&hn.push(`library name "${Ye}" contains illegal characters (whitespace or "/")`),It&&pn&&hn.push("and"),pn&&hn.push(`version name "${Y}" contains illegal characters (whitespace or "/")`),void W.warn(hn.join(" "))}en(new H.wA(`${Ye}-version`,()=>({library:Ye,version:Y}),"VERSION"))}function un(j,Y){if(null!==j&&"function"!=typeof j)throw Vn.create("invalid-log-argument");(0,P.Am)(j,Y)}function _r(j){(0,P.Ub)(j)}const bn="firebase-heartbeat-store";let _i=null;function Tn(){return _i||(_i=(0,fe.X3)("firebase-heartbeat-database",1,{upgrade:(j,Y)=>{0===Y&&j.createObjectStore(bn)}}).catch(j=>{throw Vn.create("idb-open",{originalErrorMessage:j.message})})),_i}function st(){return(st=(0,u.Z)(function*(j){var Y;try{return(yield Tn()).transaction(bn).objectStore(bn).get(Un(j))}catch(K){if(K instanceof ue.ZR)W.warn(K.message);else{const ke=Vn.create("idb-get",{originalErrorMessage:null===(Y=K)||void 0===Y?void 0:Y.message});W.warn(ke.message)}}})).apply(this,arguments)}function Bn(j,Y){return oi.apply(this,arguments)}function oi(){return(oi=(0,u.Z)(function*(j,Y){var K;try{const Ye=(yield Tn()).transaction(bn,"readwrite");return yield Ye.objectStore(bn).put(Y,Un(j)),Ye.done}catch(ke){if(ke instanceof ue.ZR)W.warn(ke.message);else{const Ye=Vn.create("idb-set",{originalErrorMessage:null===(K=ke)||void 0===K?void 0:K.message});W.warn(Ye.message)}}})).apply(this,arguments)}function Un(j){return`${j.name}!${j.options.appId}`}class ai{constructor(Y){this.container=Y,this._heartbeatsCache=null;const K=this.container.getProvider("app").getImmediate();this._storage=new Lt(K),this._heartbeatsCachePromise=this._storage.read().then(ke=>(this._heartbeatsCache=ke,ke))}triggerHeartbeat(){var Y=this;return(0,u.Z)(function*(){const ke=Y.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ye=Ut();if(null===Y._heartbeatsCache&&(Y._heartbeatsCache=yield Y._heartbeatsCachePromise),Y._heartbeatsCache.lastSentHeartbeatDate!==Ye&&!Y._heartbeatsCache.heartbeats.some(It=>It.date===Ye))return Y._heartbeatsCache.heartbeats.push({date:Ye,agent:ke}),Y._heartbeatsCache.heartbeats=Y._heartbeatsCache.heartbeats.filter(It=>{const pn=new Date(It.date).valueOf();return Date.now()-pn<=2592e6}),Y._storage.overwrite(Y._heartbeatsCache)})()}getHeartbeatsHeader(){var Y=this;return(0,u.Z)(function*(){if(null===Y._heartbeatsCache&&(yield Y._heartbeatsCachePromise),null===Y._heartbeatsCache||0===Y._heartbeatsCache.heartbeats.length)return"";const K=Ut(),{heartbeatsToSend:ke,unsentEntries:Ye}=function xi(j,Y=1024){const K=[];let ke=j.slice();for(const Ye of j){const It=K.find(pn=>pn.agent===Ye.agent);if(It){if(It.dates.push(Ye.date),J(K)>Y){It.dates.pop();break}}else if(K.push({agent:Ye.agent,dates:[Ye.date]}),J(K)>Y){K.pop();break}ke=ke.slice(1)}return{heartbeatsToSend:K,unsentEntries:ke}}(Y._heartbeatsCache.heartbeats),It=(0,ue.L)(JSON.stringify({version:2,heartbeats:ke}));return Y._heartbeatsCache.lastSentHeartbeatDate=K,Ye.length>0?(Y._heartbeatsCache.heartbeats=Ye,yield Y._storage.overwrite(Y._heartbeatsCache)):(Y._heartbeatsCache.heartbeats=[],Y._storage.overwrite(Y._heartbeatsCache)),It})()}}function Ut(){return(new Date).toISOString().substring(0,10)}class Lt{constructor(Y){this.app=Y,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Y=this;return(0,u.Z)(function*(){return(yield Y._canUseIndexedDBPromise)&&(yield function ct(j){return st.apply(this,arguments)}(Y.app))||{heartbeats:[]}})()}overwrite(Y){var K=this;return(0,u.Z)(function*(){var ke;if(yield K._canUseIndexedDBPromise){const It=yield K.read();return Bn(K.app,{lastSentHeartbeatDate:null!==(ke=Y.lastSentHeartbeatDate)&&void 0!==ke?ke:It.lastSentHeartbeatDate,heartbeats:Y.heartbeats})}})()}add(Y){var K=this;return(0,u.Z)(function*(){var ke;if(yield K._canUseIndexedDBPromise){const It=yield K.read();return Bn(K.app,{lastSentHeartbeatDate:null!==(ke=Y.lastSentHeartbeatDate)&&void 0!==ke?ke:It.lastSentHeartbeatDate,heartbeats:[...It.heartbeats,...Y.heartbeats]})}})()}}function J(j){return(0,ue.L)(JSON.stringify({version:2,heartbeats:j})).length}!function G(j){en(new H.wA("platform-logger",Y=>new we(Y),"PRIVATE")),en(new H.wA("heartbeat",Y=>new ai(Y),"PRIVATE")),Qr(ge,"0.7.30",j),Qr(ge,"0.7.30","esm2017"),Qr("fire-js","")}("")},4859:(_t,Re,F)=>{F.d(Re,{H0:()=>ge,wA:()=>P});var u=F(5861),H=F(2090);class P{constructor(W,q,ne){this.name=W,this.instanceFactory=q,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const ue="[DEFAULT]";class fe{constructor(W,q){this.name=W,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const q=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(q)){const ne=new H.BH;if(this.instancesDeferred.set(q,ne),this.isInitialized(q)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:q});Ge&&ne.resolve(Ge)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(W){var q;const ne=this.normalizeInstanceIdentifier(W?.identifier),Ge=null!==(q=W?.optional)&&void 0!==q&&q;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(Ve){if(Ge)return null;throw Ve}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function oe(Ee){return"EAGER"===Ee.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:ue})}catch{}for(const[q,ne]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(q);try{const Ve=this.getOrInitializeService({instanceIdentifier:Ge});ne.resolve(Ve)}catch{}}}}clearInstance(W=ue){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,u.Z)(function*(){const q=Array.from(W.instances.values());yield Promise.all([...q.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...q.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=ue){return this.instances.has(W)}getOptions(W=ue){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:q={}}=W,ne=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:ne,options:q});for(const[Ve,Se]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(Ve)&&Se.resolve(Ge);return Ge}onInit(W,q){var ne;const Ge=this.normalizeInstanceIdentifier(q),Ve=null!==(ne=this.onInitCallbacks.get(Ge))&&void 0!==ne?ne:new Set;Ve.add(W),this.onInitCallbacks.set(Ge,Ve);const Se=this.instances.get(Ge);return Se&&W(Se,Ge),()=>{Ve.delete(W)}}invokeOnInitCallbacks(W,q){const ne=this.onInitCallbacks.get(q);if(ne)for(const Ge of ne)try{Ge(W,q)}catch{}}getOrInitializeService({instanceIdentifier:W,options:q={}}){let ne=this.instances.get(W);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=W,Ee===ue?void 0:Ee),options:q}),this.instances.set(W,ne),this.instancesOptions.set(W,q),this.invokeOnInitCallbacks(ne,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,ne)}catch{}var Ee;return ne||null}normalizeInstanceIdentifier(W=ue){return this.component?this.component.multipleInstances?W:ue:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ge{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const q=this.getProvider(W.name);if(q.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);q.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const q=new fe(W,this);return this.providers.set(W,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(_t,Re,F)=>{F.d(Re,{Am:()=>Ee,Ub:()=>ge,Yd:()=>oe,in:()=>H});const u=[];var H=(()=>{return(W=H||(H={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",H;var W})();const P={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},ue=H.INFO,fe={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},we=(W,q,...ne)=>{if(q<W.logLevel)return;const Ge=(new Date).toISOString(),Ve=fe[q];if(!Ve)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Ve](`[${Ge}]  ${W.name}:`,...ne)};class oe{constructor(q){this.name=q,this._logLevel=ue,this._logHandler=we,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in H))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?P[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...q),this._logHandler(this,H.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...q),this._logHandler(this,H.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,H.INFO,...q),this._logHandler(this,H.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,H.WARN,...q),this._logHandler(this,H.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...q),this._logHandler(this,H.ERROR,...q)}}function ge(W){u.forEach(q=>{q.setLogLevel(W)})}function Ee(W,q){for(const ne of u){let Ge=null;q&&q.level&&(Ge=P[q.level]),ne.userLogHandler=null===W?null:(Ve,Se,...at)=>{const Ie=at.map(be=>{if(null==be)return null;if("string"==typeof be)return be;if("number"==typeof be||"boolean"==typeof be)return be.toString();if(be instanceof Error)return be.message;try{return JSON.stringify(be)}catch{return null}}).filter(be=>be).join(" ");Se>=(Ge??Ve.logLevel)&&W({level:H[Se].toLowerCase(),message:Ie,args:at,type:Ve.name})}}}},8766:(_t,Re,F)=>{F.d(Re,{Lj:()=>Le,X3:()=>rt});var u=F(5861);let P,ue;const oe=new WeakMap,ge=new WeakMap,Ee=new WeakMap,W=new WeakMap,q=new WeakMap;let Ve={get(pe,Ce,te){if(pe instanceof IDBTransaction){if("done"===Ce)return ge.get(pe);if("objectStoreNames"===Ce)return pe.objectStoreNames||Ee.get(pe);if("store"===Ce)return te.objectStoreNames[1]?void 0:te.objectStore(te.objectStoreNames[0])}return be(pe[Ce])},set:(pe,Ce,te)=>(pe[Ce]=te,!0),has:(pe,Ce)=>pe instanceof IDBTransaction&&("done"===Ce||"store"===Ce)||Ce in pe};function Ie(pe){return"function"==typeof pe?function at(pe){return pe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(pe)?function(...Ce){return pe.apply(nt(this),Ce),be(oe.get(this))}:function(...Ce){return be(pe.apply(nt(this),Ce))}:function(Ce,...te){const ie=pe.call(nt(this),Ce,...te);return Ee.set(ie,Ce.sort?Ce.sort():[Ce]),be(ie)}}(pe):(pe instanceof IDBTransaction&&function Ge(pe){if(ge.has(pe))return;const Ce=new Promise((te,ie)=>{const _e=()=>{pe.removeEventListener("complete",de),pe.removeEventListener("error",He),pe.removeEventListener("abort",He)},de=()=>{te(),_e()},He=()=>{ie(pe.error||new DOMException("AbortError","AbortError")),_e()};pe.addEventListener("complete",de),pe.addEventListener("error",He),pe.addEventListener("abort",He)});ge.set(pe,Ce)}(pe),((pe,Ce)=>Ce.some(te=>pe instanceof te))(pe,function fe(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(pe,Ve):pe)}function be(pe){if(pe instanceof IDBRequest)return function ne(pe){const Ce=new Promise((te,ie)=>{const _e=()=>{pe.removeEventListener("success",de),pe.removeEventListener("error",He)},de=()=>{te(be(pe.result)),_e()},He=()=>{ie(pe.error),_e()};pe.addEventListener("success",de),pe.addEventListener("error",He)});return Ce.then(te=>{te instanceof IDBCursor&&oe.set(te,pe)}).catch(()=>{}),q.set(Ce,pe),Ce}(pe);if(W.has(pe))return W.get(pe);const Ce=Ie(pe);return Ce!==pe&&(W.set(pe,Ce),q.set(Ce,pe)),Ce}const nt=pe=>q.get(pe);function rt(pe,Ce,{blocked:te,upgrade:ie,blocking:_e,terminated:de}={}){const He=indexedDB.open(pe,Ce),$e=be(He);return ie&&He.addEventListener("upgradeneeded",wt=>{ie(be(He.result),wt.oldVersion,wt.newVersion,be(He.transaction))}),te&&He.addEventListener("blocked",()=>te()),$e.then(wt=>{de&&wt.addEventListener("close",()=>de()),_e&&wt.addEventListener("versionchange",()=>_e())}).catch(()=>{}),$e}function Le(pe,{blocked:Ce}={}){const te=indexedDB.deleteDatabase(pe);return Ce&&te.addEventListener("blocked",()=>Ce()),be(te).then(()=>{})}const Fe=["get","getKey","getAll","getAllKeys","count"],Ae=["put","add","delete","clear"],Ke=new Map;function ce(pe,Ce){if(!(pe instanceof IDBDatabase)||Ce in pe||"string"!=typeof Ce)return;if(Ke.get(Ce))return Ke.get(Ce);const te=Ce.replace(/FromIndex$/,""),ie=Ce!==te,_e=Ae.includes(te);if(!(te in(ie?IDBIndex:IDBObjectStore).prototype)||!_e&&!Fe.includes(te))return;const de=function(){var He=(0,u.Z)(function*($e,...wt){const rn=this.transaction($e,_e?"readwrite":"readonly");let Jt=rn.store;return ie&&(Jt=Jt.index(wt.shift())),(yield Promise.all([Jt[te](...wt),_e&&rn.done]))[0]});return function(wt){return He.apply(this,arguments)}}();return Ke.set(Ce,de),de}!function Se(pe){Ve=pe(Ve)}(pe=>({...pe,get:(Ce,te,ie)=>ce(Ce,te)||pe.get(Ce,te,ie),has:(Ce,te)=>!!ce(Ce,te)||pe.has(Ce,te)}))},5861:(_t,Re,F)=>{function u(P,ue,fe,we,oe,ge,Ee){try{var W=P[ge](Ee),q=W.value}catch(ne){return void fe(ne)}W.done?ue(q):Promise.resolve(q).then(we,oe)}function H(P){return function(){var ue=this,fe=arguments;return new Promise(function(we,oe){var ge=P.apply(ue,fe);function Ee(q){u(ge,we,oe,Ee,W,"next",q)}function W(q){u(ge,we,oe,Ee,W,"throw",q)}Ee(void 0)})}}F.d(Re,{Z:()=>H})}},_t=>{_t(_t.s=1547)}]);